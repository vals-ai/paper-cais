function zp(n,r){for(var s=0;s<r.length;s++){const o=r[s];if(typeof o!="string"&&!Array.isArray(o)){for(const l in o)if(l!=="default"&&!(l in n)){const c=Object.getOwnPropertyDescriptor(o,l);c&&Object.defineProperty(n,l,c.get?c:{enumerable:!0,get:()=>o[l]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&o(h)}).observe(document,{childList:!0,subtree:!0});function s(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(l){if(l.ep)return;l.ep=!0;const c=s(l);fetch(l.href,c)}})();function Mp(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Qa={exports:{}},fs={},Ya={exports:{}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bd;function Bp(){if(bd)return de;bd=1;var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),h=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),w=Symbol.iterator;function x(N){return N===null||typeof N!="object"?null:(N=w&&N[w]||N["@@iterator"],typeof N=="function"?N:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,C={};function k(N,$,ie){this.props=N,this.context=$,this.refs=C,this.updater=ie||b}k.prototype.isReactComponent={},k.prototype.setState=function(N,$){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,$,"setState")},k.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function O(){}O.prototype=k.prototype;function L(N,$,ie){this.props=N,this.context=$,this.refs=C,this.updater=ie||b}var I=L.prototype=new O;I.constructor=L,E(I,k.prototype),I.isPureReactComponent=!0;var B=Array.isArray,le=Object.prototype.hasOwnProperty,se={current:null},ce={key:!0,ref:!0,__self:!0,__source:!0};function _e(N,$,ie){var V,oe={},ue=null,fe=null;if($!=null)for(V in $.ref!==void 0&&(fe=$.ref),$.key!==void 0&&(ue=""+$.key),$)le.call($,V)&&!ce.hasOwnProperty(V)&&(oe[V]=$[V]);var he=arguments.length-2;if(he===1)oe.children=ie;else if(1<he){for(var ve=Array(he),He=0;He<he;He++)ve[He]=arguments[He+2];oe.children=ve}if(N&&N.defaultProps)for(V in he=N.defaultProps,he)oe[V]===void 0&&(oe[V]=he[V]);return{$$typeof:n,type:N,key:ue,ref:fe,props:oe,_owner:se.current}}function re(N,$){return{$$typeof:n,type:N.type,key:$,ref:N.ref,props:N.props,_owner:N._owner}}function Oe(N){return typeof N=="object"&&N!==null&&N.$$typeof===n}function St(N){var $={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(ie){return $[ie]})}var Ye=/\/+/g;function Xe(N,$){return typeof N=="object"&&N!==null&&N.key!=null?St(""+N.key):$.toString(36)}function rt(N,$,ie,V,oe){var ue=typeof N;(ue==="undefined"||ue==="boolean")&&(N=null);var fe=!1;if(N===null)fe=!0;else switch(ue){case"string":case"number":fe=!0;break;case"object":switch(N.$$typeof){case n:case r:fe=!0}}if(fe)return fe=N,oe=oe(fe),N=V===""?"."+Xe(fe,0):V,B(oe)?(ie="",N!=null&&(ie=N.replace(Ye,"$&/")+"/"),rt(oe,$,ie,"",function(He){return He})):oe!=null&&(Oe(oe)&&(oe=re(oe,ie+(!oe.key||fe&&fe.key===oe.key?"":(""+oe.key).replace(Ye,"$&/")+"/")+N)),$.push(oe)),1;if(fe=0,V=V===""?".":V+":",B(N))for(var he=0;he<N.length;he++){ue=N[he];var ve=V+Xe(ue,he);fe+=rt(ue,$,ie,ve,oe)}else if(ve=x(N),typeof ve=="function")for(N=ve.call(N),he=0;!(ue=N.next()).done;)ue=ue.value,ve=V+Xe(ue,he++),fe+=rt(ue,$,ie,ve,oe);else if(ue==="object")throw $=String(N),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return fe}function ut(N,$,ie){if(N==null)return N;var V=[],oe=0;return rt(N,V,"","",function(ue){return $.call(ie,ue,oe++)}),V}function Be(N){if(N._status===-1){var $=N._result;$=$(),$.then(function(ie){(N._status===0||N._status===-1)&&(N._status=1,N._result=ie)},function(ie){(N._status===0||N._status===-1)&&(N._status=2,N._result=ie)}),N._status===-1&&(N._status=0,N._result=$)}if(N._status===1)return N._result.default;throw N._result}var xe={current:null},F={transition:null},Y={ReactCurrentDispatcher:xe,ReactCurrentBatchConfig:F,ReactCurrentOwner:se};function q(){throw Error("act(...) is not supported in production builds of React.")}return de.Children={map:ut,forEach:function(N,$,ie){ut(N,function(){$.apply(this,arguments)},ie)},count:function(N){var $=0;return ut(N,function(){$++}),$},toArray:function(N){return ut(N,function($){return $})||[]},only:function(N){if(!Oe(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},de.Component=k,de.Fragment=s,de.Profiler=l,de.PureComponent=L,de.StrictMode=o,de.Suspense=m,de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,de.act=q,de.cloneElement=function(N,$,ie){if(N==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+N+".");var V=E({},N.props),oe=N.key,ue=N.ref,fe=N._owner;if($!=null){if($.ref!==void 0&&(ue=$.ref,fe=se.current),$.key!==void 0&&(oe=""+$.key),N.type&&N.type.defaultProps)var he=N.type.defaultProps;for(ve in $)le.call($,ve)&&!ce.hasOwnProperty(ve)&&(V[ve]=$[ve]===void 0&&he!==void 0?he[ve]:$[ve])}var ve=arguments.length-2;if(ve===1)V.children=ie;else if(1<ve){he=Array(ve);for(var He=0;He<ve;He++)he[He]=arguments[He+2];V.children=he}return{$$typeof:n,type:N.type,key:oe,ref:ue,props:V,_owner:fe}},de.createContext=function(N){return N={$$typeof:h,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},N.Provider={$$typeof:c,_context:N},N.Consumer=N},de.createElement=_e,de.createFactory=function(N){var $=_e.bind(null,N);return $.type=N,$},de.createRef=function(){return{current:null}},de.forwardRef=function(N){return{$$typeof:f,render:N}},de.isValidElement=Oe,de.lazy=function(N){return{$$typeof:y,_payload:{_status:-1,_result:N},_init:Be}},de.memo=function(N,$){return{$$typeof:v,type:N,compare:$===void 0?null:$}},de.startTransition=function(N){var $=F.transition;F.transition={};try{N()}finally{F.transition=$}},de.unstable_act=q,de.useCallback=function(N,$){return xe.current.useCallback(N,$)},de.useContext=function(N){return xe.current.useContext(N)},de.useDebugValue=function(){},de.useDeferredValue=function(N){return xe.current.useDeferredValue(N)},de.useEffect=function(N,$){return xe.current.useEffect(N,$)},de.useId=function(){return xe.current.useId()},de.useImperativeHandle=function(N,$,ie){return xe.current.useImperativeHandle(N,$,ie)},de.useInsertionEffect=function(N,$){return xe.current.useInsertionEffect(N,$)},de.useLayoutEffect=function(N,$){return xe.current.useLayoutEffect(N,$)},de.useMemo=function(N,$){return xe.current.useMemo(N,$)},de.useReducer=function(N,$,ie){return xe.current.useReducer(N,$,ie)},de.useRef=function(N){return xe.current.useRef(N)},de.useState=function(N){return xe.current.useState(N)},de.useSyncExternalStore=function(N,$,ie){return xe.current.useSyncExternalStore(N,$,ie)},de.useTransition=function(){return xe.current.useTransition()},de.version="18.3.1",de}var Ed;function kl(){return Ed||(Ed=1,Ya.exports=Bp()),Ya.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jd;function Fp(){if(jd)return fs;jd=1;var n=kl(),r=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,l=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function h(f,m,v){var y,w={},x=null,b=null;v!==void 0&&(x=""+v),m.key!==void 0&&(x=""+m.key),m.ref!==void 0&&(b=m.ref);for(y in m)o.call(m,y)&&!c.hasOwnProperty(y)&&(w[y]=m[y]);if(f&&f.defaultProps)for(y in m=f.defaultProps,m)w[y]===void 0&&(w[y]=m[y]);return{$$typeof:r,type:f,key:x,ref:b,props:w,_owner:l.current}}return fs.Fragment=s,fs.jsx=h,fs.jsxs=h,fs}var Cd;function Wp(){return Cd||(Cd=1,Qa.exports=Fp()),Qa.exports}var p=Wp(),A=kl();const qp=Mp(A),Vp=zp({__proto__:null,default:qp},[A]);var Di={},Xa={exports:{}},lt={},Za={exports:{}},el={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nd;function Hp(){return Nd||(Nd=1,(function(n){function r(F,Y){var q=F.length;F.push(Y);e:for(;0<q;){var N=q-1>>>1,$=F[N];if(0<l($,Y))F[N]=Y,F[q]=$,q=N;else break e}}function s(F){return F.length===0?null:F[0]}function o(F){if(F.length===0)return null;var Y=F[0],q=F.pop();if(q!==Y){F[0]=q;e:for(var N=0,$=F.length,ie=$>>>1;N<ie;){var V=2*(N+1)-1,oe=F[V],ue=V+1,fe=F[ue];if(0>l(oe,q))ue<$&&0>l(fe,oe)?(F[N]=fe,F[ue]=q,N=ue):(F[N]=oe,F[V]=q,N=V);else if(ue<$&&0>l(fe,q))F[N]=fe,F[ue]=q,N=ue;else break e}}return Y}function l(F,Y){var q=F.sortIndex-Y.sortIndex;return q!==0?q:F.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;n.unstable_now=function(){return c.now()}}else{var h=Date,f=h.now();n.unstable_now=function(){return h.now()-f}}var m=[],v=[],y=1,w=null,x=3,b=!1,E=!1,C=!1,k=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(F){for(var Y=s(v);Y!==null;){if(Y.callback===null)o(v);else if(Y.startTime<=F)o(v),Y.sortIndex=Y.expirationTime,r(m,Y);else break;Y=s(v)}}function B(F){if(C=!1,I(F),!E)if(s(m)!==null)E=!0,Be(le);else{var Y=s(v);Y!==null&&xe(B,Y.startTime-F)}}function le(F,Y){E=!1,C&&(C=!1,O(_e),_e=-1),b=!0;var q=x;try{for(I(Y),w=s(m);w!==null&&(!(w.expirationTime>Y)||F&&!St());){var N=w.callback;if(typeof N=="function"){w.callback=null,x=w.priorityLevel;var $=N(w.expirationTime<=Y);Y=n.unstable_now(),typeof $=="function"?w.callback=$:w===s(m)&&o(m),I(Y)}else o(m);w=s(m)}if(w!==null)var ie=!0;else{var V=s(v);V!==null&&xe(B,V.startTime-Y),ie=!1}return ie}finally{w=null,x=q,b=!1}}var se=!1,ce=null,_e=-1,re=5,Oe=-1;function St(){return!(n.unstable_now()-Oe<re)}function Ye(){if(ce!==null){var F=n.unstable_now();Oe=F;var Y=!0;try{Y=ce(!0,F)}finally{Y?Xe():(se=!1,ce=null)}}else se=!1}var Xe;if(typeof L=="function")Xe=function(){L(Ye)};else if(typeof MessageChannel<"u"){var rt=new MessageChannel,ut=rt.port2;rt.port1.onmessage=Ye,Xe=function(){ut.postMessage(null)}}else Xe=function(){k(Ye,0)};function Be(F){ce=F,se||(se=!0,Xe())}function xe(F,Y){_e=k(function(){F(n.unstable_now())},Y)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(F){F.callback=null},n.unstable_continueExecution=function(){E||b||(E=!0,Be(le))},n.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):re=0<F?Math.floor(1e3/F):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_getFirstCallbackNode=function(){return s(m)},n.unstable_next=function(F){switch(x){case 1:case 2:case 3:var Y=3;break;default:Y=x}var q=x;x=Y;try{return F()}finally{x=q}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(F,Y){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var q=x;x=F;try{return Y()}finally{x=q}},n.unstable_scheduleCallback=function(F,Y,q){var N=n.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?N+q:N):q=N,F){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=q+$,F={id:y++,callback:Y,priorityLevel:F,startTime:q,expirationTime:$,sortIndex:-1},q>N?(F.sortIndex=q,r(v,F),s(m)===null&&F===s(v)&&(C?(O(_e),_e=-1):C=!0,xe(B,q-N))):(F.sortIndex=$,r(m,F),E||b||(E=!0,Be(le))),F},n.unstable_shouldYield=St,n.unstable_wrapCallback=function(F){var Y=x;return function(){var q=x;x=Y;try{return F.apply(this,arguments)}finally{x=q}}}})(el)),el}var Td;function Kp(){return Td||(Td=1,Za.exports=Hp()),Za.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rd;function Gp(){if(Rd)return lt;Rd=1;var n=kl(),r=Kp();function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,l={};function c(e,t){h(e,t),h(e+"Capture",t)}function h(e,t){for(l[e]=t,e=0;e<t.length;e++)o.add(t[e])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},w={};function x(e){return m.call(w,e)?!0:m.call(y,e)?!1:v.test(e)?w[e]=!0:(y[e]=!0,!1)}function b(e,t,i,a){if(i!==null&&i.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function E(e,t,i,a){if(t===null||typeof t>"u"||b(e,t,i,a))return!0;if(a)return!1;if(i!==null)switch(i.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function C(e,t,i,a,u,d,g){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=u,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=d,this.removeEmptyString=g}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){k[e]=new C(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];k[t]=new C(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){k[e]=new C(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){k[e]=new C(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){k[e]=new C(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){k[e]=new C(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){k[e]=new C(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){k[e]=new C(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){k[e]=new C(e,5,!1,e.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function L(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(O,L);k[t]=new C(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(O,L);k[t]=new C(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(O,L);k[t]=new C(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){k[e]=new C(e,1,!1,e.toLowerCase(),null,!1,!1)}),k.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){k[e]=new C(e,1,!1,e.toLowerCase(),null,!0,!0)});function I(e,t,i,a){var u=k.hasOwnProperty(t)?k[t]:null;(u!==null?u.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(E(t,i,u,a)&&(i=null),a||u===null?x(t)&&(i===null?e.removeAttribute(t):e.setAttribute(t,""+i)):u.mustUseProperty?e[u.propertyName]=i===null?u.type===3?!1:"":i:(t=u.attributeName,a=u.attributeNamespace,i===null?e.removeAttribute(t):(u=u.type,i=u===3||u===4&&i===!0?"":""+i,a?e.setAttributeNS(a,t,i):e.setAttribute(t,i))))}var B=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,le=Symbol.for("react.element"),se=Symbol.for("react.portal"),ce=Symbol.for("react.fragment"),_e=Symbol.for("react.strict_mode"),re=Symbol.for("react.profiler"),Oe=Symbol.for("react.provider"),St=Symbol.for("react.context"),Ye=Symbol.for("react.forward_ref"),Xe=Symbol.for("react.suspense"),rt=Symbol.for("react.suspense_list"),ut=Symbol.for("react.memo"),Be=Symbol.for("react.lazy"),xe=Symbol.for("react.offscreen"),F=Symbol.iterator;function Y(e){return e===null||typeof e!="object"?null:(e=F&&e[F]||e["@@iterator"],typeof e=="function"?e:null)}var q=Object.assign,N;function $(e){if(N===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);N=t&&t[1]||""}return`
`+N+e}var ie=!1;function V(e,t){if(!e||ie)return"";ie=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(P){var a=P}Reflect.construct(e,[],t)}else{try{t.call()}catch(P){a=P}e.call(t.prototype)}else{try{throw Error()}catch(P){a=P}e()}}catch(P){if(P&&a&&typeof P.stack=="string"){for(var u=P.stack.split(`
`),d=a.stack.split(`
`),g=u.length-1,_=d.length-1;1<=g&&0<=_&&u[g]!==d[_];)_--;for(;1<=g&&0<=_;g--,_--)if(u[g]!==d[_]){if(g!==1||_!==1)do if(g--,_--,0>_||u[g]!==d[_]){var S=`
`+u[g].replace(" at new "," at ");return e.displayName&&S.includes("<anonymous>")&&(S=S.replace("<anonymous>",e.displayName)),S}while(1<=g&&0<=_);break}}}finally{ie=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?$(e):""}function oe(e){switch(e.tag){case 5:return $(e.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1),e;case 11:return e=V(e.type.render,!1),e;case 1:return e=V(e.type,!0),e;default:return""}}function ue(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ce:return"Fragment";case se:return"Portal";case re:return"Profiler";case _e:return"StrictMode";case Xe:return"Suspense";case rt:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case St:return(e.displayName||"Context")+".Consumer";case Oe:return(e._context.displayName||"Context")+".Provider";case Ye:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ut:return t=e.displayName||null,t!==null?t:ue(e.type)||"Memo";case Be:t=e._payload,e=e._init;try{return ue(e(t))}catch{}}return null}function fe(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ue(t);case 8:return t===_e?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function he(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ve(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function He(e){var t=ve(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var u=i.get,d=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(g){a=""+g,d.call(this,g)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ns(e){e._valueTracker||(e._valueTracker=He(e))}function Rl(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),a="";return e&&(a=ve(e)?e.checked?"true":"false":e.value),e=a,e!==i?(t.setValue(e),!0):!1}function Ts(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ro(e,t){var i=t.checked;return q({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function Pl(e,t){var i=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;i=he(t.value!=null?t.value:i),e._wrapperState={initialChecked:a,initialValue:i,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ol(e,t){t=t.checked,t!=null&&I(e,"checked",t,!1)}function no(e,t){Ol(e,t);var i=he(t.value),a=t.type;if(i!=null)a==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?so(e,t.type,i):t.hasOwnProperty("defaultValue")&&so(e,t.type,he(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Al(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function so(e,t,i){(t!=="number"||Ts(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var Nn=Array.isArray;function Br(e,t,i,a){if(e=e.options,t){t={};for(var u=0;u<i.length;u++)t["$"+i[u]]=!0;for(i=0;i<e.length;i++)u=t.hasOwnProperty("$"+e[i].value),e[i].selected!==u&&(e[i].selected=u),u&&a&&(e[i].defaultSelected=!0)}else{for(i=""+he(i),t=null,u=0;u<e.length;u++){if(e[u].value===i){e[u].selected=!0,a&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function io(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(s(91));return q({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Il(e,t){var i=t.value;if(i==null){if(i=t.children,t=t.defaultValue,i!=null){if(t!=null)throw Error(s(92));if(Nn(i)){if(1<i.length)throw Error(s(93));i=i[0]}t=i}t==null&&(t=""),i=t}e._wrapperState={initialValue:he(i)}}function Ll(e,t){var i=he(t.value),a=he(t.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),t.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),a!=null&&(e.defaultValue=""+a)}function $l(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ul(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ul(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Rs,Dl=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,i,a,u){MSApp.execUnsafeLocalFunction(function(){return e(t,i,a,u)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Rs=Rs||document.createElement("div"),Rs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Rs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Tn(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var Rn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Fh=["Webkit","ms","Moz","O"];Object.keys(Rn).forEach(function(e){Fh.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Rn[t]=Rn[e]})});function zl(e,t,i){return t==null||typeof t=="boolean"||t===""?"":i||typeof t!="number"||t===0||Rn.hasOwnProperty(e)&&Rn[e]?(""+t).trim():t+"px"}function Ml(e,t){e=e.style;for(var i in t)if(t.hasOwnProperty(i)){var a=i.indexOf("--")===0,u=zl(i,t[i],a);i==="float"&&(i="cssFloat"),a?e.setProperty(i,u):e[i]=u}}var Wh=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ao(e,t){if(t){if(Wh[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(s(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(s(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(t.style!=null&&typeof t.style!="object")throw Error(s(62))}}function lo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uo=null;function co(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ho=null,Fr=null,Wr=null;function Bl(e){if(e=Xn(e)){if(typeof ho!="function")throw Error(s(280));var t=e.stateNode;t&&(t=Zs(t),ho(e.stateNode,e.type,t))}}function Fl(e){Fr?Wr?Wr.push(e):Wr=[e]:Fr=e}function Wl(){if(Fr){var e=Fr,t=Wr;if(Wr=Fr=null,Bl(e),t)for(e=0;e<t.length;e++)Bl(t[e])}}function ql(e,t){return e(t)}function Vl(){}var fo=!1;function Hl(e,t,i){if(fo)return e(t,i);fo=!0;try{return ql(e,t,i)}finally{fo=!1,(Fr!==null||Wr!==null)&&(Vl(),Wl())}}function Pn(e,t){var i=e.stateNode;if(i===null)return null;var a=Zs(i);if(a===null)return null;i=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(s(231,t,typeof i));return i}var po=!1;if(f)try{var On={};Object.defineProperty(On,"passive",{get:function(){po=!0}}),window.addEventListener("test",On,On),window.removeEventListener("test",On,On)}catch{po=!1}function qh(e,t,i,a,u,d,g,_,S){var P=Array.prototype.slice.call(arguments,3);try{t.apply(i,P)}catch(D){this.onError(D)}}var An=!1,Ps=null,Os=!1,mo=null,Vh={onError:function(e){An=!0,Ps=e}};function Hh(e,t,i,a,u,d,g,_,S){An=!1,Ps=null,qh.apply(Vh,arguments)}function Kh(e,t,i,a,u,d,g,_,S){if(Hh.apply(this,arguments),An){if(An){var P=Ps;An=!1,Ps=null}else throw Error(s(198));Os||(Os=!0,mo=P)}}function xr(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function Kl(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Gl(e){if(xr(e)!==e)throw Error(s(188))}function Gh(e){var t=e.alternate;if(!t){if(t=xr(e),t===null)throw Error(s(188));return t!==e?null:e}for(var i=e,a=t;;){var u=i.return;if(u===null)break;var d=u.alternate;if(d===null){if(a=u.return,a!==null){i=a;continue}break}if(u.child===d.child){for(d=u.child;d;){if(d===i)return Gl(u),e;if(d===a)return Gl(u),t;d=d.sibling}throw Error(s(188))}if(i.return!==a.return)i=u,a=d;else{for(var g=!1,_=u.child;_;){if(_===i){g=!0,i=u,a=d;break}if(_===a){g=!0,a=u,i=d;break}_=_.sibling}if(!g){for(_=d.child;_;){if(_===i){g=!0,i=d,a=u;break}if(_===a){g=!0,a=d,i=u;break}_=_.sibling}if(!g)throw Error(s(189))}}if(i.alternate!==a)throw Error(s(190))}if(i.tag!==3)throw Error(s(188));return i.stateNode.current===i?e:t}function Jl(e){return e=Gh(e),e!==null?Ql(e):null}function Ql(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ql(e);if(t!==null)return t;e=e.sibling}return null}var Yl=r.unstable_scheduleCallback,Xl=r.unstable_cancelCallback,Jh=r.unstable_shouldYield,Qh=r.unstable_requestPaint,Te=r.unstable_now,Yh=r.unstable_getCurrentPriorityLevel,go=r.unstable_ImmediatePriority,Zl=r.unstable_UserBlockingPriority,As=r.unstable_NormalPriority,Xh=r.unstable_LowPriority,eu=r.unstable_IdlePriority,Is=null,It=null;function Zh(e){if(It&&typeof It.onCommitFiberRoot=="function")try{It.onCommitFiberRoot(Is,e,void 0,(e.current.flags&128)===128)}catch{}}var bt=Math.clz32?Math.clz32:rf,ef=Math.log,tf=Math.LN2;function rf(e){return e>>>=0,e===0?32:31-(ef(e)/tf|0)|0}var Ls=64,$s=4194304;function In(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Us(e,t){var i=e.pendingLanes;if(i===0)return 0;var a=0,u=e.suspendedLanes,d=e.pingedLanes,g=i&268435455;if(g!==0){var _=g&~u;_!==0?a=In(_):(d&=g,d!==0&&(a=In(d)))}else g=i&~u,g!==0?a=In(g):d!==0&&(a=In(d));if(a===0)return 0;if(t!==0&&t!==a&&(t&u)===0&&(u=a&-a,d=t&-t,u>=d||u===16&&(d&4194240)!==0))return t;if((a&4)!==0&&(a|=i&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)i=31-bt(t),u=1<<i,a|=e[i],t&=~u;return a}function nf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sf(e,t){for(var i=e.suspendedLanes,a=e.pingedLanes,u=e.expirationTimes,d=e.pendingLanes;0<d;){var g=31-bt(d),_=1<<g,S=u[g];S===-1?((_&i)===0||(_&a)!==0)&&(u[g]=nf(_,t)):S<=t&&(e.expiredLanes|=_),d&=~_}}function vo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function tu(){var e=Ls;return Ls<<=1,(Ls&4194240)===0&&(Ls=64),e}function yo(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function Ln(e,t,i){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-bt(t),e[t]=i}function of(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<i;){var u=31-bt(i),d=1<<u;t[u]=0,a[u]=-1,e[u]=-1,i&=~d}}function wo(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var a=31-bt(i),u=1<<a;u&t|e[a]&t&&(e[a]|=t),i&=~u}}var ge=0;function ru(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var nu,_o,su,iu,ou,xo=!1,Ds=[],Yt=null,Xt=null,Zt=null,$n=new Map,Un=new Map,er=[],af="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function au(e,t){switch(e){case"focusin":case"focusout":Yt=null;break;case"dragenter":case"dragleave":Xt=null;break;case"mouseover":case"mouseout":Zt=null;break;case"pointerover":case"pointerout":$n.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Un.delete(t.pointerId)}}function Dn(e,t,i,a,u,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:i,eventSystemFlags:a,nativeEvent:d,targetContainers:[u]},t!==null&&(t=Xn(t),t!==null&&_o(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function lf(e,t,i,a,u){switch(t){case"focusin":return Yt=Dn(Yt,e,t,i,a,u),!0;case"dragenter":return Xt=Dn(Xt,e,t,i,a,u),!0;case"mouseover":return Zt=Dn(Zt,e,t,i,a,u),!0;case"pointerover":var d=u.pointerId;return $n.set(d,Dn($n.get(d)||null,e,t,i,a,u)),!0;case"gotpointercapture":return d=u.pointerId,Un.set(d,Dn(Un.get(d)||null,e,t,i,a,u)),!0}return!1}function lu(e){var t=kr(e.target);if(t!==null){var i=xr(t);if(i!==null){if(t=i.tag,t===13){if(t=Kl(i),t!==null){e.blockedOn=t,ou(e.priority,function(){su(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=So(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var a=new i.constructor(i.type,i);uo=a,i.target.dispatchEvent(a),uo=null}else return t=Xn(i),t!==null&&_o(t),e.blockedOn=i,!1;t.shift()}return!0}function uu(e,t,i){zs(e)&&i.delete(t)}function uf(){xo=!1,Yt!==null&&zs(Yt)&&(Yt=null),Xt!==null&&zs(Xt)&&(Xt=null),Zt!==null&&zs(Zt)&&(Zt=null),$n.forEach(uu),Un.forEach(uu)}function zn(e,t){e.blockedOn===t&&(e.blockedOn=null,xo||(xo=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,uf)))}function Mn(e){function t(u){return zn(u,e)}if(0<Ds.length){zn(Ds[0],e);for(var i=1;i<Ds.length;i++){var a=Ds[i];a.blockedOn===e&&(a.blockedOn=null)}}for(Yt!==null&&zn(Yt,e),Xt!==null&&zn(Xt,e),Zt!==null&&zn(Zt,e),$n.forEach(t),Un.forEach(t),i=0;i<er.length;i++)a=er[i],a.blockedOn===e&&(a.blockedOn=null);for(;0<er.length&&(i=er[0],i.blockedOn===null);)lu(i),i.blockedOn===null&&er.shift()}var qr=B.ReactCurrentBatchConfig,Ms=!0;function cf(e,t,i,a){var u=ge,d=qr.transition;qr.transition=null;try{ge=1,ko(e,t,i,a)}finally{ge=u,qr.transition=d}}function df(e,t,i,a){var u=ge,d=qr.transition;qr.transition=null;try{ge=4,ko(e,t,i,a)}finally{ge=u,qr.transition=d}}function ko(e,t,i,a){if(Ms){var u=So(e,t,i,a);if(u===null)Mo(e,t,a,Bs,i),au(e,a);else if(lf(u,e,t,i,a))a.stopPropagation();else if(au(e,a),t&4&&-1<af.indexOf(e)){for(;u!==null;){var d=Xn(u);if(d!==null&&nu(d),d=So(e,t,i,a),d===null&&Mo(e,t,a,Bs,i),d===u)break;u=d}u!==null&&a.stopPropagation()}else Mo(e,t,a,null,i)}}var Bs=null;function So(e,t,i,a){if(Bs=null,e=co(a),e=kr(e),e!==null)if(t=xr(e),t===null)e=null;else if(i=t.tag,i===13){if(e=Kl(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Bs=e,null}function cu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Yh()){case go:return 1;case Zl:return 4;case As:case Xh:return 16;case eu:return 536870912;default:return 16}default:return 16}}var tr=null,bo=null,Fs=null;function du(){if(Fs)return Fs;var e,t=bo,i=t.length,a,u="value"in tr?tr.value:tr.textContent,d=u.length;for(e=0;e<i&&t[e]===u[e];e++);var g=i-e;for(a=1;a<=g&&t[i-a]===u[d-a];a++);return Fs=u.slice(e,1<a?1-a:void 0)}function Ws(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function qs(){return!0}function hu(){return!1}function ct(e){function t(i,a,u,d,g){this._reactName=i,this._targetInst=u,this.type=a,this.nativeEvent=d,this.target=g,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(i=e[_],this[_]=i?i(d):d[_]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?qs:hu,this.isPropagationStopped=hu,this}return q(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=qs)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=qs)},persist:function(){},isPersistent:qs}),t}var Vr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Eo=ct(Vr),Bn=q({},Vr,{view:0,detail:0}),hf=ct(Bn),jo,Co,Fn,Vs=q({},Bn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:To,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fn&&(Fn&&e.type==="mousemove"?(jo=e.screenX-Fn.screenX,Co=e.screenY-Fn.screenY):Co=jo=0,Fn=e),jo)},movementY:function(e){return"movementY"in e?e.movementY:Co}}),fu=ct(Vs),ff=q({},Vs,{dataTransfer:0}),pf=ct(ff),mf=q({},Bn,{relatedTarget:0}),No=ct(mf),gf=q({},Vr,{animationName:0,elapsedTime:0,pseudoElement:0}),vf=ct(gf),yf=q({},Vr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wf=ct(yf),_f=q({},Vr,{data:0}),pu=ct(_f),xf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bf(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Sf[e])?!!t[e]:!1}function To(){return bf}var Ef=q({},Bn,{key:function(e){if(e.key){var t=xf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ws(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?kf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:To,charCode:function(e){return e.type==="keypress"?Ws(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ws(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),jf=ct(Ef),Cf=q({},Vs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mu=ct(Cf),Nf=q({},Bn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:To}),Tf=ct(Nf),Rf=q({},Vr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pf=ct(Rf),Of=q({},Vs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Af=ct(Of),If=[9,13,27,32],Ro=f&&"CompositionEvent"in window,Wn=null;f&&"documentMode"in document&&(Wn=document.documentMode);var Lf=f&&"TextEvent"in window&&!Wn,gu=f&&(!Ro||Wn&&8<Wn&&11>=Wn),vu=" ",yu=!1;function wu(e,t){switch(e){case"keyup":return If.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _u(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Hr=!1;function $f(e,t){switch(e){case"compositionend":return _u(t);case"keypress":return t.which!==32?null:(yu=!0,vu);case"textInput":return e=t.data,e===vu&&yu?null:e;default:return null}}function Uf(e,t){if(Hr)return e==="compositionend"||!Ro&&wu(e,t)?(e=du(),Fs=bo=tr=null,Hr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return gu&&t.locale!=="ko"?null:t.data;default:return null}}var Df={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Df[e.type]:t==="textarea"}function ku(e,t,i,a){Fl(a),t=Qs(t,"onChange"),0<t.length&&(i=new Eo("onChange","change",null,i,a),e.push({event:i,listeners:t}))}var qn=null,Vn=null;function zf(e){Mu(e,0)}function Hs(e){var t=Yr(e);if(Rl(t))return e}function Mf(e,t){if(e==="change")return t}var Su=!1;if(f){var Po;if(f){var Oo="oninput"in document;if(!Oo){var bu=document.createElement("div");bu.setAttribute("oninput","return;"),Oo=typeof bu.oninput=="function"}Po=Oo}else Po=!1;Su=Po&&(!document.documentMode||9<document.documentMode)}function Eu(){qn&&(qn.detachEvent("onpropertychange",ju),Vn=qn=null)}function ju(e){if(e.propertyName==="value"&&Hs(Vn)){var t=[];ku(t,Vn,e,co(e)),Hl(zf,t)}}function Bf(e,t,i){e==="focusin"?(Eu(),qn=t,Vn=i,qn.attachEvent("onpropertychange",ju)):e==="focusout"&&Eu()}function Ff(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Hs(Vn)}function Wf(e,t){if(e==="click")return Hs(t)}function qf(e,t){if(e==="input"||e==="change")return Hs(t)}function Vf(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Et=typeof Object.is=="function"?Object.is:Vf;function Hn(e,t){if(Et(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(a=0;a<i.length;a++){var u=i[a];if(!m.call(t,u)||!Et(e[u],t[u]))return!1}return!0}function Cu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Nu(e,t){var i=Cu(e);e=0;for(var a;i;){if(i.nodeType===3){if(a=e+i.textContent.length,e<=t&&a>=t)return{node:i,offset:t-e};e=a}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Cu(i)}}function Tu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Tu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ru(){for(var e=window,t=Ts();t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=Ts(e.document)}return t}function Ao(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Hf(e){var t=Ru(),i=e.focusedElem,a=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&Tu(i.ownerDocument.documentElement,i)){if(a!==null&&Ao(i)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if(e=(t=i.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var u=i.textContent.length,d=Math.min(a.start,u);a=a.end===void 0?d:Math.min(a.end,u),!e.extend&&d>a&&(u=a,a=d,d=u),u=Nu(i,d);var g=Nu(i,a);u&&g&&(e.rangeCount!==1||e.anchorNode!==u.node||e.anchorOffset!==u.offset||e.focusNode!==g.node||e.focusOffset!==g.offset)&&(t=t.createRange(),t.setStart(u.node,u.offset),e.removeAllRanges(),d>a?(e.addRange(t),e.extend(g.node,g.offset)):(t.setEnd(g.node,g.offset),e.addRange(t)))}}for(t=[],e=i;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)e=t[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Kf=f&&"documentMode"in document&&11>=document.documentMode,Kr=null,Io=null,Kn=null,Lo=!1;function Pu(e,t,i){var a=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Lo||Kr==null||Kr!==Ts(a)||(a=Kr,"selectionStart"in a&&Ao(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Kn&&Hn(Kn,a)||(Kn=a,a=Qs(Io,"onSelect"),0<a.length&&(t=new Eo("onSelect","select",null,t,i),e.push({event:t,listeners:a}),t.target=Kr)))}function Ks(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var Gr={animationend:Ks("Animation","AnimationEnd"),animationiteration:Ks("Animation","AnimationIteration"),animationstart:Ks("Animation","AnimationStart"),transitionend:Ks("Transition","TransitionEnd")},$o={},Ou={};f&&(Ou=document.createElement("div").style,"AnimationEvent"in window||(delete Gr.animationend.animation,delete Gr.animationiteration.animation,delete Gr.animationstart.animation),"TransitionEvent"in window||delete Gr.transitionend.transition);function Gs(e){if($o[e])return $o[e];if(!Gr[e])return e;var t=Gr[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in Ou)return $o[e]=t[i];return e}var Au=Gs("animationend"),Iu=Gs("animationiteration"),Lu=Gs("animationstart"),$u=Gs("transitionend"),Uu=new Map,Du="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rr(e,t){Uu.set(e,t),c(t,[e])}for(var Uo=0;Uo<Du.length;Uo++){var Do=Du[Uo],Gf=Do.toLowerCase(),Jf=Do[0].toUpperCase()+Do.slice(1);rr(Gf,"on"+Jf)}rr(Au,"onAnimationEnd"),rr(Iu,"onAnimationIteration"),rr(Lu,"onAnimationStart"),rr("dblclick","onDoubleClick"),rr("focusin","onFocus"),rr("focusout","onBlur"),rr($u,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qf=new Set("cancel close invalid load scroll toggle".split(" ").concat(Gn));function zu(e,t,i){var a=e.type||"unknown-event";e.currentTarget=i,Kh(a,t,void 0,e),e.currentTarget=null}function Mu(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var a=e[i],u=a.event;a=a.listeners;e:{var d=void 0;if(t)for(var g=a.length-1;0<=g;g--){var _=a[g],S=_.instance,P=_.currentTarget;if(_=_.listener,S!==d&&u.isPropagationStopped())break e;zu(u,_,P),d=S}else for(g=0;g<a.length;g++){if(_=a[g],S=_.instance,P=_.currentTarget,_=_.listener,S!==d&&u.isPropagationStopped())break e;zu(u,_,P),d=S}}}if(Os)throw e=mo,Os=!1,mo=null,e}function ke(e,t){var i=t[Ho];i===void 0&&(i=t[Ho]=new Set);var a=e+"__bubble";i.has(a)||(Bu(t,e,2,!1),i.add(a))}function zo(e,t,i){var a=0;t&&(a|=4),Bu(i,e,a,t)}var Js="_reactListening"+Math.random().toString(36).slice(2);function Jn(e){if(!e[Js]){e[Js]=!0,o.forEach(function(i){i!=="selectionchange"&&(Qf.has(i)||zo(i,!1,e),zo(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Js]||(t[Js]=!0,zo("selectionchange",!1,t))}}function Bu(e,t,i,a){switch(cu(t)){case 1:var u=cf;break;case 4:u=df;break;default:u=ko}i=u.bind(null,t,i,e),u=void 0,!po||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),a?u!==void 0?e.addEventListener(t,i,{capture:!0,passive:u}):e.addEventListener(t,i,!0):u!==void 0?e.addEventListener(t,i,{passive:u}):e.addEventListener(t,i,!1)}function Mo(e,t,i,a,u){var d=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var g=a.tag;if(g===3||g===4){var _=a.stateNode.containerInfo;if(_===u||_.nodeType===8&&_.parentNode===u)break;if(g===4)for(g=a.return;g!==null;){var S=g.tag;if((S===3||S===4)&&(S=g.stateNode.containerInfo,S===u||S.nodeType===8&&S.parentNode===u))return;g=g.return}for(;_!==null;){if(g=kr(_),g===null)return;if(S=g.tag,S===5||S===6){a=d=g;continue e}_=_.parentNode}}a=a.return}Hl(function(){var P=d,D=co(i),z=[];e:{var U=Uu.get(e);if(U!==void 0){var W=Eo,K=e;switch(e){case"keypress":if(Ws(i)===0)break e;case"keydown":case"keyup":W=jf;break;case"focusin":K="focus",W=No;break;case"focusout":K="blur",W=No;break;case"beforeblur":case"afterblur":W=No;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=fu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=pf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=Tf;break;case Au:case Iu:case Lu:W=vf;break;case $u:W=Pf;break;case"scroll":W=hf;break;case"wheel":W=Af;break;case"copy":case"cut":case"paste":W=wf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=mu}var G=(t&4)!==0,Re=!G&&e==="scroll",T=G?U!==null?U+"Capture":null:U;G=[];for(var j=P,R;j!==null;){R=j;var M=R.stateNode;if(R.tag===5&&M!==null&&(R=M,T!==null&&(M=Pn(j,T),M!=null&&G.push(Qn(j,M,R)))),Re)break;j=j.return}0<G.length&&(U=new W(U,K,null,i,D),z.push({event:U,listeners:G}))}}if((t&7)===0){e:{if(U=e==="mouseover"||e==="pointerover",W=e==="mouseout"||e==="pointerout",U&&i!==uo&&(K=i.relatedTarget||i.fromElement)&&(kr(K)||K[Mt]))break e;if((W||U)&&(U=D.window===D?D:(U=D.ownerDocument)?U.defaultView||U.parentWindow:window,W?(K=i.relatedTarget||i.toElement,W=P,K=K?kr(K):null,K!==null&&(Re=xr(K),K!==Re||K.tag!==5&&K.tag!==6)&&(K=null)):(W=null,K=P),W!==K)){if(G=fu,M="onMouseLeave",T="onMouseEnter",j="mouse",(e==="pointerout"||e==="pointerover")&&(G=mu,M="onPointerLeave",T="onPointerEnter",j="pointer"),Re=W==null?U:Yr(W),R=K==null?U:Yr(K),U=new G(M,j+"leave",W,i,D),U.target=Re,U.relatedTarget=R,M=null,kr(D)===P&&(G=new G(T,j+"enter",K,i,D),G.target=R,G.relatedTarget=Re,M=G),Re=M,W&&K)t:{for(G=W,T=K,j=0,R=G;R;R=Jr(R))j++;for(R=0,M=T;M;M=Jr(M))R++;for(;0<j-R;)G=Jr(G),j--;for(;0<R-j;)T=Jr(T),R--;for(;j--;){if(G===T||T!==null&&G===T.alternate)break t;G=Jr(G),T=Jr(T)}G=null}else G=null;W!==null&&Fu(z,U,W,G,!1),K!==null&&Re!==null&&Fu(z,Re,K,G,!0)}}e:{if(U=P?Yr(P):window,W=U.nodeName&&U.nodeName.toLowerCase(),W==="select"||W==="input"&&U.type==="file")var J=Mf;else if(xu(U))if(Su)J=qf;else{J=Ff;var X=Bf}else(W=U.nodeName)&&W.toLowerCase()==="input"&&(U.type==="checkbox"||U.type==="radio")&&(J=Wf);if(J&&(J=J(e,P))){ku(z,J,i,D);break e}X&&X(e,U,P),e==="focusout"&&(X=U._wrapperState)&&X.controlled&&U.type==="number"&&so(U,"number",U.value)}switch(X=P?Yr(P):window,e){case"focusin":(xu(X)||X.contentEditable==="true")&&(Kr=X,Io=P,Kn=null);break;case"focusout":Kn=Io=Kr=null;break;case"mousedown":Lo=!0;break;case"contextmenu":case"mouseup":case"dragend":Lo=!1,Pu(z,i,D);break;case"selectionchange":if(Kf)break;case"keydown":case"keyup":Pu(z,i,D)}var Z;if(Ro)e:{switch(e){case"compositionstart":var ne="onCompositionStart";break e;case"compositionend":ne="onCompositionEnd";break e;case"compositionupdate":ne="onCompositionUpdate";break e}ne=void 0}else Hr?wu(e,i)&&(ne="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(ne="onCompositionStart");ne&&(gu&&i.locale!=="ko"&&(Hr||ne!=="onCompositionStart"?ne==="onCompositionEnd"&&Hr&&(Z=du()):(tr=D,bo="value"in tr?tr.value:tr.textContent,Hr=!0)),X=Qs(P,ne),0<X.length&&(ne=new pu(ne,e,null,i,D),z.push({event:ne,listeners:X}),Z?ne.data=Z:(Z=_u(i),Z!==null&&(ne.data=Z)))),(Z=Lf?$f(e,i):Uf(e,i))&&(P=Qs(P,"onBeforeInput"),0<P.length&&(D=new pu("onBeforeInput","beforeinput",null,i,D),z.push({event:D,listeners:P}),D.data=Z))}Mu(z,t)})}function Qn(e,t,i){return{instance:e,listener:t,currentTarget:i}}function Qs(e,t){for(var i=t+"Capture",a=[];e!==null;){var u=e,d=u.stateNode;u.tag===5&&d!==null&&(u=d,d=Pn(e,i),d!=null&&a.unshift(Qn(e,d,u)),d=Pn(e,t),d!=null&&a.push(Qn(e,d,u))),e=e.return}return a}function Jr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Fu(e,t,i,a,u){for(var d=t._reactName,g=[];i!==null&&i!==a;){var _=i,S=_.alternate,P=_.stateNode;if(S!==null&&S===a)break;_.tag===5&&P!==null&&(_=P,u?(S=Pn(i,d),S!=null&&g.unshift(Qn(i,S,_))):u||(S=Pn(i,d),S!=null&&g.push(Qn(i,S,_)))),i=i.return}g.length!==0&&e.push({event:t,listeners:g})}var Yf=/\r\n?/g,Xf=/\u0000|\uFFFD/g;function Wu(e){return(typeof e=="string"?e:""+e).replace(Yf,`
`).replace(Xf,"")}function Ys(e,t,i){if(t=Wu(t),Wu(e)!==t&&i)throw Error(s(425))}function Xs(){}var Bo=null,Fo=null;function Wo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var qo=typeof setTimeout=="function"?setTimeout:void 0,Zf=typeof clearTimeout=="function"?clearTimeout:void 0,qu=typeof Promise=="function"?Promise:void 0,ep=typeof queueMicrotask=="function"?queueMicrotask:typeof qu<"u"?function(e){return qu.resolve(null).then(e).catch(tp)}:qo;function tp(e){setTimeout(function(){throw e})}function Vo(e,t){var i=t,a=0;do{var u=i.nextSibling;if(e.removeChild(i),u&&u.nodeType===8)if(i=u.data,i==="/$"){if(a===0){e.removeChild(u),Mn(t);return}a--}else i!=="$"&&i!=="$?"&&i!=="$!"||a++;i=u}while(i);Mn(t)}function nr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Vu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}var Qr=Math.random().toString(36).slice(2),Lt="__reactFiber$"+Qr,Yn="__reactProps$"+Qr,Mt="__reactContainer$"+Qr,Ho="__reactEvents$"+Qr,rp="__reactListeners$"+Qr,np="__reactHandles$"+Qr;function kr(e){var t=e[Lt];if(t)return t;for(var i=e.parentNode;i;){if(t=i[Mt]||i[Lt]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=Vu(e);e!==null;){if(i=e[Lt])return i;e=Vu(e)}return t}e=i,i=e.parentNode}return null}function Xn(e){return e=e[Lt]||e[Mt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Yr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(s(33))}function Zs(e){return e[Yn]||null}var Ko=[],Xr=-1;function sr(e){return{current:e}}function Se(e){0>Xr||(e.current=Ko[Xr],Ko[Xr]=null,Xr--)}function ye(e,t){Xr++,Ko[Xr]=e.current,e.current=t}var ir={},Ke=sr(ir),nt=sr(!1),Sr=ir;function Zr(e,t){var i=e.type.contextTypes;if(!i)return ir;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var u={},d;for(d in i)u[d]=t[d];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=u),u}function st(e){return e=e.childContextTypes,e!=null}function ei(){Se(nt),Se(Ke)}function Hu(e,t,i){if(Ke.current!==ir)throw Error(s(168));ye(Ke,t),ye(nt,i)}function Ku(e,t,i){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return i;a=a.getChildContext();for(var u in a)if(!(u in t))throw Error(s(108,fe(e)||"Unknown",u));return q({},i,a)}function ti(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ir,Sr=Ke.current,ye(Ke,e),ye(nt,nt.current),!0}function Gu(e,t,i){var a=e.stateNode;if(!a)throw Error(s(169));i?(e=Ku(e,t,Sr),a.__reactInternalMemoizedMergedChildContext=e,Se(nt),Se(Ke),ye(Ke,e)):Se(nt),ye(nt,i)}var Bt=null,ri=!1,Go=!1;function Ju(e){Bt===null?Bt=[e]:Bt.push(e)}function sp(e){ri=!0,Ju(e)}function or(){if(!Go&&Bt!==null){Go=!0;var e=0,t=ge;try{var i=Bt;for(ge=1;e<i.length;e++){var a=i[e];do a=a(!0);while(a!==null)}Bt=null,ri=!1}catch(u){throw Bt!==null&&(Bt=Bt.slice(e+1)),Yl(go,or),u}finally{ge=t,Go=!1}}return null}var en=[],tn=0,ni=null,si=0,gt=[],vt=0,br=null,Ft=1,Wt="";function Er(e,t){en[tn++]=si,en[tn++]=ni,ni=e,si=t}function Qu(e,t,i){gt[vt++]=Ft,gt[vt++]=Wt,gt[vt++]=br,br=e;var a=Ft;e=Wt;var u=32-bt(a)-1;a&=~(1<<u),i+=1;var d=32-bt(t)+u;if(30<d){var g=u-u%5;d=(a&(1<<g)-1).toString(32),a>>=g,u-=g,Ft=1<<32-bt(t)+u|i<<u|a,Wt=d+e}else Ft=1<<d|i<<u|a,Wt=e}function Jo(e){e.return!==null&&(Er(e,1),Qu(e,1,0))}function Qo(e){for(;e===ni;)ni=en[--tn],en[tn]=null,si=en[--tn],en[tn]=null;for(;e===br;)br=gt[--vt],gt[vt]=null,Wt=gt[--vt],gt[vt]=null,Ft=gt[--vt],gt[vt]=null}var dt=null,ht=null,be=!1,jt=null;function Yu(e,t){var i=xt(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,t=e.deletions,t===null?(e.deletions=[i],e.flags|=16):t.push(i)}function Xu(e,t){switch(e.tag){case 5:var i=e.type;return t=t.nodeType!==1||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,dt=e,ht=nr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,dt=e,ht=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(i=br!==null?{id:Ft,overflow:Wt}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},i=xt(18,null,null,0),i.stateNode=t,i.return=e,e.child=i,dt=e,ht=null,!0):!1;default:return!1}}function Yo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Xo(e){if(be){var t=ht;if(t){var i=t;if(!Xu(e,t)){if(Yo(e))throw Error(s(418));t=nr(i.nextSibling);var a=dt;t&&Xu(e,t)?Yu(a,i):(e.flags=e.flags&-4097|2,be=!1,dt=e)}}else{if(Yo(e))throw Error(s(418));e.flags=e.flags&-4097|2,be=!1,dt=e}}}function Zu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;dt=e}function ii(e){if(e!==dt)return!1;if(!be)return Zu(e),be=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Wo(e.type,e.memoizedProps)),t&&(t=ht)){if(Yo(e))throw ec(),Error(s(418));for(;t;)Yu(e,t),t=nr(t.nextSibling)}if(Zu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(t===0){ht=nr(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++}e=e.nextSibling}ht=null}}else ht=dt?nr(e.stateNode.nextSibling):null;return!0}function ec(){for(var e=ht;e;)e=nr(e.nextSibling)}function rn(){ht=dt=null,be=!1}function Zo(e){jt===null?jt=[e]:jt.push(e)}var ip=B.ReactCurrentBatchConfig;function Zn(e,t,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(s(309));var a=i.stateNode}if(!a)throw Error(s(147,e));var u=a,d=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===d?t.ref:(t=function(g){var _=u.refs;g===null?delete _[d]:_[d]=g},t._stringRef=d,t)}if(typeof e!="string")throw Error(s(284));if(!i._owner)throw Error(s(290,e))}return e}function oi(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function tc(e){var t=e._init;return t(e._payload)}function rc(e){function t(T,j){if(e){var R=T.deletions;R===null?(T.deletions=[j],T.flags|=16):R.push(j)}}function i(T,j){if(!e)return null;for(;j!==null;)t(T,j),j=j.sibling;return null}function a(T,j){for(T=new Map;j!==null;)j.key!==null?T.set(j.key,j):T.set(j.index,j),j=j.sibling;return T}function u(T,j){return T=pr(T,j),T.index=0,T.sibling=null,T}function d(T,j,R){return T.index=R,e?(R=T.alternate,R!==null?(R=R.index,R<j?(T.flags|=2,j):R):(T.flags|=2,j)):(T.flags|=1048576,j)}function g(T){return e&&T.alternate===null&&(T.flags|=2),T}function _(T,j,R,M){return j===null||j.tag!==6?(j=qa(R,T.mode,M),j.return=T,j):(j=u(j,R),j.return=T,j)}function S(T,j,R,M){var J=R.type;return J===ce?D(T,j,R.props.children,M,R.key):j!==null&&(j.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===Be&&tc(J)===j.type)?(M=u(j,R.props),M.ref=Zn(T,j,R),M.return=T,M):(M=Ri(R.type,R.key,R.props,null,T.mode,M),M.ref=Zn(T,j,R),M.return=T,M)}function P(T,j,R,M){return j===null||j.tag!==4||j.stateNode.containerInfo!==R.containerInfo||j.stateNode.implementation!==R.implementation?(j=Va(R,T.mode,M),j.return=T,j):(j=u(j,R.children||[]),j.return=T,j)}function D(T,j,R,M,J){return j===null||j.tag!==7?(j=Ar(R,T.mode,M,J),j.return=T,j):(j=u(j,R),j.return=T,j)}function z(T,j,R){if(typeof j=="string"&&j!==""||typeof j=="number")return j=qa(""+j,T.mode,R),j.return=T,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case le:return R=Ri(j.type,j.key,j.props,null,T.mode,R),R.ref=Zn(T,null,j),R.return=T,R;case se:return j=Va(j,T.mode,R),j.return=T,j;case Be:var M=j._init;return z(T,M(j._payload),R)}if(Nn(j)||Y(j))return j=Ar(j,T.mode,R,null),j.return=T,j;oi(T,j)}return null}function U(T,j,R,M){var J=j!==null?j.key:null;if(typeof R=="string"&&R!==""||typeof R=="number")return J!==null?null:_(T,j,""+R,M);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case le:return R.key===J?S(T,j,R,M):null;case se:return R.key===J?P(T,j,R,M):null;case Be:return J=R._init,U(T,j,J(R._payload),M)}if(Nn(R)||Y(R))return J!==null?null:D(T,j,R,M,null);oi(T,R)}return null}function W(T,j,R,M,J){if(typeof M=="string"&&M!==""||typeof M=="number")return T=T.get(R)||null,_(j,T,""+M,J);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case le:return T=T.get(M.key===null?R:M.key)||null,S(j,T,M,J);case se:return T=T.get(M.key===null?R:M.key)||null,P(j,T,M,J);case Be:var X=M._init;return W(T,j,R,X(M._payload),J)}if(Nn(M)||Y(M))return T=T.get(R)||null,D(j,T,M,J,null);oi(j,M)}return null}function K(T,j,R,M){for(var J=null,X=null,Z=j,ne=j=0,Me=null;Z!==null&&ne<R.length;ne++){Z.index>ne?(Me=Z,Z=null):Me=Z.sibling;var me=U(T,Z,R[ne],M);if(me===null){Z===null&&(Z=Me);break}e&&Z&&me.alternate===null&&t(T,Z),j=d(me,j,ne),X===null?J=me:X.sibling=me,X=me,Z=Me}if(ne===R.length)return i(T,Z),be&&Er(T,ne),J;if(Z===null){for(;ne<R.length;ne++)Z=z(T,R[ne],M),Z!==null&&(j=d(Z,j,ne),X===null?J=Z:X.sibling=Z,X=Z);return be&&Er(T,ne),J}for(Z=a(T,Z);ne<R.length;ne++)Me=W(Z,T,ne,R[ne],M),Me!==null&&(e&&Me.alternate!==null&&Z.delete(Me.key===null?ne:Me.key),j=d(Me,j,ne),X===null?J=Me:X.sibling=Me,X=Me);return e&&Z.forEach(function(mr){return t(T,mr)}),be&&Er(T,ne),J}function G(T,j,R,M){var J=Y(R);if(typeof J!="function")throw Error(s(150));if(R=J.call(R),R==null)throw Error(s(151));for(var X=J=null,Z=j,ne=j=0,Me=null,me=R.next();Z!==null&&!me.done;ne++,me=R.next()){Z.index>ne?(Me=Z,Z=null):Me=Z.sibling;var mr=U(T,Z,me.value,M);if(mr===null){Z===null&&(Z=Me);break}e&&Z&&mr.alternate===null&&t(T,Z),j=d(mr,j,ne),X===null?J=mr:X.sibling=mr,X=mr,Z=Me}if(me.done)return i(T,Z),be&&Er(T,ne),J;if(Z===null){for(;!me.done;ne++,me=R.next())me=z(T,me.value,M),me!==null&&(j=d(me,j,ne),X===null?J=me:X.sibling=me,X=me);return be&&Er(T,ne),J}for(Z=a(T,Z);!me.done;ne++,me=R.next())me=W(Z,T,ne,me.value,M),me!==null&&(e&&me.alternate!==null&&Z.delete(me.key===null?ne:me.key),j=d(me,j,ne),X===null?J=me:X.sibling=me,X=me);return e&&Z.forEach(function(Dp){return t(T,Dp)}),be&&Er(T,ne),J}function Re(T,j,R,M){if(typeof R=="object"&&R!==null&&R.type===ce&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case le:e:{for(var J=R.key,X=j;X!==null;){if(X.key===J){if(J=R.type,J===ce){if(X.tag===7){i(T,X.sibling),j=u(X,R.props.children),j.return=T,T=j;break e}}else if(X.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===Be&&tc(J)===X.type){i(T,X.sibling),j=u(X,R.props),j.ref=Zn(T,X,R),j.return=T,T=j;break e}i(T,X);break}else t(T,X);X=X.sibling}R.type===ce?(j=Ar(R.props.children,T.mode,M,R.key),j.return=T,T=j):(M=Ri(R.type,R.key,R.props,null,T.mode,M),M.ref=Zn(T,j,R),M.return=T,T=M)}return g(T);case se:e:{for(X=R.key;j!==null;){if(j.key===X)if(j.tag===4&&j.stateNode.containerInfo===R.containerInfo&&j.stateNode.implementation===R.implementation){i(T,j.sibling),j=u(j,R.children||[]),j.return=T,T=j;break e}else{i(T,j);break}else t(T,j);j=j.sibling}j=Va(R,T.mode,M),j.return=T,T=j}return g(T);case Be:return X=R._init,Re(T,j,X(R._payload),M)}if(Nn(R))return K(T,j,R,M);if(Y(R))return G(T,j,R,M);oi(T,R)}return typeof R=="string"&&R!==""||typeof R=="number"?(R=""+R,j!==null&&j.tag===6?(i(T,j.sibling),j=u(j,R),j.return=T,T=j):(i(T,j),j=qa(R,T.mode,M),j.return=T,T=j),g(T)):i(T,j)}return Re}var nn=rc(!0),nc=rc(!1),ai=sr(null),li=null,sn=null,ea=null;function ta(){ea=sn=li=null}function ra(e){var t=ai.current;Se(ai),e._currentValue=t}function na(e,t,i){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===i)break;e=e.return}}function on(e,t){li=e,ea=sn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(it=!0),e.firstContext=null)}function yt(e){var t=e._currentValue;if(ea!==e)if(e={context:e,memoizedValue:t,next:null},sn===null){if(li===null)throw Error(s(308));sn=e,li.dependencies={lanes:0,firstContext:e}}else sn=sn.next=e;return t}var jr=null;function sa(e){jr===null?jr=[e]:jr.push(e)}function sc(e,t,i,a){var u=t.interleaved;return u===null?(i.next=i,sa(t)):(i.next=u.next,u.next=i),t.interleaved=i,qt(e,a)}function qt(e,t){e.lanes|=t;var i=e.alternate;for(i!==null&&(i.lanes|=t),i=e,e=e.return;e!==null;)e.childLanes|=t,i=e.alternate,i!==null&&(i.childLanes|=t),i=e,e=e.return;return i.tag===3?i.stateNode:null}var ar=!1;function ia(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ic(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Vt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function lr(e,t,i){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(pe&2)!==0){var u=a.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),a.pending=t,qt(e,i)}return u=a.interleaved,u===null?(t.next=t,sa(a)):(t.next=u.next,u.next=t),a.interleaved=t,qt(e,i)}function ui(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,i|=a,t.lanes=i,wo(e,i)}}function oc(e,t){var i=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,i===a)){var u=null,d=null;if(i=i.firstBaseUpdate,i!==null){do{var g={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};d===null?u=d=g:d=d.next=g,i=i.next}while(i!==null);d===null?u=d=t:d=d.next=t}else u=d=t;i={baseState:a.baseState,firstBaseUpdate:u,lastBaseUpdate:d,shared:a.shared,effects:a.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function ci(e,t,i,a){var u=e.updateQueue;ar=!1;var d=u.firstBaseUpdate,g=u.lastBaseUpdate,_=u.shared.pending;if(_!==null){u.shared.pending=null;var S=_,P=S.next;S.next=null,g===null?d=P:g.next=P,g=S;var D=e.alternate;D!==null&&(D=D.updateQueue,_=D.lastBaseUpdate,_!==g&&(_===null?D.firstBaseUpdate=P:_.next=P,D.lastBaseUpdate=S))}if(d!==null){var z=u.baseState;g=0,D=P=S=null,_=d;do{var U=_.lane,W=_.eventTime;if((a&U)===U){D!==null&&(D=D.next={eventTime:W,lane:0,tag:_.tag,payload:_.payload,callback:_.callback,next:null});e:{var K=e,G=_;switch(U=t,W=i,G.tag){case 1:if(K=G.payload,typeof K=="function"){z=K.call(W,z,U);break e}z=K;break e;case 3:K.flags=K.flags&-65537|128;case 0:if(K=G.payload,U=typeof K=="function"?K.call(W,z,U):K,U==null)break e;z=q({},z,U);break e;case 2:ar=!0}}_.callback!==null&&_.lane!==0&&(e.flags|=64,U=u.effects,U===null?u.effects=[_]:U.push(_))}else W={eventTime:W,lane:U,tag:_.tag,payload:_.payload,callback:_.callback,next:null},D===null?(P=D=W,S=z):D=D.next=W,g|=U;if(_=_.next,_===null){if(_=u.shared.pending,_===null)break;U=_,_=U.next,U.next=null,u.lastBaseUpdate=U,u.shared.pending=null}}while(!0);if(D===null&&(S=z),u.baseState=S,u.firstBaseUpdate=P,u.lastBaseUpdate=D,t=u.shared.interleaved,t!==null){u=t;do g|=u.lane,u=u.next;while(u!==t)}else d===null&&(u.shared.lanes=0);Tr|=g,e.lanes=g,e.memoizedState=z}}function ac(e,t,i){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],u=a.callback;if(u!==null){if(a.callback=null,a=i,typeof u!="function")throw Error(s(191,u));u.call(a)}}}var es={},$t=sr(es),ts=sr(es),rs=sr(es);function Cr(e){if(e===es)throw Error(s(174));return e}function oa(e,t){switch(ye(rs,t),ye(ts,e),ye($t,es),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:oo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=oo(t,e)}Se($t),ye($t,t)}function an(){Se($t),Se(ts),Se(rs)}function lc(e){Cr(rs.current);var t=Cr($t.current),i=oo(t,e.type);t!==i&&(ye(ts,e),ye($t,i))}function aa(e){ts.current===e&&(Se($t),Se(ts))}var Ee=sr(0);function di(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var la=[];function ua(){for(var e=0;e<la.length;e++)la[e]._workInProgressVersionPrimary=null;la.length=0}var hi=B.ReactCurrentDispatcher,ca=B.ReactCurrentBatchConfig,Nr=0,je=null,Le=null,De=null,fi=!1,ns=!1,ss=0,op=0;function Ge(){throw Error(s(321))}function da(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!Et(e[i],t[i]))return!1;return!0}function ha(e,t,i,a,u,d){if(Nr=d,je=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,hi.current=e===null||e.memoizedState===null?cp:dp,e=i(a,u),ns){d=0;do{if(ns=!1,ss=0,25<=d)throw Error(s(301));d+=1,De=Le=null,t.updateQueue=null,hi.current=hp,e=i(a,u)}while(ns)}if(hi.current=gi,t=Le!==null&&Le.next!==null,Nr=0,De=Le=je=null,fi=!1,t)throw Error(s(300));return e}function fa(){var e=ss!==0;return ss=0,e}function Ut(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return De===null?je.memoizedState=De=e:De=De.next=e,De}function wt(){if(Le===null){var e=je.alternate;e=e!==null?e.memoizedState:null}else e=Le.next;var t=De===null?je.memoizedState:De.next;if(t!==null)De=t,Le=e;else{if(e===null)throw Error(s(310));Le=e,e={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},De===null?je.memoizedState=De=e:De=De.next=e}return De}function is(e,t){return typeof t=="function"?t(e):t}function pa(e){var t=wt(),i=t.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=e;var a=Le,u=a.baseQueue,d=i.pending;if(d!==null){if(u!==null){var g=u.next;u.next=d.next,d.next=g}a.baseQueue=u=d,i.pending=null}if(u!==null){d=u.next,a=a.baseState;var _=g=null,S=null,P=d;do{var D=P.lane;if((Nr&D)===D)S!==null&&(S=S.next={lane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),a=P.hasEagerState?P.eagerState:e(a,P.action);else{var z={lane:D,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null};S===null?(_=S=z,g=a):S=S.next=z,je.lanes|=D,Tr|=D}P=P.next}while(P!==null&&P!==d);S===null?g=a:S.next=_,Et(a,t.memoizedState)||(it=!0),t.memoizedState=a,t.baseState=g,t.baseQueue=S,i.lastRenderedState=a}if(e=i.interleaved,e!==null){u=e;do d=u.lane,je.lanes|=d,Tr|=d,u=u.next;while(u!==e)}else u===null&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function ma(e){var t=wt(),i=t.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=e;var a=i.dispatch,u=i.pending,d=t.memoizedState;if(u!==null){i.pending=null;var g=u=u.next;do d=e(d,g.action),g=g.next;while(g!==u);Et(d,t.memoizedState)||(it=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),i.lastRenderedState=d}return[d,a]}function uc(){}function cc(e,t){var i=je,a=wt(),u=t(),d=!Et(a.memoizedState,u);if(d&&(a.memoizedState=u,it=!0),a=a.queue,ga(fc.bind(null,i,a,e),[e]),a.getSnapshot!==t||d||De!==null&&De.memoizedState.tag&1){if(i.flags|=2048,os(9,hc.bind(null,i,a,u,t),void 0,null),ze===null)throw Error(s(349));(Nr&30)!==0||dc(i,t,u)}return u}function dc(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=je.updateQueue,t===null?(t={lastEffect:null,stores:null},je.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function hc(e,t,i,a){t.value=i,t.getSnapshot=a,pc(t)&&mc(e)}function fc(e,t,i){return i(function(){pc(t)&&mc(e)})}function pc(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!Et(e,i)}catch{return!0}}function mc(e){var t=qt(e,1);t!==null&&Rt(t,e,1,-1)}function gc(e){var t=Ut();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:e},t.queue=e,e=e.dispatch=up.bind(null,je,e),[t.memoizedState,e]}function os(e,t,i,a){return e={tag:e,create:t,destroy:i,deps:a,next:null},t=je.updateQueue,t===null?(t={lastEffect:null,stores:null},je.updateQueue=t,t.lastEffect=e.next=e):(i=t.lastEffect,i===null?t.lastEffect=e.next=e:(a=i.next,i.next=e,e.next=a,t.lastEffect=e)),e}function vc(){return wt().memoizedState}function pi(e,t,i,a){var u=Ut();je.flags|=e,u.memoizedState=os(1|t,i,void 0,a===void 0?null:a)}function mi(e,t,i,a){var u=wt();a=a===void 0?null:a;var d=void 0;if(Le!==null){var g=Le.memoizedState;if(d=g.destroy,a!==null&&da(a,g.deps)){u.memoizedState=os(t,i,d,a);return}}je.flags|=e,u.memoizedState=os(1|t,i,d,a)}function yc(e,t){return pi(8390656,8,e,t)}function ga(e,t){return mi(2048,8,e,t)}function wc(e,t){return mi(4,2,e,t)}function _c(e,t){return mi(4,4,e,t)}function xc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function kc(e,t,i){return i=i!=null?i.concat([e]):null,mi(4,4,xc.bind(null,t,e),i)}function va(){}function Sc(e,t){var i=wt();t=t===void 0?null:t;var a=i.memoizedState;return a!==null&&t!==null&&da(t,a[1])?a[0]:(i.memoizedState=[e,t],e)}function bc(e,t){var i=wt();t=t===void 0?null:t;var a=i.memoizedState;return a!==null&&t!==null&&da(t,a[1])?a[0]:(e=e(),i.memoizedState=[e,t],e)}function Ec(e,t,i){return(Nr&21)===0?(e.baseState&&(e.baseState=!1,it=!0),e.memoizedState=i):(Et(i,t)||(i=tu(),je.lanes|=i,Tr|=i,e.baseState=!0),t)}function ap(e,t){var i=ge;ge=i!==0&&4>i?i:4,e(!0);var a=ca.transition;ca.transition={};try{e(!1),t()}finally{ge=i,ca.transition=a}}function jc(){return wt().memoizedState}function lp(e,t,i){var a=hr(e);if(i={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null},Cc(e))Nc(t,i);else if(i=sc(e,t,i,a),i!==null){var u=et();Rt(i,e,a,u),Tc(i,t,a)}}function up(e,t,i){var a=hr(e),u={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null};if(Cc(e))Nc(t,u);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var g=t.lastRenderedState,_=d(g,i);if(u.hasEagerState=!0,u.eagerState=_,Et(_,g)){var S=t.interleaved;S===null?(u.next=u,sa(t)):(u.next=S.next,S.next=u),t.interleaved=u;return}}catch{}finally{}i=sc(e,t,u,a),i!==null&&(u=et(),Rt(i,e,a,u),Tc(i,t,a))}}function Cc(e){var t=e.alternate;return e===je||t!==null&&t===je}function Nc(e,t){ns=fi=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Tc(e,t,i){if((i&4194240)!==0){var a=t.lanes;a&=e.pendingLanes,i|=a,t.lanes=i,wo(e,i)}}var gi={readContext:yt,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useInsertionEffect:Ge,useLayoutEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useMutableSource:Ge,useSyncExternalStore:Ge,useId:Ge,unstable_isNewReconciler:!1},cp={readContext:yt,useCallback:function(e,t){return Ut().memoizedState=[e,t===void 0?null:t],e},useContext:yt,useEffect:yc,useImperativeHandle:function(e,t,i){return i=i!=null?i.concat([e]):null,pi(4194308,4,xc.bind(null,t,e),i)},useLayoutEffect:function(e,t){return pi(4194308,4,e,t)},useInsertionEffect:function(e,t){return pi(4,2,e,t)},useMemo:function(e,t){var i=Ut();return t=t===void 0?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var a=Ut();return t=i!==void 0?i(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=lp.bind(null,je,e),[a.memoizedState,e]},useRef:function(e){var t=Ut();return e={current:e},t.memoizedState=e},useState:gc,useDebugValue:va,useDeferredValue:function(e){return Ut().memoizedState=e},useTransition:function(){var e=gc(!1),t=e[0];return e=ap.bind(null,e[1]),Ut().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var a=je,u=Ut();if(be){if(i===void 0)throw Error(s(407));i=i()}else{if(i=t(),ze===null)throw Error(s(349));(Nr&30)!==0||dc(a,t,i)}u.memoizedState=i;var d={value:i,getSnapshot:t};return u.queue=d,yc(fc.bind(null,a,d,e),[e]),a.flags|=2048,os(9,hc.bind(null,a,d,i,t),void 0,null),i},useId:function(){var e=Ut(),t=ze.identifierPrefix;if(be){var i=Wt,a=Ft;i=(a&~(1<<32-bt(a)-1)).toString(32)+i,t=":"+t+"R"+i,i=ss++,0<i&&(t+="H"+i.toString(32)),t+=":"}else i=op++,t=":"+t+"r"+i.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},dp={readContext:yt,useCallback:Sc,useContext:yt,useEffect:ga,useImperativeHandle:kc,useInsertionEffect:wc,useLayoutEffect:_c,useMemo:bc,useReducer:pa,useRef:vc,useState:function(){return pa(is)},useDebugValue:va,useDeferredValue:function(e){var t=wt();return Ec(t,Le.memoizedState,e)},useTransition:function(){var e=pa(is)[0],t=wt().memoizedState;return[e,t]},useMutableSource:uc,useSyncExternalStore:cc,useId:jc,unstable_isNewReconciler:!1},hp={readContext:yt,useCallback:Sc,useContext:yt,useEffect:ga,useImperativeHandle:kc,useInsertionEffect:wc,useLayoutEffect:_c,useMemo:bc,useReducer:ma,useRef:vc,useState:function(){return ma(is)},useDebugValue:va,useDeferredValue:function(e){var t=wt();return Le===null?t.memoizedState=e:Ec(t,Le.memoizedState,e)},useTransition:function(){var e=ma(is)[0],t=wt().memoizedState;return[e,t]},useMutableSource:uc,useSyncExternalStore:cc,useId:jc,unstable_isNewReconciler:!1};function Ct(e,t){if(e&&e.defaultProps){t=q({},t),e=e.defaultProps;for(var i in e)t[i]===void 0&&(t[i]=e[i]);return t}return t}function ya(e,t,i,a){t=e.memoizedState,i=i(a,t),i=i==null?t:q({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var vi={isMounted:function(e){return(e=e._reactInternals)?xr(e)===e:!1},enqueueSetState:function(e,t,i){e=e._reactInternals;var a=et(),u=hr(e),d=Vt(a,u);d.payload=t,i!=null&&(d.callback=i),t=lr(e,d,u),t!==null&&(Rt(t,e,u,a),ui(t,e,u))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var a=et(),u=hr(e),d=Vt(a,u);d.tag=1,d.payload=t,i!=null&&(d.callback=i),t=lr(e,d,u),t!==null&&(Rt(t,e,u,a),ui(t,e,u))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=et(),a=hr(e),u=Vt(i,a);u.tag=2,t!=null&&(u.callback=t),t=lr(e,u,a),t!==null&&(Rt(t,e,a,i),ui(t,e,a))}};function Rc(e,t,i,a,u,d,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,d,g):t.prototype&&t.prototype.isPureReactComponent?!Hn(i,a)||!Hn(u,d):!0}function Pc(e,t,i){var a=!1,u=ir,d=t.contextType;return typeof d=="object"&&d!==null?d=yt(d):(u=st(t)?Sr:Ke.current,a=t.contextTypes,d=(a=a!=null)?Zr(e,u):ir),t=new t(i,d),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=vi,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=u,e.__reactInternalMemoizedMaskedChildContext=d),t}function Oc(e,t,i,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,a),t.state!==e&&vi.enqueueReplaceState(t,t.state,null)}function wa(e,t,i,a){var u=e.stateNode;u.props=i,u.state=e.memoizedState,u.refs={},ia(e);var d=t.contextType;typeof d=="object"&&d!==null?u.context=yt(d):(d=st(t)?Sr:Ke.current,u.context=Zr(e,d)),u.state=e.memoizedState,d=t.getDerivedStateFromProps,typeof d=="function"&&(ya(e,t,d,i),u.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(t=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),t!==u.state&&vi.enqueueReplaceState(u,u.state,null),ci(e,i,u,a),u.state=e.memoizedState),typeof u.componentDidMount=="function"&&(e.flags|=4194308)}function ln(e,t){try{var i="",a=t;do i+=oe(a),a=a.return;while(a);var u=i}catch(d){u=`
Error generating stack: `+d.message+`
`+d.stack}return{value:e,source:t,stack:u,digest:null}}function _a(e,t,i){return{value:e,source:null,stack:i??null,digest:t??null}}function xa(e,t){try{console.error(t.value)}catch(i){setTimeout(function(){throw i})}}var fp=typeof WeakMap=="function"?WeakMap:Map;function Ac(e,t,i){i=Vt(-1,i),i.tag=3,i.payload={element:null};var a=t.value;return i.callback=function(){bi||(bi=!0,$a=a),xa(e,t)},i}function Ic(e,t,i){i=Vt(-1,i),i.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var u=t.value;i.payload=function(){return a(u)},i.callback=function(){xa(e,t)}}var d=e.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(i.callback=function(){xa(e,t),typeof a!="function"&&(cr===null?cr=new Set([this]):cr.add(this));var g=t.stack;this.componentDidCatch(t.value,{componentStack:g!==null?g:""})}),i}function Lc(e,t,i){var a=e.pingCache;if(a===null){a=e.pingCache=new fp;var u=new Set;a.set(t,u)}else u=a.get(t),u===void 0&&(u=new Set,a.set(t,u));u.has(i)||(u.add(i),e=Cp.bind(null,e,t,i),t.then(e,e))}function $c(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Uc(e,t,i,a,u){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(t=Vt(-1,1),t.tag=2,lr(i,t,1))),i.lanes|=1),e):(e.flags|=65536,e.lanes=u,e)}var pp=B.ReactCurrentOwner,it=!1;function Ze(e,t,i,a){t.child=e===null?nc(t,null,i,a):nn(t,e.child,i,a)}function Dc(e,t,i,a,u){i=i.render;var d=t.ref;return on(t,u),a=ha(e,t,i,a,d,u),i=fa(),e!==null&&!it?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~u,Ht(e,t,u)):(be&&i&&Jo(t),t.flags|=1,Ze(e,t,a,u),t.child)}function zc(e,t,i,a,u){if(e===null){var d=i.type;return typeof d=="function"&&!Wa(d)&&d.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(t.tag=15,t.type=d,Mc(e,t,d,a,u)):(e=Ri(i.type,null,a,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,(e.lanes&u)===0){var g=d.memoizedProps;if(i=i.compare,i=i!==null?i:Hn,i(g,a)&&e.ref===t.ref)return Ht(e,t,u)}return t.flags|=1,e=pr(d,a),e.ref=t.ref,e.return=t,t.child=e}function Mc(e,t,i,a,u){if(e!==null){var d=e.memoizedProps;if(Hn(d,a)&&e.ref===t.ref)if(it=!1,t.pendingProps=a=d,(e.lanes&u)!==0)(e.flags&131072)!==0&&(it=!0);else return t.lanes=e.lanes,Ht(e,t,u)}return ka(e,t,i,a,u)}function Bc(e,t,i){var a=t.pendingProps,u=a.children,d=e!==null?e.memoizedState:null;if(a.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ye(cn,ft),ft|=i;else{if((i&1073741824)===0)return e=d!==null?d.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ye(cn,ft),ft|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=d!==null?d.baseLanes:i,ye(cn,ft),ft|=a}else d!==null?(a=d.baseLanes|i,t.memoizedState=null):a=i,ye(cn,ft),ft|=a;return Ze(e,t,u,i),t.child}function Fc(e,t){var i=t.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function ka(e,t,i,a,u){var d=st(i)?Sr:Ke.current;return d=Zr(t,d),on(t,u),i=ha(e,t,i,a,d,u),a=fa(),e!==null&&!it?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~u,Ht(e,t,u)):(be&&a&&Jo(t),t.flags|=1,Ze(e,t,i,u),t.child)}function Wc(e,t,i,a,u){if(st(i)){var d=!0;ti(t)}else d=!1;if(on(t,u),t.stateNode===null)wi(e,t),Pc(t,i,a),wa(t,i,a,u),a=!0;else if(e===null){var g=t.stateNode,_=t.memoizedProps;g.props=_;var S=g.context,P=i.contextType;typeof P=="object"&&P!==null?P=yt(P):(P=st(i)?Sr:Ke.current,P=Zr(t,P));var D=i.getDerivedStateFromProps,z=typeof D=="function"||typeof g.getSnapshotBeforeUpdate=="function";z||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(_!==a||S!==P)&&Oc(t,g,a,P),ar=!1;var U=t.memoizedState;g.state=U,ci(t,a,g,u),S=t.memoizedState,_!==a||U!==S||nt.current||ar?(typeof D=="function"&&(ya(t,i,D,a),S=t.memoizedState),(_=ar||Rc(t,i,_,a,U,S,P))?(z||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(t.flags|=4194308)):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=S),g.props=a,g.state=S,g.context=P,a=_):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{g=t.stateNode,ic(e,t),_=t.memoizedProps,P=t.type===t.elementType?_:Ct(t.type,_),g.props=P,z=t.pendingProps,U=g.context,S=i.contextType,typeof S=="object"&&S!==null?S=yt(S):(S=st(i)?Sr:Ke.current,S=Zr(t,S));var W=i.getDerivedStateFromProps;(D=typeof W=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(_!==z||U!==S)&&Oc(t,g,a,S),ar=!1,U=t.memoizedState,g.state=U,ci(t,a,g,u);var K=t.memoizedState;_!==z||U!==K||nt.current||ar?(typeof W=="function"&&(ya(t,i,W,a),K=t.memoizedState),(P=ar||Rc(t,i,P,a,U,K,S)||!1)?(D||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(a,K,S),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(a,K,S)),typeof g.componentDidUpdate=="function"&&(t.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof g.componentDidUpdate!="function"||_===e.memoizedProps&&U===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&U===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=K),g.props=a,g.state=K,g.context=S,a=P):(typeof g.componentDidUpdate!="function"||_===e.memoizedProps&&U===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&U===e.memoizedState||(t.flags|=1024),a=!1)}return Sa(e,t,i,a,d,u)}function Sa(e,t,i,a,u,d){Fc(e,t);var g=(t.flags&128)!==0;if(!a&&!g)return u&&Gu(t,i,!1),Ht(e,t,d);a=t.stateNode,pp.current=t;var _=g&&typeof i.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&g?(t.child=nn(t,e.child,null,d),t.child=nn(t,null,_,d)):Ze(e,t,_,d),t.memoizedState=a.state,u&&Gu(t,i,!0),t.child}function qc(e){var t=e.stateNode;t.pendingContext?Hu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Hu(e,t.context,!1),oa(e,t.containerInfo)}function Vc(e,t,i,a,u){return rn(),Zo(u),t.flags|=256,Ze(e,t,i,a),t.child}var ba={dehydrated:null,treeContext:null,retryLane:0};function Ea(e){return{baseLanes:e,cachePool:null,transitions:null}}function Hc(e,t,i){var a=t.pendingProps,u=Ee.current,d=!1,g=(t.flags&128)!==0,_;if((_=g)||(_=e!==null&&e.memoizedState===null?!1:(u&2)!==0),_?(d=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(u|=1),ye(Ee,u&1),e===null)return Xo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(g=a.children,e=a.fallback,d?(a=t.mode,d=t.child,g={mode:"hidden",children:g},(a&1)===0&&d!==null?(d.childLanes=0,d.pendingProps=g):d=Pi(g,a,0,null),e=Ar(e,a,i,null),d.return=t,e.return=t,d.sibling=e,t.child=d,t.child.memoizedState=Ea(i),t.memoizedState=ba,e):ja(t,g));if(u=e.memoizedState,u!==null&&(_=u.dehydrated,_!==null))return mp(e,t,g,a,_,u,i);if(d){d=a.fallback,g=t.mode,u=e.child,_=u.sibling;var S={mode:"hidden",children:a.children};return(g&1)===0&&t.child!==u?(a=t.child,a.childLanes=0,a.pendingProps=S,t.deletions=null):(a=pr(u,S),a.subtreeFlags=u.subtreeFlags&14680064),_!==null?d=pr(_,d):(d=Ar(d,g,i,null),d.flags|=2),d.return=t,a.return=t,a.sibling=d,t.child=a,a=d,d=t.child,g=e.child.memoizedState,g=g===null?Ea(i):{baseLanes:g.baseLanes|i,cachePool:null,transitions:g.transitions},d.memoizedState=g,d.childLanes=e.childLanes&~i,t.memoizedState=ba,a}return d=e.child,e=d.sibling,a=pr(d,{mode:"visible",children:a.children}),(t.mode&1)===0&&(a.lanes=i),a.return=t,a.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=a,t.memoizedState=null,a}function ja(e,t){return t=Pi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function yi(e,t,i,a){return a!==null&&Zo(a),nn(t,e.child,null,i),e=ja(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function mp(e,t,i,a,u,d,g){if(i)return t.flags&256?(t.flags&=-257,a=_a(Error(s(422))),yi(e,t,g,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(d=a.fallback,u=t.mode,a=Pi({mode:"visible",children:a.children},u,0,null),d=Ar(d,u,g,null),d.flags|=2,a.return=t,d.return=t,a.sibling=d,t.child=a,(t.mode&1)!==0&&nn(t,e.child,null,g),t.child.memoizedState=Ea(g),t.memoizedState=ba,d);if((t.mode&1)===0)return yi(e,t,g,null);if(u.data==="$!"){if(a=u.nextSibling&&u.nextSibling.dataset,a)var _=a.dgst;return a=_,d=Error(s(419)),a=_a(d,a,void 0),yi(e,t,g,a)}if(_=(g&e.childLanes)!==0,it||_){if(a=ze,a!==null){switch(g&-g){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}u=(u&(a.suspendedLanes|g))!==0?0:u,u!==0&&u!==d.retryLane&&(d.retryLane=u,qt(e,u),Rt(a,e,u,-1))}return Fa(),a=_a(Error(s(421))),yi(e,t,g,a)}return u.data==="$?"?(t.flags|=128,t.child=e.child,t=Np.bind(null,e),u._reactRetry=t,null):(e=d.treeContext,ht=nr(u.nextSibling),dt=t,be=!0,jt=null,e!==null&&(gt[vt++]=Ft,gt[vt++]=Wt,gt[vt++]=br,Ft=e.id,Wt=e.overflow,br=t),t=ja(t,a.children),t.flags|=4096,t)}function Kc(e,t,i){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),na(e.return,t,i)}function Ca(e,t,i,a,u){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:i,tailMode:u}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=a,d.tail=i,d.tailMode=u)}function Gc(e,t,i){var a=t.pendingProps,u=a.revealOrder,d=a.tail;if(Ze(e,t,a.children,i),a=Ee.current,(a&2)!==0)a=a&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Kc(e,i,t);else if(e.tag===19)Kc(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(ye(Ee,a),(t.mode&1)===0)t.memoizedState=null;else switch(u){case"forwards":for(i=t.child,u=null;i!==null;)e=i.alternate,e!==null&&di(e)===null&&(u=i),i=i.sibling;i=u,i===null?(u=t.child,t.child=null):(u=i.sibling,i.sibling=null),Ca(t,!1,u,i,d);break;case"backwards":for(i=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&di(e)===null){t.child=u;break}e=u.sibling,u.sibling=i,i=u,u=e}Ca(t,!0,i,null,d);break;case"together":Ca(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function wi(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ht(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Tr|=t.lanes,(i&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,i=pr(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=pr(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function gp(e,t,i){switch(t.tag){case 3:qc(t),rn();break;case 5:lc(t);break;case 1:st(t.type)&&ti(t);break;case 4:oa(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,u=t.memoizedProps.value;ye(ai,a._currentValue),a._currentValue=u;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(ye(Ee,Ee.current&1),t.flags|=128,null):(i&t.child.childLanes)!==0?Hc(e,t,i):(ye(Ee,Ee.current&1),e=Ht(e,t,i),e!==null?e.sibling:null);ye(Ee,Ee.current&1);break;case 19:if(a=(i&t.childLanes)!==0,(e.flags&128)!==0){if(a)return Gc(e,t,i);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),ye(Ee,Ee.current),a)break;return null;case 22:case 23:return t.lanes=0,Bc(e,t,i)}return Ht(e,t,i)}var Jc,Na,Qc,Yc;Jc=function(e,t){for(var i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Na=function(){},Qc=function(e,t,i,a){var u=e.memoizedProps;if(u!==a){e=t.stateNode,Cr($t.current);var d=null;switch(i){case"input":u=ro(e,u),a=ro(e,a),d=[];break;case"select":u=q({},u,{value:void 0}),a=q({},a,{value:void 0}),d=[];break;case"textarea":u=io(e,u),a=io(e,a),d=[];break;default:typeof u.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=Xs)}ao(i,a);var g;i=null;for(P in u)if(!a.hasOwnProperty(P)&&u.hasOwnProperty(P)&&u[P]!=null)if(P==="style"){var _=u[P];for(g in _)_.hasOwnProperty(g)&&(i||(i={}),i[g]="")}else P!=="dangerouslySetInnerHTML"&&P!=="children"&&P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&P!=="autoFocus"&&(l.hasOwnProperty(P)?d||(d=[]):(d=d||[]).push(P,null));for(P in a){var S=a[P];if(_=u!=null?u[P]:void 0,a.hasOwnProperty(P)&&S!==_&&(S!=null||_!=null))if(P==="style")if(_){for(g in _)!_.hasOwnProperty(g)||S&&S.hasOwnProperty(g)||(i||(i={}),i[g]="");for(g in S)S.hasOwnProperty(g)&&_[g]!==S[g]&&(i||(i={}),i[g]=S[g])}else i||(d||(d=[]),d.push(P,i)),i=S;else P==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,_=_?_.__html:void 0,S!=null&&_!==S&&(d=d||[]).push(P,S)):P==="children"?typeof S!="string"&&typeof S!="number"||(d=d||[]).push(P,""+S):P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&(l.hasOwnProperty(P)?(S!=null&&P==="onScroll"&&ke("scroll",e),d||_===S||(d=[])):(d=d||[]).push(P,S))}i&&(d=d||[]).push("style",i);var P=d;(t.updateQueue=P)&&(t.flags|=4)}},Yc=function(e,t,i,a){i!==a&&(t.flags|=4)};function as(e,t){if(!be)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Je(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,a=0;if(t)for(var u=e.child;u!==null;)i|=u.lanes|u.childLanes,a|=u.subtreeFlags&14680064,a|=u.flags&14680064,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)i|=u.lanes|u.childLanes,a|=u.subtreeFlags,a|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=a,e.childLanes=i,t}function vp(e,t,i){var a=t.pendingProps;switch(Qo(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Je(t),null;case 1:return st(t.type)&&ei(),Je(t),null;case 3:return a=t.stateNode,an(),Se(nt),Se(Ke),ua(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(ii(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,jt!==null&&(za(jt),jt=null))),Na(e,t),Je(t),null;case 5:aa(t);var u=Cr(rs.current);if(i=t.type,e!==null&&t.stateNode!=null)Qc(e,t,i,a,u),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(s(166));return Je(t),null}if(e=Cr($t.current),ii(t)){a=t.stateNode,i=t.type;var d=t.memoizedProps;switch(a[Lt]=t,a[Yn]=d,e=(t.mode&1)!==0,i){case"dialog":ke("cancel",a),ke("close",a);break;case"iframe":case"object":case"embed":ke("load",a);break;case"video":case"audio":for(u=0;u<Gn.length;u++)ke(Gn[u],a);break;case"source":ke("error",a);break;case"img":case"image":case"link":ke("error",a),ke("load",a);break;case"details":ke("toggle",a);break;case"input":Pl(a,d),ke("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!d.multiple},ke("invalid",a);break;case"textarea":Il(a,d),ke("invalid",a)}ao(i,d),u=null;for(var g in d)if(d.hasOwnProperty(g)){var _=d[g];g==="children"?typeof _=="string"?a.textContent!==_&&(d.suppressHydrationWarning!==!0&&Ys(a.textContent,_,e),u=["children",_]):typeof _=="number"&&a.textContent!==""+_&&(d.suppressHydrationWarning!==!0&&Ys(a.textContent,_,e),u=["children",""+_]):l.hasOwnProperty(g)&&_!=null&&g==="onScroll"&&ke("scroll",a)}switch(i){case"input":Ns(a),Al(a,d,!0);break;case"textarea":Ns(a),$l(a);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(a.onclick=Xs)}a=u,t.updateQueue=a,a!==null&&(t.flags|=4)}else{g=u.nodeType===9?u:u.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ul(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=g.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=g.createElement(i,{is:a.is}):(e=g.createElement(i),i==="select"&&(g=e,a.multiple?g.multiple=!0:a.size&&(g.size=a.size))):e=g.createElementNS(e,i),e[Lt]=t,e[Yn]=a,Jc(e,t,!1,!1),t.stateNode=e;e:{switch(g=lo(i,a),i){case"dialog":ke("cancel",e),ke("close",e),u=a;break;case"iframe":case"object":case"embed":ke("load",e),u=a;break;case"video":case"audio":for(u=0;u<Gn.length;u++)ke(Gn[u],e);u=a;break;case"source":ke("error",e),u=a;break;case"img":case"image":case"link":ke("error",e),ke("load",e),u=a;break;case"details":ke("toggle",e),u=a;break;case"input":Pl(e,a),u=ro(e,a),ke("invalid",e);break;case"option":u=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},u=q({},a,{value:void 0}),ke("invalid",e);break;case"textarea":Il(e,a),u=io(e,a),ke("invalid",e);break;default:u=a}ao(i,u),_=u;for(d in _)if(_.hasOwnProperty(d)){var S=_[d];d==="style"?Ml(e,S):d==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,S!=null&&Dl(e,S)):d==="children"?typeof S=="string"?(i!=="textarea"||S!=="")&&Tn(e,S):typeof S=="number"&&Tn(e,""+S):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(l.hasOwnProperty(d)?S!=null&&d==="onScroll"&&ke("scroll",e):S!=null&&I(e,d,S,g))}switch(i){case"input":Ns(e),Al(e,a,!1);break;case"textarea":Ns(e),$l(e);break;case"option":a.value!=null&&e.setAttribute("value",""+he(a.value));break;case"select":e.multiple=!!a.multiple,d=a.value,d!=null?Br(e,!!a.multiple,d,!1):a.defaultValue!=null&&Br(e,!!a.multiple,a.defaultValue,!0);break;default:typeof u.onClick=="function"&&(e.onclick=Xs)}switch(i){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Je(t),null;case 6:if(e&&t.stateNode!=null)Yc(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(s(166));if(i=Cr(rs.current),Cr($t.current),ii(t)){if(a=t.stateNode,i=t.memoizedProps,a[Lt]=t,(d=a.nodeValue!==i)&&(e=dt,e!==null))switch(e.tag){case 3:Ys(a.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ys(a.nodeValue,i,(e.mode&1)!==0)}d&&(t.flags|=4)}else a=(i.nodeType===9?i:i.ownerDocument).createTextNode(a),a[Lt]=t,t.stateNode=a}return Je(t),null;case 13:if(Se(Ee),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(be&&ht!==null&&(t.mode&1)!==0&&(t.flags&128)===0)ec(),rn(),t.flags|=98560,d=!1;else if(d=ii(t),a!==null&&a.dehydrated!==null){if(e===null){if(!d)throw Error(s(318));if(d=t.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[Lt]=t}else rn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Je(t),d=!1}else jt!==null&&(za(jt),jt=null),d=!0;if(!d)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=i,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Ee.current&1)!==0?$e===0&&($e=3):Fa())),t.updateQueue!==null&&(t.flags|=4),Je(t),null);case 4:return an(),Na(e,t),e===null&&Jn(t.stateNode.containerInfo),Je(t),null;case 10:return ra(t.type._context),Je(t),null;case 17:return st(t.type)&&ei(),Je(t),null;case 19:if(Se(Ee),d=t.memoizedState,d===null)return Je(t),null;if(a=(t.flags&128)!==0,g=d.rendering,g===null)if(a)as(d,!1);else{if($e!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(g=di(e),g!==null){for(t.flags|=128,as(d,!1),a=g.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=i,i=t.child;i!==null;)d=i,e=a,d.flags&=14680066,g=d.alternate,g===null?(d.childLanes=0,d.lanes=e,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=g.childLanes,d.lanes=g.lanes,d.child=g.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=g.memoizedProps,d.memoizedState=g.memoizedState,d.updateQueue=g.updateQueue,d.type=g.type,e=g.dependencies,d.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return ye(Ee,Ee.current&1|2),t.child}e=e.sibling}d.tail!==null&&Te()>dn&&(t.flags|=128,a=!0,as(d,!1),t.lanes=4194304)}else{if(!a)if(e=di(g),e!==null){if(t.flags|=128,a=!0,i=e.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),as(d,!0),d.tail===null&&d.tailMode==="hidden"&&!g.alternate&&!be)return Je(t),null}else 2*Te()-d.renderingStartTime>dn&&i!==1073741824&&(t.flags|=128,a=!0,as(d,!1),t.lanes=4194304);d.isBackwards?(g.sibling=t.child,t.child=g):(i=d.last,i!==null?i.sibling=g:t.child=g,d.last=g)}return d.tail!==null?(t=d.tail,d.rendering=t,d.tail=t.sibling,d.renderingStartTime=Te(),t.sibling=null,i=Ee.current,ye(Ee,a?i&1|2:i&1),t):(Je(t),null);case 22:case 23:return Ba(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&(t.mode&1)!==0?(ft&1073741824)!==0&&(Je(t),t.subtreeFlags&6&&(t.flags|=8192)):Je(t),null;case 24:return null;case 25:return null}throw Error(s(156,t.tag))}function yp(e,t){switch(Qo(t),t.tag){case 1:return st(t.type)&&ei(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return an(),Se(nt),Se(Ke),ua(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return aa(t),null;case 13:if(Se(Ee),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));rn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Se(Ee),null;case 4:return an(),null;case 10:return ra(t.type._context),null;case 22:case 23:return Ba(),null;case 24:return null;default:return null}}var _i=!1,Qe=!1,wp=typeof WeakSet=="function"?WeakSet:Set,H=null;function un(e,t){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(a){Ce(e,t,a)}else i.current=null}function Ta(e,t,i){try{i()}catch(a){Ce(e,t,a)}}var Xc=!1;function _p(e,t){if(Bo=Ms,e=Ru(),Ao(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var a=i.getSelection&&i.getSelection();if(a&&a.rangeCount!==0){i=a.anchorNode;var u=a.anchorOffset,d=a.focusNode;a=a.focusOffset;try{i.nodeType,d.nodeType}catch{i=null;break e}var g=0,_=-1,S=-1,P=0,D=0,z=e,U=null;t:for(;;){for(var W;z!==i||u!==0&&z.nodeType!==3||(_=g+u),z!==d||a!==0&&z.nodeType!==3||(S=g+a),z.nodeType===3&&(g+=z.nodeValue.length),(W=z.firstChild)!==null;)U=z,z=W;for(;;){if(z===e)break t;if(U===i&&++P===u&&(_=g),U===d&&++D===a&&(S=g),(W=z.nextSibling)!==null)break;z=U,U=z.parentNode}z=W}i=_===-1||S===-1?null:{start:_,end:S}}else i=null}i=i||{start:0,end:0}}else i=null;for(Fo={focusedElem:e,selectionRange:i},Ms=!1,H=t;H!==null;)if(t=H,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,H=e;else for(;H!==null;){t=H;try{var K=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(K!==null){var G=K.memoizedProps,Re=K.memoizedState,T=t.stateNode,j=T.getSnapshotBeforeUpdate(t.elementType===t.type?G:Ct(t.type,G),Re);T.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var R=t.stateNode.containerInfo;R.nodeType===1?R.textContent="":R.nodeType===9&&R.documentElement&&R.removeChild(R.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(M){Ce(t,t.return,M)}if(e=t.sibling,e!==null){e.return=t.return,H=e;break}H=t.return}return K=Xc,Xc=!1,K}function ls(e,t,i){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var u=a=a.next;do{if((u.tag&e)===e){var d=u.destroy;u.destroy=void 0,d!==void 0&&Ta(t,i,d)}u=u.next}while(u!==a)}}function xi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var i=t=t.next;do{if((i.tag&e)===e){var a=i.create;i.destroy=a()}i=i.next}while(i!==t)}}function Ra(e){var t=e.ref;if(t!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof t=="function"?t(e):t.current=e}}function Zc(e){var t=e.alternate;t!==null&&(e.alternate=null,Zc(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Lt],delete t[Yn],delete t[Ho],delete t[rp],delete t[np])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ed(e){return e.tag===5||e.tag===3||e.tag===4}function td(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ed(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Pa(e,t,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?i.nodeType===8?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(i.nodeType===8?(t=i.parentNode,t.insertBefore(e,i)):(t=i,t.appendChild(e)),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=Xs));else if(a!==4&&(e=e.child,e!==null))for(Pa(e,t,i),e=e.sibling;e!==null;)Pa(e,t,i),e=e.sibling}function Oa(e,t,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(Oa(e,t,i),e=e.sibling;e!==null;)Oa(e,t,i),e=e.sibling}var Fe=null,Nt=!1;function ur(e,t,i){for(i=i.child;i!==null;)rd(e,t,i),i=i.sibling}function rd(e,t,i){if(It&&typeof It.onCommitFiberUnmount=="function")try{It.onCommitFiberUnmount(Is,i)}catch{}switch(i.tag){case 5:Qe||un(i,t);case 6:var a=Fe,u=Nt;Fe=null,ur(e,t,i),Fe=a,Nt=u,Fe!==null&&(Nt?(e=Fe,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):Fe.removeChild(i.stateNode));break;case 18:Fe!==null&&(Nt?(e=Fe,i=i.stateNode,e.nodeType===8?Vo(e.parentNode,i):e.nodeType===1&&Vo(e,i),Mn(e)):Vo(Fe,i.stateNode));break;case 4:a=Fe,u=Nt,Fe=i.stateNode.containerInfo,Nt=!0,ur(e,t,i),Fe=a,Nt=u;break;case 0:case 11:case 14:case 15:if(!Qe&&(a=i.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){u=a=a.next;do{var d=u,g=d.destroy;d=d.tag,g!==void 0&&((d&2)!==0||(d&4)!==0)&&Ta(i,t,g),u=u.next}while(u!==a)}ur(e,t,i);break;case 1:if(!Qe&&(un(i,t),a=i.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=i.memoizedProps,a.state=i.memoizedState,a.componentWillUnmount()}catch(_){Ce(i,t,_)}ur(e,t,i);break;case 21:ur(e,t,i);break;case 22:i.mode&1?(Qe=(a=Qe)||i.memoizedState!==null,ur(e,t,i),Qe=a):ur(e,t,i);break;default:ur(e,t,i)}}function nd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new wp),t.forEach(function(a){var u=Tp.bind(null,e,a);i.has(a)||(i.add(a),a.then(u,u))})}}function Tt(e,t){var i=t.deletions;if(i!==null)for(var a=0;a<i.length;a++){var u=i[a];try{var d=e,g=t,_=g;e:for(;_!==null;){switch(_.tag){case 5:Fe=_.stateNode,Nt=!1;break e;case 3:Fe=_.stateNode.containerInfo,Nt=!0;break e;case 4:Fe=_.stateNode.containerInfo,Nt=!0;break e}_=_.return}if(Fe===null)throw Error(s(160));rd(d,g,u),Fe=null,Nt=!1;var S=u.alternate;S!==null&&(S.return=null),u.return=null}catch(P){Ce(u,t,P)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)sd(t,e),t=t.sibling}function sd(e,t){var i=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Tt(t,e),Dt(e),a&4){try{ls(3,e,e.return),xi(3,e)}catch(G){Ce(e,e.return,G)}try{ls(5,e,e.return)}catch(G){Ce(e,e.return,G)}}break;case 1:Tt(t,e),Dt(e),a&512&&i!==null&&un(i,i.return);break;case 5:if(Tt(t,e),Dt(e),a&512&&i!==null&&un(i,i.return),e.flags&32){var u=e.stateNode;try{Tn(u,"")}catch(G){Ce(e,e.return,G)}}if(a&4&&(u=e.stateNode,u!=null)){var d=e.memoizedProps,g=i!==null?i.memoizedProps:d,_=e.type,S=e.updateQueue;if(e.updateQueue=null,S!==null)try{_==="input"&&d.type==="radio"&&d.name!=null&&Ol(u,d),lo(_,g);var P=lo(_,d);for(g=0;g<S.length;g+=2){var D=S[g],z=S[g+1];D==="style"?Ml(u,z):D==="dangerouslySetInnerHTML"?Dl(u,z):D==="children"?Tn(u,z):I(u,D,z,P)}switch(_){case"input":no(u,d);break;case"textarea":Ll(u,d);break;case"select":var U=u._wrapperState.wasMultiple;u._wrapperState.wasMultiple=!!d.multiple;var W=d.value;W!=null?Br(u,!!d.multiple,W,!1):U!==!!d.multiple&&(d.defaultValue!=null?Br(u,!!d.multiple,d.defaultValue,!0):Br(u,!!d.multiple,d.multiple?[]:"",!1))}u[Yn]=d}catch(G){Ce(e,e.return,G)}}break;case 6:if(Tt(t,e),Dt(e),a&4){if(e.stateNode===null)throw Error(s(162));u=e.stateNode,d=e.memoizedProps;try{u.nodeValue=d}catch(G){Ce(e,e.return,G)}}break;case 3:if(Tt(t,e),Dt(e),a&4&&i!==null&&i.memoizedState.isDehydrated)try{Mn(t.containerInfo)}catch(G){Ce(e,e.return,G)}break;case 4:Tt(t,e),Dt(e);break;case 13:Tt(t,e),Dt(e),u=e.child,u.flags&8192&&(d=u.memoizedState!==null,u.stateNode.isHidden=d,!d||u.alternate!==null&&u.alternate.memoizedState!==null||(La=Te())),a&4&&nd(e);break;case 22:if(D=i!==null&&i.memoizedState!==null,e.mode&1?(Qe=(P=Qe)||D,Tt(t,e),Qe=P):Tt(t,e),Dt(e),a&8192){if(P=e.memoizedState!==null,(e.stateNode.isHidden=P)&&!D&&(e.mode&1)!==0)for(H=e,D=e.child;D!==null;){for(z=H=D;H!==null;){switch(U=H,W=U.child,U.tag){case 0:case 11:case 14:case 15:ls(4,U,U.return);break;case 1:un(U,U.return);var K=U.stateNode;if(typeof K.componentWillUnmount=="function"){a=U,i=U.return;try{t=a,K.props=t.memoizedProps,K.state=t.memoizedState,K.componentWillUnmount()}catch(G){Ce(a,i,G)}}break;case 5:un(U,U.return);break;case 22:if(U.memoizedState!==null){ad(z);continue}}W!==null?(W.return=U,H=W):ad(z)}D=D.sibling}e:for(D=null,z=e;;){if(z.tag===5){if(D===null){D=z;try{u=z.stateNode,P?(d=u.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(_=z.stateNode,S=z.memoizedProps.style,g=S!=null&&S.hasOwnProperty("display")?S.display:null,_.style.display=zl("display",g))}catch(G){Ce(e,e.return,G)}}}else if(z.tag===6){if(D===null)try{z.stateNode.nodeValue=P?"":z.memoizedProps}catch(G){Ce(e,e.return,G)}}else if((z.tag!==22&&z.tag!==23||z.memoizedState===null||z===e)&&z.child!==null){z.child.return=z,z=z.child;continue}if(z===e)break e;for(;z.sibling===null;){if(z.return===null||z.return===e)break e;D===z&&(D=null),z=z.return}D===z&&(D=null),z.sibling.return=z.return,z=z.sibling}}break;case 19:Tt(t,e),Dt(e),a&4&&nd(e);break;case 21:break;default:Tt(t,e),Dt(e)}}function Dt(e){var t=e.flags;if(t&2){try{e:{for(var i=e.return;i!==null;){if(ed(i)){var a=i;break e}i=i.return}throw Error(s(160))}switch(a.tag){case 5:var u=a.stateNode;a.flags&32&&(Tn(u,""),a.flags&=-33);var d=td(e);Oa(e,d,u);break;case 3:case 4:var g=a.stateNode.containerInfo,_=td(e);Pa(e,_,g);break;default:throw Error(s(161))}}catch(S){Ce(e,e.return,S)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function xp(e,t,i){H=e,id(e)}function id(e,t,i){for(var a=(e.mode&1)!==0;H!==null;){var u=H,d=u.child;if(u.tag===22&&a){var g=u.memoizedState!==null||_i;if(!g){var _=u.alternate,S=_!==null&&_.memoizedState!==null||Qe;_=_i;var P=Qe;if(_i=g,(Qe=S)&&!P)for(H=u;H!==null;)g=H,S=g.child,g.tag===22&&g.memoizedState!==null?ld(u):S!==null?(S.return=g,H=S):ld(u);for(;d!==null;)H=d,id(d),d=d.sibling;H=u,_i=_,Qe=P}od(e)}else(u.subtreeFlags&8772)!==0&&d!==null?(d.return=u,H=d):od(e)}}function od(e){for(;H!==null;){var t=H;if((t.flags&8772)!==0){var i=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:Qe||xi(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!Qe)if(i===null)a.componentDidMount();else{var u=t.elementType===t.type?i.memoizedProps:Ct(t.type,i.memoizedProps);a.componentDidUpdate(u,i.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var d=t.updateQueue;d!==null&&ac(t,d,a);break;case 3:var g=t.updateQueue;if(g!==null){if(i=null,t.child!==null)switch(t.child.tag){case 5:i=t.child.stateNode;break;case 1:i=t.child.stateNode}ac(t,g,i)}break;case 5:var _=t.stateNode;if(i===null&&t.flags&4){i=_;var S=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":S.autoFocus&&i.focus();break;case"img":S.src&&(i.src=S.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var P=t.alternate;if(P!==null){var D=P.memoizedState;if(D!==null){var z=D.dehydrated;z!==null&&Mn(z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}Qe||t.flags&512&&Ra(t)}catch(U){Ce(t,t.return,U)}}if(t===e){H=null;break}if(i=t.sibling,i!==null){i.return=t.return,H=i;break}H=t.return}}function ad(e){for(;H!==null;){var t=H;if(t===e){H=null;break}var i=t.sibling;if(i!==null){i.return=t.return,H=i;break}H=t.return}}function ld(e){for(;H!==null;){var t=H;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{xi(4,t)}catch(S){Ce(t,i,S)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var u=t.return;try{a.componentDidMount()}catch(S){Ce(t,u,S)}}var d=t.return;try{Ra(t)}catch(S){Ce(t,d,S)}break;case 5:var g=t.return;try{Ra(t)}catch(S){Ce(t,g,S)}}}catch(S){Ce(t,t.return,S)}if(t===e){H=null;break}var _=t.sibling;if(_!==null){_.return=t.return,H=_;break}H=t.return}}var kp=Math.ceil,ki=B.ReactCurrentDispatcher,Aa=B.ReactCurrentOwner,_t=B.ReactCurrentBatchConfig,pe=0,ze=null,Ae=null,We=0,ft=0,cn=sr(0),$e=0,us=null,Tr=0,Si=0,Ia=0,cs=null,ot=null,La=0,dn=1/0,Kt=null,bi=!1,$a=null,cr=null,Ei=!1,dr=null,ji=0,ds=0,Ua=null,Ci=-1,Ni=0;function et(){return(pe&6)!==0?Te():Ci!==-1?Ci:Ci=Te()}function hr(e){return(e.mode&1)===0?1:(pe&2)!==0&&We!==0?We&-We:ip.transition!==null?(Ni===0&&(Ni=tu()),Ni):(e=ge,e!==0||(e=window.event,e=e===void 0?16:cu(e.type)),e)}function Rt(e,t,i,a){if(50<ds)throw ds=0,Ua=null,Error(s(185));Ln(e,i,a),((pe&2)===0||e!==ze)&&(e===ze&&((pe&2)===0&&(Si|=i),$e===4&&fr(e,We)),at(e,a),i===1&&pe===0&&(t.mode&1)===0&&(dn=Te()+500,ri&&or()))}function at(e,t){var i=e.callbackNode;sf(e,t);var a=Us(e,e===ze?We:0);if(a===0)i!==null&&Xl(i),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(i!=null&&Xl(i),t===1)e.tag===0?sp(cd.bind(null,e)):Ju(cd.bind(null,e)),ep(function(){(pe&6)===0&&or()}),i=null;else{switch(ru(a)){case 1:i=go;break;case 4:i=Zl;break;case 16:i=As;break;case 536870912:i=eu;break;default:i=As}i=yd(i,ud.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function ud(e,t){if(Ci=-1,Ni=0,(pe&6)!==0)throw Error(s(327));var i=e.callbackNode;if(hn()&&e.callbackNode!==i)return null;var a=Us(e,e===ze?We:0);if(a===0)return null;if((a&30)!==0||(a&e.expiredLanes)!==0||t)t=Ti(e,a);else{t=a;var u=pe;pe|=2;var d=hd();(ze!==e||We!==t)&&(Kt=null,dn=Te()+500,Pr(e,t));do try{Ep();break}catch(_){dd(e,_)}while(!0);ta(),ki.current=d,pe=u,Ae!==null?t=0:(ze=null,We=0,t=$e)}if(t!==0){if(t===2&&(u=vo(e),u!==0&&(a=u,t=Da(e,u))),t===1)throw i=us,Pr(e,0),fr(e,a),at(e,Te()),i;if(t===6)fr(e,a);else{if(u=e.current.alternate,(a&30)===0&&!Sp(u)&&(t=Ti(e,a),t===2&&(d=vo(e),d!==0&&(a=d,t=Da(e,d))),t===1))throw i=us,Pr(e,0),fr(e,a),at(e,Te()),i;switch(e.finishedWork=u,e.finishedLanes=a,t){case 0:case 1:throw Error(s(345));case 2:Or(e,ot,Kt);break;case 3:if(fr(e,a),(a&130023424)===a&&(t=La+500-Te(),10<t)){if(Us(e,0)!==0)break;if(u=e.suspendedLanes,(u&a)!==a){et(),e.pingedLanes|=e.suspendedLanes&u;break}e.timeoutHandle=qo(Or.bind(null,e,ot,Kt),t);break}Or(e,ot,Kt);break;case 4:if(fr(e,a),(a&4194240)===a)break;for(t=e.eventTimes,u=-1;0<a;){var g=31-bt(a);d=1<<g,g=t[g],g>u&&(u=g),a&=~d}if(a=u,a=Te()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*kp(a/1960))-a,10<a){e.timeoutHandle=qo(Or.bind(null,e,ot,Kt),a);break}Or(e,ot,Kt);break;case 5:Or(e,ot,Kt);break;default:throw Error(s(329))}}}return at(e,Te()),e.callbackNode===i?ud.bind(null,e):null}function Da(e,t){var i=cs;return e.current.memoizedState.isDehydrated&&(Pr(e,t).flags|=256),e=Ti(e,t),e!==2&&(t=ot,ot=i,t!==null&&za(t)),e}function za(e){ot===null?ot=e:ot.push.apply(ot,e)}function Sp(e){for(var t=e;;){if(t.flags&16384){var i=t.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var a=0;a<i.length;a++){var u=i[a],d=u.getSnapshot;u=u.value;try{if(!Et(d(),u))return!1}catch{return!1}}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function fr(e,t){for(t&=~Ia,t&=~Si,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-bt(t),a=1<<i;e[i]=-1,t&=~a}}function cd(e){if((pe&6)!==0)throw Error(s(327));hn();var t=Us(e,0);if((t&1)===0)return at(e,Te()),null;var i=Ti(e,t);if(e.tag!==0&&i===2){var a=vo(e);a!==0&&(t=a,i=Da(e,a))}if(i===1)throw i=us,Pr(e,0),fr(e,t),at(e,Te()),i;if(i===6)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Or(e,ot,Kt),at(e,Te()),null}function Ma(e,t){var i=pe;pe|=1;try{return e(t)}finally{pe=i,pe===0&&(dn=Te()+500,ri&&or())}}function Rr(e){dr!==null&&dr.tag===0&&(pe&6)===0&&hn();var t=pe;pe|=1;var i=_t.transition,a=ge;try{if(_t.transition=null,ge=1,e)return e()}finally{ge=a,_t.transition=i,pe=t,(pe&6)===0&&or()}}function Ba(){ft=cn.current,Se(cn)}function Pr(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,Zf(i)),Ae!==null)for(i=Ae.return;i!==null;){var a=i;switch(Qo(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&ei();break;case 3:an(),Se(nt),Se(Ke),ua();break;case 5:aa(a);break;case 4:an();break;case 13:Se(Ee);break;case 19:Se(Ee);break;case 10:ra(a.type._context);break;case 22:case 23:Ba()}i=i.return}if(ze=e,Ae=e=pr(e.current,null),We=ft=t,$e=0,us=null,Ia=Si=Tr=0,ot=cs=null,jr!==null){for(t=0;t<jr.length;t++)if(i=jr[t],a=i.interleaved,a!==null){i.interleaved=null;var u=a.next,d=i.pending;if(d!==null){var g=d.next;d.next=u,a.next=g}i.pending=a}jr=null}return e}function dd(e,t){do{var i=Ae;try{if(ta(),hi.current=gi,fi){for(var a=je.memoizedState;a!==null;){var u=a.queue;u!==null&&(u.pending=null),a=a.next}fi=!1}if(Nr=0,De=Le=je=null,ns=!1,ss=0,Aa.current=null,i===null||i.return===null){$e=1,us=t,Ae=null;break}e:{var d=e,g=i.return,_=i,S=t;if(t=We,_.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){var P=S,D=_,z=D.tag;if((D.mode&1)===0&&(z===0||z===11||z===15)){var U=D.alternate;U?(D.updateQueue=U.updateQueue,D.memoizedState=U.memoizedState,D.lanes=U.lanes):(D.updateQueue=null,D.memoizedState=null)}var W=$c(g);if(W!==null){W.flags&=-257,Uc(W,g,_,d,t),W.mode&1&&Lc(d,P,t),t=W,S=P;var K=t.updateQueue;if(K===null){var G=new Set;G.add(S),t.updateQueue=G}else K.add(S);break e}else{if((t&1)===0){Lc(d,P,t),Fa();break e}S=Error(s(426))}}else if(be&&_.mode&1){var Re=$c(g);if(Re!==null){(Re.flags&65536)===0&&(Re.flags|=256),Uc(Re,g,_,d,t),Zo(ln(S,_));break e}}d=S=ln(S,_),$e!==4&&($e=2),cs===null?cs=[d]:cs.push(d),d=g;do{switch(d.tag){case 3:d.flags|=65536,t&=-t,d.lanes|=t;var T=Ac(d,S,t);oc(d,T);break e;case 1:_=S;var j=d.type,R=d.stateNode;if((d.flags&128)===0&&(typeof j.getDerivedStateFromError=="function"||R!==null&&typeof R.componentDidCatch=="function"&&(cr===null||!cr.has(R)))){d.flags|=65536,t&=-t,d.lanes|=t;var M=Ic(d,_,t);oc(d,M);break e}}d=d.return}while(d!==null)}pd(i)}catch(J){t=J,Ae===i&&i!==null&&(Ae=i=i.return);continue}break}while(!0)}function hd(){var e=ki.current;return ki.current=gi,e===null?gi:e}function Fa(){($e===0||$e===3||$e===2)&&($e=4),ze===null||(Tr&268435455)===0&&(Si&268435455)===0||fr(ze,We)}function Ti(e,t){var i=pe;pe|=2;var a=hd();(ze!==e||We!==t)&&(Kt=null,Pr(e,t));do try{bp();break}catch(u){dd(e,u)}while(!0);if(ta(),pe=i,ki.current=a,Ae!==null)throw Error(s(261));return ze=null,We=0,$e}function bp(){for(;Ae!==null;)fd(Ae)}function Ep(){for(;Ae!==null&&!Jh();)fd(Ae)}function fd(e){var t=vd(e.alternate,e,ft);e.memoizedProps=e.pendingProps,t===null?pd(e):Ae=t,Aa.current=null}function pd(e){var t=e;do{var i=t.alternate;if(e=t.return,(t.flags&32768)===0){if(i=vp(i,t,ft),i!==null){Ae=i;return}}else{if(i=yp(i,t),i!==null){i.flags&=32767,Ae=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{$e=6,Ae=null;return}}if(t=t.sibling,t!==null){Ae=t;return}Ae=t=e}while(t!==null);$e===0&&($e=5)}function Or(e,t,i){var a=ge,u=_t.transition;try{_t.transition=null,ge=1,jp(e,t,i,a)}finally{_t.transition=u,ge=a}return null}function jp(e,t,i,a){do hn();while(dr!==null);if((pe&6)!==0)throw Error(s(327));i=e.finishedWork;var u=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var d=i.lanes|i.childLanes;if(of(e,d),e===ze&&(Ae=ze=null,We=0),(i.subtreeFlags&2064)===0&&(i.flags&2064)===0||Ei||(Ei=!0,yd(As,function(){return hn(),null})),d=(i.flags&15990)!==0,(i.subtreeFlags&15990)!==0||d){d=_t.transition,_t.transition=null;var g=ge;ge=1;var _=pe;pe|=4,Aa.current=null,_p(e,i),sd(i,e),Hf(Fo),Ms=!!Bo,Fo=Bo=null,e.current=i,xp(i),Qh(),pe=_,ge=g,_t.transition=d}else e.current=i;if(Ei&&(Ei=!1,dr=e,ji=u),d=e.pendingLanes,d===0&&(cr=null),Zh(i.stateNode),at(e,Te()),t!==null)for(a=e.onRecoverableError,i=0;i<t.length;i++)u=t[i],a(u.value,{componentStack:u.stack,digest:u.digest});if(bi)throw bi=!1,e=$a,$a=null,e;return(ji&1)!==0&&e.tag!==0&&hn(),d=e.pendingLanes,(d&1)!==0?e===Ua?ds++:(ds=0,Ua=e):ds=0,or(),null}function hn(){if(dr!==null){var e=ru(ji),t=_t.transition,i=ge;try{if(_t.transition=null,ge=16>e?16:e,dr===null)var a=!1;else{if(e=dr,dr=null,ji=0,(pe&6)!==0)throw Error(s(331));var u=pe;for(pe|=4,H=e.current;H!==null;){var d=H,g=d.child;if((H.flags&16)!==0){var _=d.deletions;if(_!==null){for(var S=0;S<_.length;S++){var P=_[S];for(H=P;H!==null;){var D=H;switch(D.tag){case 0:case 11:case 15:ls(8,D,d)}var z=D.child;if(z!==null)z.return=D,H=z;else for(;H!==null;){D=H;var U=D.sibling,W=D.return;if(Zc(D),D===P){H=null;break}if(U!==null){U.return=W,H=U;break}H=W}}}var K=d.alternate;if(K!==null){var G=K.child;if(G!==null){K.child=null;do{var Re=G.sibling;G.sibling=null,G=Re}while(G!==null)}}H=d}}if((d.subtreeFlags&2064)!==0&&g!==null)g.return=d,H=g;else e:for(;H!==null;){if(d=H,(d.flags&2048)!==0)switch(d.tag){case 0:case 11:case 15:ls(9,d,d.return)}var T=d.sibling;if(T!==null){T.return=d.return,H=T;break e}H=d.return}}var j=e.current;for(H=j;H!==null;){g=H;var R=g.child;if((g.subtreeFlags&2064)!==0&&R!==null)R.return=g,H=R;else e:for(g=j;H!==null;){if(_=H,(_.flags&2048)!==0)try{switch(_.tag){case 0:case 11:case 15:xi(9,_)}}catch(J){Ce(_,_.return,J)}if(_===g){H=null;break e}var M=_.sibling;if(M!==null){M.return=_.return,H=M;break e}H=_.return}}if(pe=u,or(),It&&typeof It.onPostCommitFiberRoot=="function")try{It.onPostCommitFiberRoot(Is,e)}catch{}a=!0}return a}finally{ge=i,_t.transition=t}}return!1}function md(e,t,i){t=ln(i,t),t=Ac(e,t,1),e=lr(e,t,1),t=et(),e!==null&&(Ln(e,1,t),at(e,t))}function Ce(e,t,i){if(e.tag===3)md(e,e,i);else for(;t!==null;){if(t.tag===3){md(t,e,i);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(cr===null||!cr.has(a))){e=ln(i,e),e=Ic(t,e,1),t=lr(t,e,1),e=et(),t!==null&&(Ln(t,1,e),at(t,e));break}}t=t.return}}function Cp(e,t,i){var a=e.pingCache;a!==null&&a.delete(t),t=et(),e.pingedLanes|=e.suspendedLanes&i,ze===e&&(We&i)===i&&($e===4||$e===3&&(We&130023424)===We&&500>Te()-La?Pr(e,0):Ia|=i),at(e,t)}function gd(e,t){t===0&&((e.mode&1)===0?t=1:(t=$s,$s<<=1,($s&130023424)===0&&($s=4194304)));var i=et();e=qt(e,t),e!==null&&(Ln(e,t,i),at(e,i))}function Np(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),gd(e,i)}function Tp(e,t){var i=0;switch(e.tag){case 13:var a=e.stateNode,u=e.memoizedState;u!==null&&(i=u.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(s(314))}a!==null&&a.delete(t),gd(e,i)}var vd;vd=function(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps||nt.current)it=!0;else{if((e.lanes&i)===0&&(t.flags&128)===0)return it=!1,gp(e,t,i);it=(e.flags&131072)!==0}else it=!1,be&&(t.flags&1048576)!==0&&Qu(t,si,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;wi(e,t),e=t.pendingProps;var u=Zr(t,Ke.current);on(t,i),u=ha(null,t,a,e,u,i);var d=fa();return t.flags|=1,typeof u=="object"&&u!==null&&typeof u.render=="function"&&u.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,st(a)?(d=!0,ti(t)):d=!1,t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,ia(t),u.updater=vi,t.stateNode=u,u._reactInternals=t,wa(t,a,e,i),t=Sa(null,t,a,!0,d,i)):(t.tag=0,be&&d&&Jo(t),Ze(null,t,u,i),t=t.child),t;case 16:a=t.elementType;e:{switch(wi(e,t),e=t.pendingProps,u=a._init,a=u(a._payload),t.type=a,u=t.tag=Pp(a),e=Ct(a,e),u){case 0:t=ka(null,t,a,e,i);break e;case 1:t=Wc(null,t,a,e,i);break e;case 11:t=Dc(null,t,a,e,i);break e;case 14:t=zc(null,t,a,Ct(a.type,e),i);break e}throw Error(s(306,a,""))}return t;case 0:return a=t.type,u=t.pendingProps,u=t.elementType===a?u:Ct(a,u),ka(e,t,a,u,i);case 1:return a=t.type,u=t.pendingProps,u=t.elementType===a?u:Ct(a,u),Wc(e,t,a,u,i);case 3:e:{if(qc(t),e===null)throw Error(s(387));a=t.pendingProps,d=t.memoizedState,u=d.element,ic(e,t),ci(t,a,null,i);var g=t.memoizedState;if(a=g.element,d.isDehydrated)if(d={element:a,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){u=ln(Error(s(423)),t),t=Vc(e,t,a,i,u);break e}else if(a!==u){u=ln(Error(s(424)),t),t=Vc(e,t,a,i,u);break e}else for(ht=nr(t.stateNode.containerInfo.firstChild),dt=t,be=!0,jt=null,i=nc(t,null,a,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(rn(),a===u){t=Ht(e,t,i);break e}Ze(e,t,a,i)}t=t.child}return t;case 5:return lc(t),e===null&&Xo(t),a=t.type,u=t.pendingProps,d=e!==null?e.memoizedProps:null,g=u.children,Wo(a,u)?g=null:d!==null&&Wo(a,d)&&(t.flags|=32),Fc(e,t),Ze(e,t,g,i),t.child;case 6:return e===null&&Xo(t),null;case 13:return Hc(e,t,i);case 4:return oa(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=nn(t,null,a,i):Ze(e,t,a,i),t.child;case 11:return a=t.type,u=t.pendingProps,u=t.elementType===a?u:Ct(a,u),Dc(e,t,a,u,i);case 7:return Ze(e,t,t.pendingProps,i),t.child;case 8:return Ze(e,t,t.pendingProps.children,i),t.child;case 12:return Ze(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(a=t.type._context,u=t.pendingProps,d=t.memoizedProps,g=u.value,ye(ai,a._currentValue),a._currentValue=g,d!==null)if(Et(d.value,g)){if(d.children===u.children&&!nt.current){t=Ht(e,t,i);break e}}else for(d=t.child,d!==null&&(d.return=t);d!==null;){var _=d.dependencies;if(_!==null){g=d.child;for(var S=_.firstContext;S!==null;){if(S.context===a){if(d.tag===1){S=Vt(-1,i&-i),S.tag=2;var P=d.updateQueue;if(P!==null){P=P.shared;var D=P.pending;D===null?S.next=S:(S.next=D.next,D.next=S),P.pending=S}}d.lanes|=i,S=d.alternate,S!==null&&(S.lanes|=i),na(d.return,i,t),_.lanes|=i;break}S=S.next}}else if(d.tag===10)g=d.type===t.type?null:d.child;else if(d.tag===18){if(g=d.return,g===null)throw Error(s(341));g.lanes|=i,_=g.alternate,_!==null&&(_.lanes|=i),na(g,i,t),g=d.sibling}else g=d.child;if(g!==null)g.return=d;else for(g=d;g!==null;){if(g===t){g=null;break}if(d=g.sibling,d!==null){d.return=g.return,g=d;break}g=g.return}d=g}Ze(e,t,u.children,i),t=t.child}return t;case 9:return u=t.type,a=t.pendingProps.children,on(t,i),u=yt(u),a=a(u),t.flags|=1,Ze(e,t,a,i),t.child;case 14:return a=t.type,u=Ct(a,t.pendingProps),u=Ct(a.type,u),zc(e,t,a,u,i);case 15:return Mc(e,t,t.type,t.pendingProps,i);case 17:return a=t.type,u=t.pendingProps,u=t.elementType===a?u:Ct(a,u),wi(e,t),t.tag=1,st(a)?(e=!0,ti(t)):e=!1,on(t,i),Pc(t,a,u),wa(t,a,u,i),Sa(null,t,a,!0,e,i);case 19:return Gc(e,t,i);case 22:return Bc(e,t,i)}throw Error(s(156,t.tag))};function yd(e,t){return Yl(e,t)}function Rp(e,t,i,a){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xt(e,t,i,a){return new Rp(e,t,i,a)}function Wa(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Pp(e){if(typeof e=="function")return Wa(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ye)return 11;if(e===ut)return 14}return 2}function pr(e,t){var i=e.alternate;return i===null?(i=xt(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Ri(e,t,i,a,u,d){var g=2;if(a=e,typeof e=="function")Wa(e)&&(g=1);else if(typeof e=="string")g=5;else e:switch(e){case ce:return Ar(i.children,u,d,t);case _e:g=8,u|=8;break;case re:return e=xt(12,i,t,u|2),e.elementType=re,e.lanes=d,e;case Xe:return e=xt(13,i,t,u),e.elementType=Xe,e.lanes=d,e;case rt:return e=xt(19,i,t,u),e.elementType=rt,e.lanes=d,e;case xe:return Pi(i,u,d,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Oe:g=10;break e;case St:g=9;break e;case Ye:g=11;break e;case ut:g=14;break e;case Be:g=16,a=null;break e}throw Error(s(130,e==null?e:typeof e,""))}return t=xt(g,i,t,u),t.elementType=e,t.type=a,t.lanes=d,t}function Ar(e,t,i,a){return e=xt(7,e,a,t),e.lanes=i,e}function Pi(e,t,i,a){return e=xt(22,e,a,t),e.elementType=xe,e.lanes=i,e.stateNode={isHidden:!1},e}function qa(e,t,i){return e=xt(6,e,null,t),e.lanes=i,e}function Va(e,t,i){return t=xt(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Op(e,t,i,a,u){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yo(0),this.expirationTimes=yo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yo(0),this.identifierPrefix=a,this.onRecoverableError=u,this.mutableSourceEagerHydrationData=null}function Ha(e,t,i,a,u,d,g,_,S){return e=new Op(e,t,i,_,S),t===1?(t=1,d===!0&&(t|=8)):t=0,d=xt(3,null,null,t),e.current=d,d.stateNode=e,d.memoizedState={element:a,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},ia(d),e}function Ap(e,t,i){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:se,key:a==null?null:""+a,children:e,containerInfo:t,implementation:i}}function wd(e){if(!e)return ir;e=e._reactInternals;e:{if(xr(e)!==e||e.tag!==1)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(st(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(s(171))}if(e.tag===1){var i=e.type;if(st(i))return Ku(e,i,t)}return t}function _d(e,t,i,a,u,d,g,_,S){return e=Ha(i,a,!0,e,u,d,g,_,S),e.context=wd(null),i=e.current,a=et(),u=hr(i),d=Vt(a,u),d.callback=t??null,lr(i,d,u),e.current.lanes=u,Ln(e,u,a),at(e,a),e}function Oi(e,t,i,a){var u=t.current,d=et(),g=hr(u);return i=wd(i),t.context===null?t.context=i:t.pendingContext=i,t=Vt(d,g),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=lr(u,t,g),e!==null&&(Rt(e,u,g,d),ui(e,u,g)),g}function Ai(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function xd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function Ka(e,t){xd(e,t),(e=e.alternate)&&xd(e,t)}function Ip(){return null}var kd=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ga(e){this._internalRoot=e}Ii.prototype.render=Ga.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));Oi(e,t,null,null)},Ii.prototype.unmount=Ga.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Rr(function(){Oi(null,e,null,null)}),t[Mt]=null}};function Ii(e){this._internalRoot=e}Ii.prototype.unstable_scheduleHydration=function(e){if(e){var t=iu();e={blockedOn:null,target:e,priority:t};for(var i=0;i<er.length&&t!==0&&t<er[i].priority;i++);er.splice(i,0,e),i===0&&lu(e)}};function Ja(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Li(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Sd(){}function Lp(e,t,i,a,u){if(u){if(typeof a=="function"){var d=a;a=function(){var P=Ai(g);d.call(P)}}var g=_d(t,a,e,0,null,!1,!1,"",Sd);return e._reactRootContainer=g,e[Mt]=g.current,Jn(e.nodeType===8?e.parentNode:e),Rr(),g}for(;u=e.lastChild;)e.removeChild(u);if(typeof a=="function"){var _=a;a=function(){var P=Ai(S);_.call(P)}}var S=Ha(e,0,!1,null,null,!1,!1,"",Sd);return e._reactRootContainer=S,e[Mt]=S.current,Jn(e.nodeType===8?e.parentNode:e),Rr(function(){Oi(t,S,i,a)}),S}function $i(e,t,i,a,u){var d=i._reactRootContainer;if(d){var g=d;if(typeof u=="function"){var _=u;u=function(){var S=Ai(g);_.call(S)}}Oi(t,g,e,u)}else g=Lp(i,t,e,u,a);return Ai(g)}nu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=In(t.pendingLanes);i!==0&&(wo(t,i|1),at(t,Te()),(pe&6)===0&&(dn=Te()+500,or()))}break;case 13:Rr(function(){var a=qt(e,1);if(a!==null){var u=et();Rt(a,e,1,u)}}),Ka(e,1)}},_o=function(e){if(e.tag===13){var t=qt(e,134217728);if(t!==null){var i=et();Rt(t,e,134217728,i)}Ka(e,134217728)}},su=function(e){if(e.tag===13){var t=hr(e),i=qt(e,t);if(i!==null){var a=et();Rt(i,e,t,a)}Ka(e,t)}},iu=function(){return ge},ou=function(e,t){var i=ge;try{return ge=e,t()}finally{ge=i}},ho=function(e,t,i){switch(t){case"input":if(no(e,i),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var a=i[t];if(a!==e&&a.form===e.form){var u=Zs(a);if(!u)throw Error(s(90));Rl(a),no(a,u)}}}break;case"textarea":Ll(e,i);break;case"select":t=i.value,t!=null&&Br(e,!!i.multiple,t,!1)}},ql=Ma,Vl=Rr;var $p={usingClientEntryPoint:!1,Events:[Xn,Yr,Zs,Fl,Wl,Ma]},hs={findFiberByHostInstance:kr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Up={bundleType:hs.bundleType,version:hs.version,rendererPackageName:hs.rendererPackageName,rendererConfig:hs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:B.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Jl(e),e===null?null:e.stateNode},findFiberByHostInstance:hs.findFiberByHostInstance||Ip,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ui=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ui.isDisabled&&Ui.supportsFiber)try{Is=Ui.inject(Up),It=Ui}catch{}}return lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$p,lt.createPortal=function(e,t){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ja(t))throw Error(s(200));return Ap(e,t,null,i)},lt.createRoot=function(e,t){if(!Ja(e))throw Error(s(299));var i=!1,a="",u=kd;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(u=t.onRecoverableError)),t=Ha(e,1,!1,null,null,i,!1,a,u),e[Mt]=t.current,Jn(e.nodeType===8?e.parentNode:e),new Ga(t)},lt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=Jl(t),e=e===null?null:e.stateNode,e},lt.flushSync=function(e){return Rr(e)},lt.hydrate=function(e,t,i){if(!Li(t))throw Error(s(200));return $i(null,e,t,!0,i)},lt.hydrateRoot=function(e,t,i){if(!Ja(e))throw Error(s(405));var a=i!=null&&i.hydratedSources||null,u=!1,d="",g=kd;if(i!=null&&(i.unstable_strictMode===!0&&(u=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onRecoverableError!==void 0&&(g=i.onRecoverableError)),t=_d(t,null,e,1,i??null,u,!1,d,g),e[Mt]=t.current,Jn(e),a)for(e=0;e<a.length;e++)i=a[e],u=i._getVersion,u=u(i._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[i,u]:t.mutableSourceEagerHydrationData.push(i,u);return new Ii(t)},lt.render=function(e,t,i){if(!Li(t))throw Error(s(200));return $i(null,e,t,!1,i)},lt.unmountComponentAtNode=function(e){if(!Li(e))throw Error(s(40));return e._reactRootContainer?(Rr(function(){$i(null,null,e,!1,function(){e._reactRootContainer=null,e[Mt]=null})}),!0):!1},lt.unstable_batchedUpdates=Ma,lt.unstable_renderSubtreeIntoContainer=function(e,t,i,a){if(!Li(i))throw Error(s(200));if(e==null||e._reactInternals===void 0)throw Error(s(38));return $i(e,t,i,!1,a)},lt.version="18.3.1-next-f1338f8080-20240426",lt}var Pd;function ph(){if(Pd)return Xa.exports;Pd=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(r){console.error(r)}}return n(),Xa.exports=Gp(),Xa.exports}var Od;function Jp(){if(Od)return Di;Od=1;var n=ph();return Di.createRoot=n.createRoot,Di.hydrateRoot=n.hydrateRoot,Di}var Qp=Jp();ph();/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ys(){return ys=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(n[o]=s[o])}return n},ys.apply(this,arguments)}var yr;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(yr||(yr={}));const Ad="popstate";function Yp(n){n===void 0&&(n={});function r(o,l){let{pathname:c,search:h,hash:f}=o.location;return ul("",{pathname:c,search:h,hash:f},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function s(o,l){return typeof l=="string"?l:Hi(l)}return Zp(r,s,null,n)}function Pe(n,r){if(n===!1||n===null||typeof n>"u")throw new Error(r)}function Sl(n,r){if(!n){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function Xp(){return Math.random().toString(36).substr(2,8)}function Id(n,r){return{usr:n.state,key:n.key,idx:r}}function ul(n,r,s,o){return s===void 0&&(s=null),ys({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof r=="string"?bn(r):r,{state:s,key:r&&r.key||o||Xp()})}function Hi(n){let{pathname:r="/",search:s="",hash:o=""}=n;return s&&s!=="?"&&(r+=s.charAt(0)==="?"?s:"?"+s),o&&o!=="#"&&(r+=o.charAt(0)==="#"?o:"#"+o),r}function bn(n){let r={};if(n){let s=n.indexOf("#");s>=0&&(r.hash=n.substr(s),n=n.substr(0,s));let o=n.indexOf("?");o>=0&&(r.search=n.substr(o),n=n.substr(0,o)),n&&(r.pathname=n)}return r}function Zp(n,r,s,o){o===void 0&&(o={});let{window:l=document.defaultView,v5Compat:c=!1}=o,h=l.history,f=yr.Pop,m=null,v=y();v==null&&(v=0,h.replaceState(ys({},h.state,{idx:v}),""));function y(){return(h.state||{idx:null}).idx}function w(){f=yr.Pop;let k=y(),O=k==null?null:k-v;v=k,m&&m({action:f,location:C.location,delta:O})}function x(k,O){f=yr.Push;let L=ul(C.location,k,O);v=y()+1;let I=Id(L,v),B=C.createHref(L);try{h.pushState(I,"",B)}catch(le){if(le instanceof DOMException&&le.name==="DataCloneError")throw le;l.location.assign(B)}c&&m&&m({action:f,location:C.location,delta:1})}function b(k,O){f=yr.Replace;let L=ul(C.location,k,O);v=y();let I=Id(L,v),B=C.createHref(L);h.replaceState(I,"",B),c&&m&&m({action:f,location:C.location,delta:0})}function E(k){let O=l.location.origin!=="null"?l.location.origin:l.location.href,L=typeof k=="string"?k:Hi(k);return L=L.replace(/ $/,"%20"),Pe(O,"No window.location.(origin|href) available to create URL for href: "+L),new URL(L,O)}let C={get action(){return f},get location(){return n(l,h)},listen(k){if(m)throw new Error("A history only accepts one active listener");return l.addEventListener(Ad,w),m=k,()=>{l.removeEventListener(Ad,w),m=null}},createHref(k){return r(l,k)},createURL:E,encodeLocation(k){let O=E(k);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:x,replace:b,go(k){return h.go(k)}};return C}var Ld;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(Ld||(Ld={}));function em(n,r,s){return s===void 0&&(s="/"),tm(n,r,s)}function tm(n,r,s,o){let l=typeof r=="string"?bn(r):r,c=bl(l.pathname||"/",s);if(c==null)return null;let h=mh(n);rm(h);let f=null;for(let m=0;f==null&&m<h.length;++m){let v=pm(c);f=dm(h[m],v)}return f}function mh(n,r,s,o){r===void 0&&(r=[]),s===void 0&&(s=[]),o===void 0&&(o="");let l=(c,h,f)=>{let m={relativePath:f===void 0?c.path||"":f,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};m.relativePath.startsWith("/")&&(Pe(m.relativePath.startsWith(o),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(o.length));let v=wr([o,m.relativePath]),y=s.concat(m);c.children&&c.children.length>0&&(Pe(c.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+v+'".')),mh(c.children,r,y,v)),!(c.path==null&&!c.index)&&r.push({path:v,score:um(v,c.index),routesMeta:y})};return n.forEach((c,h)=>{var f;if(c.path===""||!((f=c.path)!=null&&f.includes("?")))l(c,h);else for(let m of gh(c.path))l(c,h,m)}),r}function gh(n){let r=n.split("/");if(r.length===0)return[];let[s,...o]=r,l=s.endsWith("?"),c=s.replace(/\?$/,"");if(o.length===0)return l?[c,""]:[c];let h=gh(o.join("/")),f=[];return f.push(...h.map(m=>m===""?c:[c,m].join("/"))),l&&f.push(...h),f.map(m=>n.startsWith("/")&&m===""?"/":m)}function rm(n){n.sort((r,s)=>r.score!==s.score?s.score-r.score:cm(r.routesMeta.map(o=>o.childrenIndex),s.routesMeta.map(o=>o.childrenIndex)))}const nm=/^:[\w-]+$/,sm=3,im=2,om=1,am=10,lm=-2,$d=n=>n==="*";function um(n,r){let s=n.split("/"),o=s.length;return s.some($d)&&(o+=lm),r&&(o+=im),s.filter(l=>!$d(l)).reduce((l,c)=>l+(nm.test(c)?sm:c===""?om:am),o)}function cm(n,r){return n.length===r.length&&n.slice(0,-1).every((o,l)=>o===r[l])?n[n.length-1]-r[r.length-1]:0}function dm(n,r,s){let{routesMeta:o}=n,l={},c="/",h=[];for(let f=0;f<o.length;++f){let m=o[f],v=f===o.length-1,y=c==="/"?r:r.slice(c.length)||"/",w=hm({path:m.relativePath,caseSensitive:m.caseSensitive,end:v},y),x=m.route;if(!w)return null;Object.assign(l,w.params),h.push({params:l,pathname:wr([c,w.pathname]),pathnameBase:wm(wr([c,w.pathnameBase])),route:x}),w.pathnameBase!=="/"&&(c=wr([c,w.pathnameBase]))}return h}function hm(n,r){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[s,o]=fm(n.path,n.caseSensitive,n.end),l=r.match(s);if(!l)return null;let c=l[0],h=c.replace(/(.)\/+$/,"$1"),f=l.slice(1);return{params:o.reduce((v,y,w)=>{let{paramName:x,isOptional:b}=y;if(x==="*"){let C=f[w]||"";h=c.slice(0,c.length-C.length).replace(/(.)\/+$/,"$1")}const E=f[w];return b&&!E?v[x]=void 0:v[x]=(E||"").replace(/%2F/g,"/"),v},{}),pathname:c,pathnameBase:h,pattern:n}}function fm(n,r,s){r===void 0&&(r=!1),s===void 0&&(s=!0),Sl(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let o=[],l="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,f,m)=>(o.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(o.push({paramName:"*"}),l+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?l+="\\/*$":n!==""&&n!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,r?void 0:"i"),o]}function pm(n){try{return n.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return Sl(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),n}}function bl(n,r){if(r==="/")return n;if(!n.toLowerCase().startsWith(r.toLowerCase()))return null;let s=r.endsWith("/")?r.length-1:r.length,o=n.charAt(s);return o&&o!=="/"?null:n.slice(s)||"/"}const mm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gm=n=>mm.test(n);function vm(n,r){r===void 0&&(r="/");let{pathname:s,search:o="",hash:l=""}=typeof n=="string"?bn(n):n,c;if(s)if(gm(s))c=s;else{if(s.includes("//")){let h=s;s=s.replace(/\/\/+/g,"/"),Sl(!1,"Pathnames cannot have embedded double slashes - normalizing "+(h+" -> "+s))}s.startsWith("/")?c=Ud(s.substring(1),"/"):c=Ud(s,r)}else c=r;return{pathname:c,search:_m(o),hash:xm(l)}}function Ud(n,r){let s=r.replace(/\/+$/,"").split("/");return n.split("/").forEach(l=>{l===".."?s.length>1&&s.pop():l!=="."&&s.push(l)}),s.length>1?s.join("/"):"/"}function tl(n,r,s,o){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ym(n){return n.filter((r,s)=>s===0||r.route.path&&r.route.path.length>0)}function El(n,r){let s=ym(n);return r?s.map((o,l)=>l===s.length-1?o.pathname:o.pathnameBase):s.map(o=>o.pathnameBase)}function jl(n,r,s,o){o===void 0&&(o=!1);let l;typeof n=="string"?l=bn(n):(l=ys({},n),Pe(!l.pathname||!l.pathname.includes("?"),tl("?","pathname","search",l)),Pe(!l.pathname||!l.pathname.includes("#"),tl("#","pathname","hash",l)),Pe(!l.search||!l.search.includes("#"),tl("#","search","hash",l)));let c=n===""||l.pathname==="",h=c?"/":l.pathname,f;if(h==null)f=s;else{let w=r.length-1;if(!o&&h.startsWith("..")){let x=h.split("/");for(;x[0]==="..";)x.shift(),w-=1;l.pathname=x.join("/")}f=w>=0?r[w]:"/"}let m=vm(l,f),v=h&&h!=="/"&&h.endsWith("/"),y=(c||h===".")&&s.endsWith("/");return!m.pathname.endsWith("/")&&(v||y)&&(m.pathname+="/"),m}const wr=n=>n.join("/").replace(/\/\/+/g,"/"),wm=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),_m=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,xm=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function km(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const vh=["post","put","patch","delete"];new Set(vh);const Sm=["get",...vh];new Set(Sm);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ws(){return ws=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(n[o]=s[o])}return n},ws.apply(this,arguments)}const Cl=A.createContext(null),bm=A.createContext(null),_r=A.createContext(null),Yi=A.createContext(null),zt=A.createContext({outlet:null,matches:[],isDataRoute:!1}),yh=A.createContext(null);function Em(n,r){let{relative:s}=r===void 0?{}:r;En()||Pe(!1);let{basename:o,navigator:l}=A.useContext(_r),{hash:c,pathname:h,search:f}=_h(n,{relative:s}),m=h;return o!=="/"&&(m=h==="/"?o:wr([o,h])),l.createHref({pathname:m,search:f,hash:c})}function En(){return A.useContext(Yi)!=null}function jn(){return En()||Pe(!1),A.useContext(Yi).location}function wh(n){A.useContext(_r).static||A.useLayoutEffect(n)}function Mr(){let{isDataRoute:n}=A.useContext(zt);return n?Bm():jm()}function jm(){En()||Pe(!1);let n=A.useContext(Cl),{basename:r,future:s,navigator:o}=A.useContext(_r),{matches:l}=A.useContext(zt),{pathname:c}=jn(),h=JSON.stringify(El(l,s.v7_relativeSplatPath)),f=A.useRef(!1);return wh(()=>{f.current=!0}),A.useCallback(function(v,y){if(y===void 0&&(y={}),!f.current)return;if(typeof v=="number"){o.go(v);return}let w=jl(v,JSON.parse(h),c,y.relative==="path");n==null&&r!=="/"&&(w.pathname=w.pathname==="/"?r:wr([r,w.pathname])),(y.replace?o.replace:o.push)(w,y.state,y)},[r,o,h,c,n])}const Cm=A.createContext(null);function Nm(n){let r=A.useContext(zt).outlet;return r&&A.createElement(Cm.Provider,{value:n},r)}function Tm(){let{matches:n}=A.useContext(zt),r=n[n.length-1];return r?r.params:{}}function _h(n,r){let{relative:s}=r===void 0?{}:r,{future:o}=A.useContext(_r),{matches:l}=A.useContext(zt),{pathname:c}=jn(),h=JSON.stringify(El(l,o.v7_relativeSplatPath));return A.useMemo(()=>jl(n,JSON.parse(h),c,s==="path"),[n,h,c,s])}function Rm(n,r){return Pm(n,r)}function Pm(n,r,s,o){En()||Pe(!1);let{navigator:l}=A.useContext(_r),{matches:c}=A.useContext(zt),h=c[c.length-1],f=h?h.params:{};h&&h.pathname;let m=h?h.pathnameBase:"/";h&&h.route;let v=jn(),y;if(r){var w;let k=typeof r=="string"?bn(r):r;m==="/"||(w=k.pathname)!=null&&w.startsWith(m)||Pe(!1),y=k}else y=v;let x=y.pathname||"/",b=x;if(m!=="/"){let k=m.replace(/^\//,"").split("/");b="/"+x.replace(/^\//,"").split("/").slice(k.length).join("/")}let E=em(n,{pathname:b}),C=$m(E&&E.map(k=>Object.assign({},k,{params:Object.assign({},f,k.params),pathname:wr([m,l.encodeLocation?l.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?m:wr([m,l.encodeLocation?l.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),c,s,o);return r&&C?A.createElement(Yi.Provider,{value:{location:ws({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:yr.Pop}},C):C}function Om(){let n=Mm(),r=km(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),s=n instanceof Error?n.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},r),s?A.createElement("pre",{style:l},s):null,null)}const Am=A.createElement(Om,null);class Im extends A.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,s){return s.location!==r.location||s.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:s.error,location:s.location,revalidation:r.revalidation||s.revalidation}}componentDidCatch(r,s){console.error("React Router caught the following error during render",r,s)}render(){return this.state.error!==void 0?A.createElement(zt.Provider,{value:this.props.routeContext},A.createElement(yh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Lm(n){let{routeContext:r,match:s,children:o}=n,l=A.useContext(Cl);return l&&l.static&&l.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=s.route.id),A.createElement(zt.Provider,{value:r},o)}function $m(n,r,s,o){var l;if(r===void 0&&(r=[]),s===void 0&&(s=null),o===void 0&&(o=null),n==null){var c;if(!s)return null;if(s.errors)n=s.matches;else if((c=o)!=null&&c.v7_partialHydration&&r.length===0&&!s.initialized&&s.matches.length>0)n=s.matches;else return null}let h=n,f=(l=s)==null?void 0:l.errors;if(f!=null){let y=h.findIndex(w=>w.route.id&&(f==null?void 0:f[w.route.id])!==void 0);y>=0||Pe(!1),h=h.slice(0,Math.min(h.length,y+1))}let m=!1,v=-1;if(s&&o&&o.v7_partialHydration)for(let y=0;y<h.length;y++){let w=h[y];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(v=y),w.route.id){let{loaderData:x,errors:b}=s,E=w.route.loader&&x[w.route.id]===void 0&&(!b||b[w.route.id]===void 0);if(w.route.lazy||E){m=!0,v>=0?h=h.slice(0,v+1):h=[h[0]];break}}}return h.reduceRight((y,w,x)=>{let b,E=!1,C=null,k=null;s&&(b=f&&w.route.id?f[w.route.id]:void 0,C=w.route.errorElement||Am,m&&(v<0&&x===0?(Fm("route-fallback"),E=!0,k=null):v===x&&(E=!0,k=w.route.hydrateFallbackElement||null)));let O=r.concat(h.slice(0,x+1)),L=()=>{let I;return b?I=C:E?I=k:w.route.Component?I=A.createElement(w.route.Component,null):w.route.element?I=w.route.element:I=y,A.createElement(Lm,{match:w,routeContext:{outlet:y,matches:O,isDataRoute:s!=null},children:I})};return s&&(w.route.ErrorBoundary||w.route.errorElement||x===0)?A.createElement(Im,{location:s.location,revalidation:s.revalidation,component:C,error:b,children:L(),routeContext:{outlet:null,matches:O,isDataRoute:!0}}):L()},null)}var xh=(function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n})(xh||{}),kh=(function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n})(kh||{});function Um(n){let r=A.useContext(Cl);return r||Pe(!1),r}function Dm(n){let r=A.useContext(bm);return r||Pe(!1),r}function zm(n){let r=A.useContext(zt);return r||Pe(!1),r}function Sh(n){let r=zm(),s=r.matches[r.matches.length-1];return s.route.id||Pe(!1),s.route.id}function Mm(){var n;let r=A.useContext(yh),s=Dm(),o=Sh();return r!==void 0?r:(n=s.errors)==null?void 0:n[o]}function Bm(){let{router:n}=Um(xh.UseNavigateStable),r=Sh(kh.UseNavigateStable),s=A.useRef(!1);return wh(()=>{s.current=!0}),A.useCallback(function(l,c){c===void 0&&(c={}),s.current&&(typeof l=="number"?n.navigate(l):n.navigate(l,ws({fromRouteId:r},c)))},[n,r])}const Dd={};function Fm(n,r,s){Dd[n]||(Dd[n]=!0)}function Wm(n,r){n==null||n.v7_startTransition,n==null||n.v7_relativeSplatPath}function Ki(n){let{to:r,replace:s,state:o,relative:l}=n;En()||Pe(!1);let{future:c,static:h}=A.useContext(_r),{matches:f}=A.useContext(zt),{pathname:m}=jn(),v=Mr(),y=jl(r,El(f,c.v7_relativeSplatPath),m,l==="path"),w=JSON.stringify(y);return A.useEffect(()=>v(JSON.parse(w),{replace:s,state:o,relative:l}),[v,w,l,s,o]),null}function qm(n){return Nm(n.context)}function Gt(n){Pe(!1)}function Vm(n){let{basename:r="/",children:s=null,location:o,navigationType:l=yr.Pop,navigator:c,static:h=!1,future:f}=n;En()&&Pe(!1);let m=r.replace(/^\/*/,"/"),v=A.useMemo(()=>({basename:m,navigator:c,static:h,future:ws({v7_relativeSplatPath:!1},f)}),[m,f,c,h]);typeof o=="string"&&(o=bn(o));let{pathname:y="/",search:w="",hash:x="",state:b=null,key:E="default"}=o,C=A.useMemo(()=>{let k=bl(y,m);return k==null?null:{location:{pathname:k,search:w,hash:x,state:b,key:E},navigationType:l}},[m,y,w,x,b,E,l]);return C==null?null:A.createElement(_r.Provider,{value:v},A.createElement(Yi.Provider,{children:s,value:C}))}function Hm(n){let{children:r,location:s}=n;return Rm(cl(r),s)}new Promise(()=>{});function cl(n,r){r===void 0&&(r=[]);let s=[];return A.Children.forEach(n,(o,l)=>{if(!A.isValidElement(o))return;let c=[...r,l];if(o.type===A.Fragment){s.push.apply(s,cl(o.props.children,c));return}o.type!==Gt&&Pe(!1),!o.props.index||!o.props.children||Pe(!1);let h={id:o.props.id||c.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(h.children=cl(o.props.children,c)),s.push(h)}),s}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dl(){return dl=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(n[o]=s[o])}return n},dl.apply(this,arguments)}function Km(n,r){if(n==null)return{};var s={},o=Object.keys(n),l,c;for(c=0;c<o.length;c++)l=o[c],!(r.indexOf(l)>=0)&&(s[l]=n[l]);return s}function Gm(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Jm(n,r){return n.button===0&&(!r||r==="_self")&&!Gm(n)}const Qm=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Ym="6";try{window.__reactRouterVersion=Ym}catch{}const Xm="startTransition",zd=Vp[Xm];function Zm(n){let{basename:r,children:s,future:o,window:l}=n,c=A.useRef();c.current==null&&(c.current=Yp({window:l,v5Compat:!0}));let h=c.current,[f,m]=A.useState({action:h.action,location:h.location}),{v7_startTransition:v}=o||{},y=A.useCallback(w=>{v&&zd?zd(()=>m(w)):m(w)},[m,v]);return A.useLayoutEffect(()=>h.listen(y),[h,y]),A.useEffect(()=>Wm(o),[o]),A.createElement(Vm,{basename:r,children:s,location:f.location,navigationType:f.action,navigator:h,future:o})}const eg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",tg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tt=A.forwardRef(function(r,s){let{onClick:o,relative:l,reloadDocument:c,replace:h,state:f,target:m,to:v,preventScrollReset:y,viewTransition:w}=r,x=Km(r,Qm),{basename:b}=A.useContext(_r),E,C=!1;if(typeof v=="string"&&tg.test(v)&&(E=v,eg))try{let I=new URL(window.location.href),B=v.startsWith("//")?new URL(I.protocol+v):new URL(v),le=bl(B.pathname,b);B.origin===I.origin&&le!=null?v=le+B.search+B.hash:C=!0}catch{}let k=Em(v,{relative:l}),O=rg(v,{replace:h,state:f,target:m,preventScrollReset:y,relative:l,viewTransition:w});function L(I){o&&o(I),I.defaultPrevented||O(I)}return A.createElement("a",dl({},x,{href:E||k,onClick:C||c?o:L,ref:s,target:m}))});var Md;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(Md||(Md={}));var Bd;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(Bd||(Bd={}));function rg(n,r){let{target:s,replace:o,state:l,preventScrollReset:c,relative:h,viewTransition:f}=r===void 0?{}:r,m=Mr(),v=jn(),y=_h(n,{relative:h});return A.useCallback(w=>{if(Jm(w,s)){w.preventDefault();let x=o!==void 0?o:Hi(v)===Hi(y);m(n,{replace:x,state:l,preventScrollReset:c,relative:h,viewTransition:f})}},[v,m,y,o,l,s,n,c,h,f])}function Xi(n,r){var s={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&r.indexOf(o)<0&&(s[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)r.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(s[o[l]]=n[o[l]]);return s}function ng(n,r,s,o){function l(c){return c instanceof s?c:new s(function(h){h(c)})}return new(s||(s=Promise))(function(c,h){function f(y){try{v(o.next(y))}catch(w){h(w)}}function m(y){try{v(o.throw(y))}catch(w){h(w)}}function v(y){y.done?c(y.value):l(y.value).then(f,m)}v((o=o.apply(n,r||[])).next())})}const sg=n=>n?(...r)=>n(...r):(...r)=>fetch(...r);class Nl extends Error{constructor(r,s="FunctionsError",o){super(r),this.name=s,this.context=o}}class ig extends Nl{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class Fd extends Nl{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class Wd extends Nl{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var hl;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(hl||(hl={}));class og{constructor(r,{headers:s={},customFetch:o,region:l=hl.Any}={}){this.url=r,this.headers=s,this.region=l,this.fetch=sg(o)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r){return ng(this,arguments,void 0,function*(s,o={}){var l;let c,h;try{const{headers:f,method:m,body:v,signal:y,timeout:w}=o;let x={},{region:b}=o;b||(b=this.region);const E=new URL(`${this.url}/${s}`);b&&b!=="any"&&(x["x-region"]=b,E.searchParams.set("forceFunctionRegion",b));let C;v&&(f&&!Object.prototype.hasOwnProperty.call(f,"Content-Type")||!f)?typeof Blob<"u"&&v instanceof Blob||v instanceof ArrayBuffer?(x["Content-Type"]="application/octet-stream",C=v):typeof v=="string"?(x["Content-Type"]="text/plain",C=v):typeof FormData<"u"&&v instanceof FormData?C=v:(x["Content-Type"]="application/json",C=JSON.stringify(v)):v&&typeof v!="string"&&!(typeof Blob<"u"&&v instanceof Blob)&&!(v instanceof ArrayBuffer)&&!(typeof FormData<"u"&&v instanceof FormData)?C=JSON.stringify(v):C=v;let k=y;w&&(h=new AbortController,c=setTimeout(()=>h.abort(),w),y?(k=h.signal,y.addEventListener("abort",()=>h.abort())):k=h.signal);const O=yield this.fetch(E.toString(),{method:m||"POST",headers:Object.assign(Object.assign(Object.assign({},x),this.headers),f),body:C,signal:k}).catch(le=>{throw new ig(le)}),L=O.headers.get("x-relay-error");if(L&&L==="true")throw new Fd(O);if(!O.ok)throw new Wd(O);let I=((l=O.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),B;return I==="application/json"?B=yield O.json():I==="application/octet-stream"||I==="application/pdf"?B=yield O.blob():I==="text/event-stream"?B=O:I==="multipart/form-data"?B=yield O.formData():B=yield O.text(),{data:B,error:null,response:O}}catch(f){return{data:null,error:f,response:f instanceof Wd||f instanceof Fd?f.context:void 0}}finally{c&&clearTimeout(c)}})}}var ag=class extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}},lg=class{constructor(n){var r,s,o;this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=new Headers(n.headers),this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=(r=n.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=n.signal,this.isMaybeSingle=(s=n.isMaybeSingle)!==null&&s!==void 0?s:!1,this.urlLengthLimit=(o=n.urlLengthLimit)!==null&&o!==void 0?o:8e3,n.fetch?this.fetch=n.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,r){return this.headers=new Headers(this.headers),this.headers.set(n,r),this}then(n,r){var s=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let l=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{let h=null,f=null,m=null,v=c.status,y=c.statusText;if(c.ok){var w,x;if(s.method!=="HEAD"){var b;const O=await c.text();O===""||(s.headers.get("Accept")==="text/csv"||s.headers.get("Accept")&&(!((b=s.headers.get("Accept"))===null||b===void 0)&&b.includes("application/vnd.pgrst.plan+text"))?f=O:f=JSON.parse(O))}const C=(w=s.headers.get("Prefer"))===null||w===void 0?void 0:w.match(/count=(exact|planned|estimated)/),k=(x=c.headers.get("content-range"))===null||x===void 0?void 0:x.split("/");C&&k&&k.length>1&&(m=parseInt(k[1])),s.isMaybeSingle&&s.method==="GET"&&Array.isArray(f)&&(f.length>1?(h={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,m=null,v=406,y="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{var E;const C=await c.text();try{h=JSON.parse(C),Array.isArray(h)&&c.status===404&&(f=[],h=null,v=200,y="OK")}catch{c.status===404&&C===""?(v=204,y="No Content"):h={message:C}}if(h&&s.isMaybeSingle&&(!(h==null||(E=h.details)===null||E===void 0)&&E.includes("0 rows"))&&(h=null,v=200,y="OK"),h&&s.shouldThrowOnError)throw new ag(h)}return{error:h,data:f,count:m,status:v,statusText:y}});return this.shouldThrowOnError||(l=l.catch(c=>{var h;let f="",m="",v="";const y=c==null?void 0:c.cause;if(y){var w,x,b,E;const O=(w=y==null?void 0:y.message)!==null&&w!==void 0?w:"",L=(x=y==null?void 0:y.code)!==null&&x!==void 0?x:"";f=`${(b=c==null?void 0:c.name)!==null&&b!==void 0?b:"FetchError"}: ${c==null?void 0:c.message}`,f+=`

Caused by: ${(E=y==null?void 0:y.name)!==null&&E!==void 0?E:"Error"}: ${O}`,L&&(f+=` (${L})`),y!=null&&y.stack&&(f+=`
${y.stack}`)}else{var C;f=(C=c==null?void 0:c.stack)!==null&&C!==void 0?C:""}const k=this.url.toString().length;return(c==null?void 0:c.name)==="AbortError"||(c==null?void 0:c.code)==="ABORT_ERR"?(v="",m="Request was aborted (timeout or manual cancellation)",k>this.urlLengthLimit&&(m+=`. Note: Your request URL is ${k} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((y==null?void 0:y.name)==="HeadersOverflowError"||(y==null?void 0:y.code)==="UND_ERR_HEADERS_OVERFLOW")&&(v="",m="HTTP headers exceeded server limits (typically 16KB)",k>this.urlLengthLimit&&(m+=`. Your request URL is ${k} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(h=c==null?void 0:c.name)!==null&&h!==void 0?h:"FetchError"}: ${c==null?void 0:c.message}`,details:f,hint:m,code:v},data:null,count:null,status:0,statusText:""}})),l.then(n,r)}returns(){return this}overrideTypes(){return this}},ug=class extends lg{select(n){let r=!1;const s=(n??"*").split("").map(o=>/\s/.test(o)&&!r?"":(o==='"'&&(r=!r),o)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(n,{ascending:r=!0,nullsFirst:s,foreignTable:o,referencedTable:l=o}={}){const c=l?`${l}.order`:"order",h=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${h?`${h},`:""}${n}.${r?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:r,referencedTable:s=r}={}){const o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${n}`),this}range(n,r,{foreignTable:s,referencedTable:o=s}={}){const l=typeof o>"u"?"offset":`${o}.offset`,c=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${n}`),this.url.searchParams.set(c,`${r-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:n=!1,verbose:r=!1,settings:s=!1,buffers:o=!1,wal:l=!1,format:c="text"}={}){var h;const f=[n?"analyze":null,r?"verbose":null,s?"settings":null,o?"buffers":null,l?"wal":null].filter(Boolean).join("|"),m=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${m}"; options=${f};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${n}`),this}};const qd=new RegExp("[,()]");var wn=class extends ug{eq(n,r){return this.url.searchParams.append(n,`eq.${r}`),this}neq(n,r){return this.url.searchParams.append(n,`neq.${r}`),this}gt(n,r){return this.url.searchParams.append(n,`gt.${r}`),this}gte(n,r){return this.url.searchParams.append(n,`gte.${r}`),this}lt(n,r){return this.url.searchParams.append(n,`lt.${r}`),this}lte(n,r){return this.url.searchParams.append(n,`lte.${r}`),this}like(n,r){return this.url.searchParams.append(n,`like.${r}`),this}likeAllOf(n,r){return this.url.searchParams.append(n,`like(all).{${r.join(",")}}`),this}likeAnyOf(n,r){return this.url.searchParams.append(n,`like(any).{${r.join(",")}}`),this}ilike(n,r){return this.url.searchParams.append(n,`ilike.${r}`),this}ilikeAllOf(n,r){return this.url.searchParams.append(n,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(n,r){return this.url.searchParams.append(n,`ilike(any).{${r.join(",")}}`),this}regexMatch(n,r){return this.url.searchParams.append(n,`match.${r}`),this}regexIMatch(n,r){return this.url.searchParams.append(n,`imatch.${r}`),this}is(n,r){return this.url.searchParams.append(n,`is.${r}`),this}isDistinct(n,r){return this.url.searchParams.append(n,`isdistinct.${r}`),this}in(n,r){const s=Array.from(new Set(r)).map(o=>typeof o=="string"&&qd.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(n,`in.(${s})`),this}notIn(n,r){const s=Array.from(new Set(r)).map(o=>typeof o=="string"&&qd.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(n,`not.in.(${s})`),this}contains(n,r){return typeof r=="string"?this.url.searchParams.append(n,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(n,`cs.{${r.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(r)}`),this}containedBy(n,r){return typeof r=="string"?this.url.searchParams.append(n,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(n,`cd.{${r.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(r)}`),this}rangeGt(n,r){return this.url.searchParams.append(n,`sr.${r}`),this}rangeGte(n,r){return this.url.searchParams.append(n,`nxl.${r}`),this}rangeLt(n,r){return this.url.searchParams.append(n,`sl.${r}`),this}rangeLte(n,r){return this.url.searchParams.append(n,`nxr.${r}`),this}rangeAdjacent(n,r){return this.url.searchParams.append(n,`adj.${r}`),this}overlaps(n,r){return typeof r=="string"?this.url.searchParams.append(n,`ov.${r}`):this.url.searchParams.append(n,`ov.{${r.join(",")}}`),this}textSearch(n,r,{config:s,type:o}={}){let l="";o==="plain"?l="pl":o==="phrase"?l="ph":o==="websearch"&&(l="w");const c=s===void 0?"":`(${s})`;return this.url.searchParams.append(n,`${l}fts${c}.${r}`),this}match(n){return Object.entries(n).forEach(([r,s])=>{this.url.searchParams.append(r,`eq.${s}`)}),this}not(n,r,s){return this.url.searchParams.append(n,`not.${r}.${s}`),this}or(n,{foreignTable:r,referencedTable:s=r}={}){const o=s?`${s}.or`:"or";return this.url.searchParams.append(o,`(${n})`),this}filter(n,r,s){return this.url.searchParams.append(n,`${r}.${s}`),this}},cg=class{constructor(n,{headers:r={},schema:s,fetch:o,urlLengthLimit:l=8e3}){this.url=n,this.headers=new Headers(r),this.schema=s,this.fetch=o,this.urlLengthLimit=l}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(n,r){const{head:s=!1,count:o}=r??{},l=s?"HEAD":"GET";let c=!1;const h=(n??"*").split("").map(v=>/\s/.test(v)&&!c?"":(v==='"'&&(c=!c),v)).join(""),{url:f,headers:m}=this.cloneRequestState();return f.searchParams.set("select",h),o&&m.append("Prefer",`count=${o}`),new wn({method:l,url:f,headers:m,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(n,{count:r,defaultToNull:s=!0}={}){var o;const l="POST",{url:c,headers:h}=this.cloneRequestState();if(r&&h.append("Prefer",`count=${r}`),s||h.append("Prefer","missing=default"),Array.isArray(n)){const f=n.reduce((m,v)=>m.concat(Object.keys(v)),[]);if(f.length>0){const m=[...new Set(f)].map(v=>`"${v}"`);c.searchParams.set("columns",m.join(","))}}return new wn({method:l,url:c,headers:h,schema:this.schema,body:n,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(n,{onConflict:r,ignoreDuplicates:s=!1,count:o,defaultToNull:l=!0}={}){var c;const h="POST",{url:f,headers:m}=this.cloneRequestState();if(m.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),r!==void 0&&f.searchParams.set("on_conflict",r),o&&m.append("Prefer",`count=${o}`),l||m.append("Prefer","missing=default"),Array.isArray(n)){const v=n.reduce((y,w)=>y.concat(Object.keys(w)),[]);if(v.length>0){const y=[...new Set(v)].map(w=>`"${w}"`);f.searchParams.set("columns",y.join(","))}}return new wn({method:h,url:f,headers:m,schema:this.schema,body:n,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch,urlLengthLimit:this.urlLengthLimit})}update(n,{count:r}={}){var s;const o="PATCH",{url:l,headers:c}=this.cloneRequestState();return r&&c.append("Prefer",`count=${r}`),new wn({method:o,url:l,headers:c,schema:this.schema,body:n,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:n}={}){var r;const s="DELETE",{url:o,headers:l}=this.cloneRequestState();return n&&l.append("Prefer",`count=${n}`),new wn({method:s,url:o,headers:l,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}};function _s(n){"@babel/helpers - typeof";return _s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},_s(n)}function dg(n,r){if(_s(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var o=s.call(n,r);if(_s(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(n)}function hg(n){var r=dg(n,"string");return _s(r)=="symbol"?r:r+""}function fg(n,r,s){return(r=hg(r))in n?Object.defineProperty(n,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[r]=s,n}function Vd(n,r){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);r&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable})),s.push.apply(s,o)}return s}function zi(n){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?Vd(Object(s),!0).forEach(function(o){fg(n,o,s[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):Vd(Object(s)).forEach(function(o){Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(s,o))})}return n}var pg=class bh{constructor(r,{headers:s={},schema:o,fetch:l,timeout:c,urlLengthLimit:h=8e3}={}){this.url=r,this.headers=new Headers(s),this.schemaName=o,this.urlLengthLimit=h;const f=l??globalThis.fetch;c!==void 0&&c>0?this.fetch=(m,v)=>{const y=new AbortController,w=setTimeout(()=>y.abort(),c),x=v==null?void 0:v.signal;if(x){if(x.aborted)return clearTimeout(w),f(m,v);const b=()=>{clearTimeout(w),y.abort()};return x.addEventListener("abort",b,{once:!0}),f(m,zi(zi({},v),{},{signal:y.signal})).finally(()=>{clearTimeout(w),x.removeEventListener("abort",b)})}return f(m,zi(zi({},v),{},{signal:y.signal})).finally(()=>clearTimeout(w))}:this.fetch=f}from(r){if(!r||typeof r!="string"||r.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new cg(new URL(`${this.url}/${r}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(r){return new bh(this.url,{headers:this.headers,schema:r,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(r,s={},{head:o=!1,get:l=!1,count:c}={}){var h;let f;const m=new URL(`${this.url}/rpc/${r}`);let v;const y=b=>b!==null&&typeof b=="object"&&(!Array.isArray(b)||b.some(y)),w=o&&Object.values(s).some(y);w?(f="POST",v=s):o||l?(f=o?"HEAD":"GET",Object.entries(s).filter(([b,E])=>E!==void 0).map(([b,E])=>[b,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([b,E])=>{m.searchParams.append(b,E)})):(f="POST",v=s);const x=new Headers(this.headers);return w?x.set("Prefer",c?`count=${c},return=minimal`:"return=minimal"):c&&x.set("Prefer",`count=${c}`),new wn({method:f,url:m,headers:x,schema:this.schemaName,body:v,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch,urlLengthLimit:this.urlLengthLimit})}};class mg{constructor(){}static detectEnvironment(){var r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((r=navigator.userAgent)===null||r===void 0)&&r.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const s=globalThis.process;if(s){const o=s.versions;if(o&&o.node){const l=o.node,c=parseInt(l.replace(/^v/,"").split(".")[0]);return c>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${c} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${c} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const r=this.detectEnvironment();if(r.constructor)return r.constructor;let s=r.error||"WebSocket not supported in this environment.";throw r.workaround&&(s+=`

Suggested solution: ${r.workaround}`),new Error(s)}static createWebSocket(r,s){const o=this.getWebSocketConstructor();return new o(r,s)}static isWebSocketSupported(){try{const r=this.detectEnvironment();return r.type==="native"||r.type==="ws"}catch{return!1}}}const gg="2.97.0",vg=`realtime-js/${gg}`,yg="1.0.0",Eh="2.0.0",Hd=Eh,fl=1e4,wg=1e3,_g=100;var gr;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(gr||(gr={}));var Ue;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(Ue||(Ue={}));var At;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(At||(At={}));var pl;(function(n){n.websocket="websocket"})(pl||(pl={}));var Ur;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(Ur||(Ur={}));class xg{constructor(r){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=r??[]}encode(r,s){if(r.event===this.BROADCAST_EVENT&&!(r.payload instanceof ArrayBuffer)&&typeof r.payload.event=="string")return s(this._binaryEncodeUserBroadcastPush(r));let o=[r.join_ref,r.ref,r.topic,r.event,r.payload];return s(JSON.stringify(o))}_binaryEncodeUserBroadcastPush(r){var s;return this._isArrayBuffer((s=r.payload)===null||s===void 0?void 0:s.payload)?this._encodeBinaryUserBroadcastPush(r):this._encodeJsonUserBroadcastPush(r)}_encodeBinaryUserBroadcastPush(r){var s,o;const l=(o=(s=r.payload)===null||s===void 0?void 0:s.payload)!==null&&o!==void 0?o:new ArrayBuffer(0);return this._encodeUserBroadcastPush(r,this.BINARY_ENCODING,l)}_encodeJsonUserBroadcastPush(r){var s,o;const l=(o=(s=r.payload)===null||s===void 0?void 0:s.payload)!==null&&o!==void 0?o:{},h=new TextEncoder().encode(JSON.stringify(l)).buffer;return this._encodeUserBroadcastPush(r,this.JSON_ENCODING,h)}_encodeUserBroadcastPush(r,s,o){var l,c;const h=r.topic,f=(l=r.ref)!==null&&l!==void 0?l:"",m=(c=r.join_ref)!==null&&c!==void 0?c:"",v=r.payload.event,y=this.allowedMetadataKeys?this._pick(r.payload,this.allowedMetadataKeys):{},w=Object.keys(y).length===0?"":JSON.stringify(y);if(m.length>255)throw new Error(`joinRef length ${m.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`ref length ${f.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`topic length ${h.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`userEvent length ${v.length} exceeds maximum of 255`);if(w.length>255)throw new Error(`metadata length ${w.length} exceeds maximum of 255`);const x=this.USER_BROADCAST_PUSH_META_LENGTH+m.length+f.length+h.length+v.length+w.length,b=new ArrayBuffer(this.HEADER_LENGTH+x);let E=new DataView(b),C=0;E.setUint8(C++,this.KINDS.userBroadcastPush),E.setUint8(C++,m.length),E.setUint8(C++,f.length),E.setUint8(C++,h.length),E.setUint8(C++,v.length),E.setUint8(C++,w.length),E.setUint8(C++,s),Array.from(m,O=>E.setUint8(C++,O.charCodeAt(0))),Array.from(f,O=>E.setUint8(C++,O.charCodeAt(0))),Array.from(h,O=>E.setUint8(C++,O.charCodeAt(0))),Array.from(v,O=>E.setUint8(C++,O.charCodeAt(0))),Array.from(w,O=>E.setUint8(C++,O.charCodeAt(0)));var k=new Uint8Array(b.byteLength+o.byteLength);return k.set(new Uint8Array(b),0),k.set(new Uint8Array(o),b.byteLength),k.buffer}decode(r,s){if(this._isArrayBuffer(r)){let o=this._binaryDecode(r);return s(o)}if(typeof r=="string"){const o=JSON.parse(r),[l,c,h,f,m]=o;return s({join_ref:l,ref:c,topic:h,event:f,payload:m})}return s({})}_binaryDecode(r){const s=new DataView(r),o=s.getUint8(0),l=new TextDecoder;switch(o){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(r,s,l)}}_decodeUserBroadcast(r,s,o){const l=s.getUint8(1),c=s.getUint8(2),h=s.getUint8(3),f=s.getUint8(4);let m=this.HEADER_LENGTH+4;const v=o.decode(r.slice(m,m+l));m=m+l;const y=o.decode(r.slice(m,m+c));m=m+c;const w=o.decode(r.slice(m,m+h));m=m+h;const x=r.slice(m,r.byteLength),b=f===this.JSON_ENCODING?JSON.parse(o.decode(x)):x,E={type:this.BROADCAST_EVENT,event:y,payload:b};return h>0&&(E.meta=JSON.parse(w)),{join_ref:null,ref:null,topic:v,event:this.BROADCAST_EVENT,payload:E}}_isArrayBuffer(r){var s;return r instanceof ArrayBuffer||((s=r==null?void 0:r.constructor)===null||s===void 0?void 0:s.name)==="ArrayBuffer"}_pick(r,s){return!r||typeof r!="object"?{}:Object.fromEntries(Object.entries(r).filter(([o])=>s.includes(o)))}}class jh{constructor(r,s){this.callback=r,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var we;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(we||(we={}));const Kd=(n,r,s={})=>{var o;const l=(o=s.skipTypes)!==null&&o!==void 0?o:[];return r?Object.keys(r).reduce((c,h)=>(c[h]=kg(h,n,r,l),c),{}):{}},kg=(n,r,s,o)=>{const l=r.find(f=>f.name===n),c=l==null?void 0:l.type,h=s[n];return c&&!o.includes(c)?Ch(c,h):ml(h)},Ch=(n,r)=>{if(n.charAt(0)==="_"){const s=n.slice(1,n.length);return jg(r,s)}switch(n){case we.bool:return Sg(r);case we.float4:case we.float8:case we.int2:case we.int4:case we.int8:case we.numeric:case we.oid:return bg(r);case we.json:case we.jsonb:return Eg(r);case we.timestamp:return Cg(r);case we.abstime:case we.date:case we.daterange:case we.int4range:case we.int8range:case we.money:case we.reltime:case we.text:case we.time:case we.timestamptz:case we.timetz:case we.tsrange:case we.tstzrange:return ml(r);default:return ml(r)}},ml=n=>n,Sg=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},bg=n=>{if(typeof n=="string"){const r=parseFloat(n);if(!Number.isNaN(r))return r}return n},Eg=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch{return n}return n},jg=(n,r)=>{if(typeof n!="string")return n;const s=n.length-1,o=n[s];if(n[0]==="{"&&o==="}"){let c;const h=n.slice(1,s);try{c=JSON.parse("["+h+"]")}catch{c=h?h.split(","):[]}return c.map(f=>Ch(r,f))}return n},Cg=n=>typeof n=="string"?n.replace(" ","T"):n,Nh=n=>{const r=new URL(n);return r.protocol=r.protocol.replace(/^ws/i,"http"),r.pathname=r.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),r.pathname===""||r.pathname==="/"?r.pathname="/api/broadcast":r.pathname=r.pathname+"/api/broadcast",r.href};class rl{constructor(r,s,o={},l=fl){this.channel=r,this.event=s,this.payload=o,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,s){var o;return this._hasReceived(r)&&s((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:r,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:s}){this.recHooks.filter(o=>o.status===r).forEach(o=>o.callback(s))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var Gd;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(Gd||(Gd={}));class gs{constructor(r,s){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},l=>{const{onJoin:c,onLeave:h,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=gs.syncState(this.state,l,c,h),this.pendingDiffs.forEach(m=>{this.state=gs.syncDiff(this.state,m,c,h)}),this.pendingDiffs=[],f()}),this.channel._on(o.diff,{},l=>{const{onJoin:c,onLeave:h,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=gs.syncDiff(this.state,l,c,h),f())}),this.onJoin((l,c,h)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:c,newPresences:h})}),this.onLeave((l,c,h)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:c,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,s,o,l){const c=this.cloneDeep(r),h=this.transformState(s),f={},m={};return this.map(c,(v,y)=>{h[v]||(m[v]=y)}),this.map(h,(v,y)=>{const w=c[v];if(w){const x=y.map(k=>k.presence_ref),b=w.map(k=>k.presence_ref),E=y.filter(k=>b.indexOf(k.presence_ref)<0),C=w.filter(k=>x.indexOf(k.presence_ref)<0);E.length>0&&(f[v]=E),C.length>0&&(m[v]=C)}else f[v]=y}),this.syncDiff(c,{joins:f,leaves:m},o,l)}static syncDiff(r,s,o,l){const{joins:c,leaves:h}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return o||(o=()=>{}),l||(l=()=>{}),this.map(c,(f,m)=>{var v;const y=(v=r[f])!==null&&v!==void 0?v:[];if(r[f]=this.cloneDeep(m),y.length>0){const w=r[f].map(b=>b.presence_ref),x=y.filter(b=>w.indexOf(b.presence_ref)<0);r[f].unshift(...x)}o(f,y,m)}),this.map(h,(f,m)=>{let v=r[f];if(!v)return;const y=m.map(w=>w.presence_ref);v=v.filter(w=>y.indexOf(w.presence_ref)<0),r[f]=v,l(f,v,m),v.length===0&&delete r[f]}),r}static map(r,s){return Object.getOwnPropertyNames(r).map(o=>s(o,r[o]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((s,o)=>{const l=r[o];return"metas"in l?s[o]=l.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):s[o]=l,s},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Jd;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(Jd||(Jd={}));var vs;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(vs||(vs={}));var Jt;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(Jt||(Jt={}));class kn{constructor(r,s={config:{}},o){var l,c;if(this.topic=r,this.params=s,this.socket=o,this.bindings={},this.state=Ue.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new rl(this,At.join,this.params,this.timeout),this.rejoinTimer=new jh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ue.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(h=>h.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ue.closed,this.socket._remove(this)}),this._onError(h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=Ue.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ue.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=Ue.errored,this.rejoinTimer.scheduleTimeout())}),this._on(At.reply,{},(h,f)=>{this._trigger(this._replyEventName(f),h)}),this.presence=new gs(this),this.broadcastEndpointURL=Nh(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((c=(l=this.params.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(r,s=this.timeout){var o,l,c;if(this.socket.isConnected()||this.socket.connect(),this.state==Ue.closed){const{config:{broadcast:h,presence:f,private:m}}=this.params,v=(l=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(b=>b.filter))!==null&&l!==void 0?l:[],y=!!this.bindings[vs.PRESENCE]&&this.bindings[vs.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,w={},x={broadcast:h,presence:Object.assign(Object.assign({},f),{enabled:y}),postgres_changes:v,private:m};this.socket.accessTokenValue&&(w.access_token=this.socket.accessTokenValue),this._onError(b=>r==null?void 0:r(Jt.CHANNEL_ERROR,b)),this._onClose(()=>r==null?void 0:r(Jt.CLOSED)),this.updateJoinPayload(Object.assign({config:x},w)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:b})=>{var E;if(this.socket._isManualToken()||this.socket.setAuth(),b===void 0){r==null||r(Jt.SUBSCRIBED);return}else{const C=this.bindings.postgres_changes,k=(E=C==null?void 0:C.length)!==null&&E!==void 0?E:0,O=[];for(let L=0;L<k;L++){const I=C[L],{filter:{event:B,schema:le,table:se,filter:ce}}=I,_e=b&&b[L];if(_e&&_e.event===B&&kn.isFilterValueEqual(_e.schema,le)&&kn.isFilterValueEqual(_e.table,se)&&kn.isFilterValueEqual(_e.filter,ce))O.push(Object.assign(Object.assign({},I),{id:_e.id}));else{this.unsubscribe(),this.state=Ue.errored,r==null||r(Jt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=O,r&&r(Jt.SUBSCRIBED);return}}).receive("error",b=>{this.state=Ue.errored,r==null||r(Jt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{r==null||r(Jt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,s={}){return await this.send({type:"presence",event:"track",payload:r},s.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,s,o){return this.state===Ue.joined&&r===vs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(r,s,o)}async httpSend(r,s,o={}){var l;if(s==null)return Promise.reject("Payload is required for httpSend()");const c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:s,private:this.private}]})},f=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(l=o.timeout)!==null&&l!==void 0?l:this.timeout);if(f.status===202)return{success:!0};let m=f.statusText;try{const v=await f.json();m=v.error||v.message||m}catch{}return Promise.reject(new Error(m))}async send(r,s={}){var o,l;if(!this._canPush()&&r.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:c,payload:h}=r,f={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(f.Authorization=`Bearer ${this.socket.accessTokenValue}`);const m={method:"POST",headers:f,body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:h,private:this.private}]})};try{const v=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(o=s.timeout)!==null&&o!==void 0?o:this.timeout);return await((l=v.body)===null||l===void 0?void 0:l.cancel()),v.ok?"ok":"error"}catch(v){return v.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var h,f,m;const v=this._push(r.type,r,s.timeout||this.timeout);r.type==="broadcast"&&!(!((m=(f=(h=this.params)===null||h===void 0?void 0:h.config)===null||f===void 0?void 0:f.broadcast)===null||m===void 0)&&m.ack)&&c("ok"),v.receive("ok",()=>c("ok")),v.receive("error",()=>c("error")),v.receive("timeout",()=>c("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=Ue.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(At.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(l=>{o=new rl(this,At.leave,{},r),o.receive("ok",()=>{s(),l("ok")}).receive("timeout",()=>{s(),l("timed out")}).receive("error",()=>{l("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o==null||o.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ue.closed,this.bindings={}}async _fetchWithTimeout(r,s,o){const l=new AbortController,c=setTimeout(()=>l.abort(),o),h=await this.socket.fetch(r,Object.assign(Object.assign({},s),{signal:l.signal}));return clearTimeout(c),h}_push(r,s,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new rl(this,r,s,o);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(r){if(r.startTimeout(),this.pushBuffer.push(r),this.pushBuffer.length>_g){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(r,s,o){return s}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,s,o){var l,c;const h=r.toLocaleLowerCase(),{close:f,error:m,leave:v,join:y}=At;if(o&&[f,m,v,y].indexOf(h)>=0&&o!==this._joinRef())return;let x=this._onMessage(h,s,o);if(s&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(b=>{var E,C,k;return((E=b.filter)===null||E===void 0?void 0:E.event)==="*"||((k=(C=b.filter)===null||C===void 0?void 0:C.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===h}).map(b=>b.callback(x,o)):(c=this.bindings[h])===null||c===void 0||c.filter(b=>{var E,C,k,O,L,I;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in b){const B=b.id,le=(E=b.filter)===null||E===void 0?void 0:E.event;return B&&((C=s.ids)===null||C===void 0?void 0:C.includes(B))&&(le==="*"||(le==null?void 0:le.toLocaleLowerCase())===((k=s.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const B=(L=(O=b==null?void 0:b.filter)===null||O===void 0?void 0:O.event)===null||L===void 0?void 0:L.toLocaleLowerCase();return B==="*"||B===((I=s==null?void 0:s.event)===null||I===void 0?void 0:I.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===h}).map(b=>{if(typeof x=="object"&&"ids"in x){const E=x.data,{schema:C,table:k,commit_timestamp:O,type:L,errors:I}=E;x=Object.assign(Object.assign({},{schema:C,table:k,commit_timestamp:O,eventType:L,new:{},old:{},errors:I}),this._getPayloadRecords(E))}b.callback(x,o)})}_isClosed(){return this.state===Ue.closed}_isJoined(){return this.state===Ue.joined}_isJoining(){return this.state===Ue.joining}_isLeaving(){return this.state===Ue.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,s,o){const l=r.toLocaleLowerCase(),c={type:l,filter:s,callback:o};return this.bindings[l]?this.bindings[l].push(c):this.bindings[l]=[c],this}_off(r,s){const o=r.toLocaleLowerCase();return this.bindings[o]&&(this.bindings[o]=this.bindings[o].filter(l=>{var c;return!(((c=l.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===o&&kn.isEqual(l.filter,s))})),this}static isEqual(r,s){if(Object.keys(r).length!==Object.keys(s).length)return!1;for(const o in r)if(r[o]!==s[o])return!1;return!0}static isFilterValueEqual(r,s){return(r??void 0)===(s??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(At.close,{},r)}_onError(r){this._on(At.error,{},s=>r(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ue.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const s={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(s.new=Kd(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(s.old=Kd(r.columns,r.old_record)),s}}const nl=()=>{},Mi={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Ng=[1e3,2e3,5e3,1e4],Tg=1e4,Rg=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Pg{constructor(r,s){var o;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=fl,this.transport=null,this.heartbeatIntervalMs=Mi.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=nl,this.ref=0,this.reconnectTimer=null,this.vsn=Hd,this.logger=nl,this.conn=null,this.sendBuffer=[],this.serializer=new xg,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=l=>l?(...c)=>l(...c):(...c)=>fetch(...c),!(!((o=s==null?void 0:s.params)===null||o===void 0)&&o.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${r}/${pl.websocket}`,this.httpEndpoint=Nh(r),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s==null?void 0:s.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=mg.createWebSocket(this.endpointURL())}catch(r){this._setConnectionState("disconnected");const s=r.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(r,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const o=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(o),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(r?this.conn.close(r,s??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(r){const s=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const r=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,s,o){this.logger(r,s,o)}connectionState(){switch(this.conn&&this.conn.readyState){case gr.connecting:return Ur.Connecting;case gr.open:return Ur.Open;case gr.closing:return Ur.Closing;default:return Ur.Closed}}isConnected(){return this.connectionState()===Ur.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(r,s={config:{}}){const o=`realtime:${r}`,l=this.getChannels().find(c=>c.topic===o);if(l)return l;{const c=new kn(`realtime:${r}`,s,this);return this.channels.push(c),c}}push(r){const{topic:s,event:o,payload:l,ref:c}=r,h=()=>{this.encode(r,f=>{var m;(m=this.conn)===null||m===void 0||m.send(f)})};this.log("push",`${s} ${o} (${c})`,l),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(r=null){this._authPromise=this._performAuth(r);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var r;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(r=this.conn)===null||r===void 0||r.close(wg,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},Mi.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let s=this.channels.find(o=>o.topic===r&&(o._isJoined()||o._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${r}"`),s.unsubscribe())}_remove(r){this.channels=this.channels.filter(s=>s.topic!==r.topic)}_onConnMessage(r){this.decode(r.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply"&&s.ref&&s.ref===this.pendingHeartbeatRef){const v=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error",v)}catch(y){this.log("error","error in heartbeat callback",y)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:o,event:l,payload:c,ref:h}=s,f=h?`(${h})`:"",m=c.status||"";this.log("receive",`${m} ${o} ${l} ${f}`.trim(),c),this.channels.filter(v=>v._isMember(o)).forEach(v=>v._trigger(l,c,h)),this._triggerStateCallbacks("message",s)})}_clearTimer(r){var s;r==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):r==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r),this.conn.readyState===gr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===gr.open||this.conn.readyState===gr.connecting)try{this.conn.close()}catch(r){this.log("error","Error closing connection",r)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(r=>r.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(s=>{this.log("error","error waiting for auth on connect",s),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this._terminateWorker()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(r){var s;this._setConnectionState("disconnected"),this.log("transport","close",r),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",r)}_onConnError(r){this._setConnectionState("disconnected"),this.log("transport",`${r}`),this._triggerChanError(),this._triggerStateCallbacks("error",r);try{this.heartbeatCallback("error")}catch(s){this.log("error","error in heartbeat callback",s)}}_triggerChanError(){this.channels.forEach(r=>r._trigger(At.error))}_appendParams(r,s){if(Object.keys(s).length===0)return r;const o=r.match(/\?/)?"&":"?",l=new URLSearchParams(s);return`${r}${o}${l}`}_workerObjectUrl(r){let s;if(r)s=r;else{const o=new Blob([Rg],{type:"application/javascript"});s=URL.createObjectURL(o)}return s}_setConnectionState(r,s=!1){this._connectionState=r,r==="connecting"?this._wasManualDisconnect=!1:r==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(r=null){let s,o=!1;if(r)s=r,o=!0;else if(this.accessToken)try{s=await this.accessToken()}catch(l){this.log("error","Error fetching access token from callback",l),s=this.accessTokenValue}else s=this.accessTokenValue;o?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(l=>{const c={access_token:s,version:vg};s&&l.updateJoinPayload(c),l.joinedOnce&&l._isJoined()&&l._push(At.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(r="general"){this._isManualToken()||this.setAuth().catch(s=>{this.log("error",`Error setting auth in ${r}`,s)})}_triggerStateCallbacks(r,s){try{this.stateChangeCallbacks[r].forEach(o=>{try{o(s)}catch(l){this.log("error",`error in ${r} callback`,l)}})}catch(o){this.log("error",`error triggering ${r} callbacks`,o)}}_setupReconnectionTimer(){this.reconnectTimer=new jh(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Mi.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(r){var s,o,l,c,h,f,m,v,y,w,x,b;switch(this.transport=(s=r==null?void 0:r.transport)!==null&&s!==void 0?s:null,this.timeout=(o=r==null?void 0:r.timeout)!==null&&o!==void 0?o:fl,this.heartbeatIntervalMs=(l=r==null?void 0:r.heartbeatIntervalMs)!==null&&l!==void 0?l:Mi.HEARTBEAT_INTERVAL,this.worker=(c=r==null?void 0:r.worker)!==null&&c!==void 0?c:!1,this.accessToken=(h=r==null?void 0:r.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(f=r==null?void 0:r.heartbeatCallback)!==null&&f!==void 0?f:nl,this.vsn=(m=r==null?void 0:r.vsn)!==null&&m!==void 0?m:Hd,r!=null&&r.params&&(this.params=r.params),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(v=r==null?void 0:r.reconnectAfterMs)!==null&&v!==void 0?v:(E=>Ng[E-1]||Tg),this.vsn){case yg:this.encode=(y=r==null?void 0:r.encode)!==null&&y!==void 0?y:((E,C)=>C(JSON.stringify(E))),this.decode=(w=r==null?void 0:r.decode)!==null&&w!==void 0?w:((E,C)=>C(JSON.parse(E)));break;case Eh:this.encode=(x=r==null?void 0:r.encode)!==null&&x!==void 0?x:this.serializer.encode.bind(this.serializer),this.decode=(b=r==null?void 0:r.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=r==null?void 0:r.workerUrl}}}var xs=class extends Error{constructor(n,r){var s;super(n),this.name="IcebergError",this.status=r.status,this.icebergType=r.icebergType,this.icebergCode=r.icebergCode,this.details=r.details,this.isCommitStateUnknown=r.icebergType==="CommitStateUnknownException"||[500,502,504].includes(r.status)&&((s=r.icebergType)==null?void 0:s.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Og(n,r,s){const o=new URL(r,n);if(s)for(const[l,c]of Object.entries(s))c!==void 0&&o.searchParams.set(l,c);return o.toString()}async function Ag(n){return!n||n.type==="none"?{}:n.type==="bearer"?{Authorization:`Bearer ${n.token}`}:n.type==="header"?{[n.name]:n.value}:n.type==="custom"?await n.getHeaders():{}}function Ig(n){const r=n.fetchImpl??globalThis.fetch;return{async request({method:s,path:o,query:l,body:c,headers:h}){const f=Og(n.baseUrl,o,l),m=await Ag(n.auth),v=await r(f,{method:s,headers:{...c?{"Content-Type":"application/json"}:{},...m,...h},body:c?JSON.stringify(c):void 0}),y=await v.text(),w=(v.headers.get("content-type")||"").includes("application/json"),x=w&&y?JSON.parse(y):y;if(!v.ok){const b=w?x:void 0,E=b==null?void 0:b.error;throw new xs((E==null?void 0:E.message)??`Request failed with status ${v.status}`,{status:v.status,icebergType:E==null?void 0:E.type,icebergCode:E==null?void 0:E.code,details:b})}return{status:v.status,headers:v.headers,data:x}}}}function Bi(n){return n.join("")}var Lg=class{constructor(n,r=""){this.client=n,this.prefix=r}async listNamespaces(n){const r=n?{parent:Bi(n.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:r})).data.namespaces.map(o=>({namespace:o}))}async createNamespace(n,r){const s={namespace:n.namespace,properties:r==null?void 0:r.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:s})).data}async dropNamespace(n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Bi(n.namespace)}`})}async loadNamespaceMetadata(n){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Bi(n.namespace)}`})).data.properties}}async namespaceExists(n){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Bi(n.namespace)}`}),!0}catch(r){if(r instanceof xs&&r.status===404)return!1;throw r}}async createNamespaceIfNotExists(n,r){try{return await this.createNamespace(n,r)}catch(s){if(s instanceof xs&&s.status===409)return;throw s}}};function fn(n){return n.join("")}var $g=class{constructor(n,r="",s){this.client=n,this.prefix=r,this.accessDelegation=s}async listTables(n){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${fn(n.namespace)}/tables`})).data.identifiers}async createTable(n,r){const s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${fn(n.namespace)}/tables`,body:r,headers:s})).data.metadata}async updateTable(n,r){const s=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${fn(n.namespace)}/tables/${n.name}`,body:r});return{"metadata-location":s.data["metadata-location"],metadata:s.data.metadata}}async dropTable(n,r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${fn(n.namespace)}/tables/${n.name}`,query:{purgeRequested:String((r==null?void 0:r.purge)??!1)}})}async loadTable(n){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${fn(n.namespace)}/tables/${n.name}`,headers:r})).data.metadata}async tableExists(n){const r={};this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${fn(n.namespace)}/tables/${n.name}`,headers:r}),!0}catch(s){if(s instanceof xs&&s.status===404)return!1;throw s}}async createTableIfNotExists(n,r){try{return await this.createTable(n,r)}catch(s){if(s instanceof xs&&s.status===409)return await this.loadTable({namespace:n.namespace,name:r.name});throw s}}},Ug=class{constructor(n){var o;let r="v1";n.catalogName&&(r+=`/${n.catalogName}`);const s=n.baseUrl.endsWith("/")?n.baseUrl:`${n.baseUrl}/`;this.client=Ig({baseUrl:s,auth:n.auth,fetchImpl:n.fetch}),this.accessDelegation=(o=n.accessDelegation)==null?void 0:o.join(","),this.namespaceOps=new Lg(this.client,r),this.tableOps=new $g(this.client,r,this.accessDelegation)}async listNamespaces(n){return this.namespaceOps.listNamespaces(n)}async createNamespace(n,r){return this.namespaceOps.createNamespace(n,r)}async dropNamespace(n){await this.namespaceOps.dropNamespace(n)}async loadNamespaceMetadata(n){return this.namespaceOps.loadNamespaceMetadata(n)}async listTables(n){return this.tableOps.listTables(n)}async createTable(n,r){return this.tableOps.createTable(n,r)}async updateTable(n,r){return this.tableOps.updateTable(n,r)}async dropTable(n,r){await this.tableOps.dropTable(n,r)}async loadTable(n){return this.tableOps.loadTable(n)}async namespaceExists(n){return this.namespaceOps.namespaceExists(n)}async tableExists(n){return this.tableOps.tableExists(n)}async createNamespaceIfNotExists(n,r){return this.namespaceOps.createNamespaceIfNotExists(n,r)}async createTableIfNotExists(n,r){return this.tableOps.createTableIfNotExists(n,r)}},Zi=class extends Error{constructor(n,r="storage",s,o){super(n),this.__isStorageError=!0,this.namespace=r,this.name=r==="vectors"?"StorageVectorsError":"StorageError",this.status=s,this.statusCode=o}};function eo(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var Fi=class extends Zi{constructor(n,r,s,o="storage"){super(n,o,r,s),this.name=o==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=r,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Th=class extends Zi{constructor(n,r,s="storage"){super(n,s),this.name=s==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=r}};const Dg=n=>n?(...r)=>n(...r):(...r)=>fetch(...r),zg=n=>{if(typeof n!="object"||n===null)return!1;const r=Object.getPrototypeOf(n);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},gl=n=>{if(Array.isArray(n))return n.map(s=>gl(s));if(typeof n=="function"||n!==Object(n))return n;const r={};return Object.entries(n).forEach(([s,o])=>{const l=s.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));r[l]=gl(o)}),r},Mg=n=>!n||typeof n!="string"||n.length===0||n.length>100||n.trim()!==n||n.includes("/")||n.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(n);function ks(n){"@babel/helpers - typeof";return ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ks(n)}function Bg(n,r){if(ks(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var o=s.call(n,r);if(ks(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(n)}function Fg(n){var r=Bg(n,"string");return ks(r)=="symbol"?r:r+""}function Wg(n,r,s){return(r=Fg(r))in n?Object.defineProperty(n,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[r]=s,n}function Qd(n,r){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);r&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable})),s.push.apply(s,o)}return s}function ee(n){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?Qd(Object(s),!0).forEach(function(o){Wg(n,o,s[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):Qd(Object(s)).forEach(function(o){Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(s,o))})}return n}const Yd=n=>{var r;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(r=n.error)===null||r===void 0?void 0:r.message)||JSON.stringify(n)},qg=async(n,r,s,o)=>{if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!(s!=null&&s.noResolveJson)){const l=n,c=l.status||500;if(typeof l.json=="function")l.json().then(h=>{const f=(h==null?void 0:h.statusCode)||(h==null?void 0:h.code)||c+"";r(new Fi(Yd(h),c,f,o))}).catch(()=>{if(o==="vectors"){const h=c+"";r(new Fi(l.statusText||`HTTP ${c} error`,c,h,o))}else{const h=c+"";r(new Fi(l.statusText||`HTTP ${c} error`,c,h,o))}});else{const h=c+"";r(new Fi(l.statusText||`HTTP ${c} error`,c,h,o))}}else r(new Th(Yd(n),n,o))},Vg=(n,r,s,o)=>{const l={method:n,headers:(r==null?void 0:r.headers)||{}};return n==="GET"||n==="HEAD"||!o?ee(ee({},l),s):(zg(o)?(l.headers=ee({"Content-Type":"application/json"},r==null?void 0:r.headers),l.body=JSON.stringify(o)):l.body=o,r!=null&&r.duplex&&(l.duplex=r.duplex),ee(ee({},l),s))};async function ps(n,r,s,o,l,c,h){return new Promise((f,m)=>{n(s,Vg(r,o,l,c)).then(v=>{if(!v.ok)throw v;if(o!=null&&o.noResolveJson)return v;if(h==="vectors"){const y=v.headers.get("content-type");if(v.headers.get("content-length")==="0"||v.status===204)return{};if(!y||!y.includes("application/json"))return{}}return v.json()}).then(v=>f(v)).catch(v=>qg(v,m,o,h))})}function Rh(n="storage"){return{get:async(r,s,o,l)=>ps(r,"GET",s,o,l,void 0,n),post:async(r,s,o,l,c)=>ps(r,"POST",s,l,c,o,n),put:async(r,s,o,l,c)=>ps(r,"PUT",s,l,c,o,n),head:async(r,s,o,l)=>ps(r,"HEAD",s,ee(ee({},o),{},{noResolveJson:!0}),l,void 0,n),remove:async(r,s,o,l,c)=>ps(r,"DELETE",s,l,c,o,n)}}const Hg=Rh("storage"),{get:Ss,post:Ot,put:vl,head:Kg,remove:Tl}=Hg,mt=Rh("vectors");var Cn=class{constructor(n,r={},s,o="storage"){this.shouldThrowOnError=!1,this.url=n,this.headers=r,this.fetch=Dg(s),this.namespace=o}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,r){return this.headers=ee(ee({},this.headers),{},{[n]:r}),this}async handleOperation(n){var r=this;try{return{data:await n(),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(eo(s))return{data:null,error:s};throw s}}},Gg=class{constructor(n,r){this.downloadFn=n,this.shouldThrowOnError=r}then(n,r){return this.execute().then(n,r)}async execute(){var n=this;try{return{data:(await n.downloadFn()).body,error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(eo(r))return{data:null,error:r};throw r}}};let Ph;Ph=Symbol.toStringTag;var Jg=class{constructor(n,r){this.downloadFn=n,this.shouldThrowOnError=r,this[Ph]="BlobDownloadBuilder",this.promise=null}asStream(){return new Gg(this.downloadFn,this.shouldThrowOnError)}then(n,r){return this.getPromise().then(n,r)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var n=this;try{return{data:await(await n.downloadFn()).blob(),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(eo(r))return{data:null,error:r};throw r}}};const Qg={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Xd={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Yg=class extends Cn{constructor(n,r={},s,o){super(n,r,o,"storage"),this.bucketId=s}async uploadOrUpdate(n,r,s,o){var l=this;return l.handleOperation(async()=>{let c;const h=ee(ee({},Xd),o);let f=ee(ee({},l.headers),n==="POST"&&{"x-upsert":String(h.upsert)});const m=h.metadata;typeof Blob<"u"&&s instanceof Blob?(c=new FormData,c.append("cacheControl",h.cacheControl),m&&c.append("metadata",l.encodeMetadata(m)),c.append("",s)):typeof FormData<"u"&&s instanceof FormData?(c=s,c.has("cacheControl")||c.append("cacheControl",h.cacheControl),m&&!c.has("metadata")&&c.append("metadata",l.encodeMetadata(m))):(c=s,f["cache-control"]=`max-age=${h.cacheControl}`,f["content-type"]=h.contentType,m&&(f["x-metadata"]=l.toBase64(l.encodeMetadata(m))),(typeof ReadableStream<"u"&&c instanceof ReadableStream||c&&typeof c=="object"&&"pipe"in c&&typeof c.pipe=="function")&&!h.duplex&&(h.duplex="half")),o!=null&&o.headers&&(f=ee(ee({},f),o.headers));const v=l._removeEmptyFolders(r),y=l._getFinalPath(v),w=await(n=="PUT"?vl:Ot)(l.fetch,`${l.url}/object/${y}`,c,ee({headers:f},h!=null&&h.duplex?{duplex:h.duplex}:{}));return{path:v,id:w.Id,fullPath:w.Key}})}async upload(n,r,s){return this.uploadOrUpdate("POST",n,r,s)}async uploadToSignedUrl(n,r,s,o){var l=this;const c=l._removeEmptyFolders(n),h=l._getFinalPath(c),f=new URL(l.url+`/object/upload/sign/${h}`);return f.searchParams.set("token",r),l.handleOperation(async()=>{let m;const v=ee({upsert:Xd.upsert},o),y=ee(ee({},l.headers),{"x-upsert":String(v.upsert)});return typeof Blob<"u"&&s instanceof Blob?(m=new FormData,m.append("cacheControl",v.cacheControl),m.append("",s)):typeof FormData<"u"&&s instanceof FormData?(m=s,m.append("cacheControl",v.cacheControl)):(m=s,y["cache-control"]=`max-age=${v.cacheControl}`,y["content-type"]=v.contentType),{path:c,fullPath:(await vl(l.fetch,f.toString(),m,{headers:y})).Key}})}async createSignedUploadUrl(n,r){var s=this;return s.handleOperation(async()=>{let o=s._getFinalPath(n);const l=ee({},s.headers);r!=null&&r.upsert&&(l["x-upsert"]="true");const c=await Ot(s.fetch,`${s.url}/object/upload/sign/${o}`,{},{headers:l}),h=new URL(s.url+c.url),f=h.searchParams.get("token");if(!f)throw new Zi("No token returned by API");return{signedUrl:h.toString(),path:n,token:f}})}async update(n,r,s){return this.uploadOrUpdate("PUT",n,r,s)}async move(n,r,s){var o=this;return o.handleOperation(async()=>await Ot(o.fetch,`${o.url}/object/move`,{bucketId:o.bucketId,sourceKey:n,destinationKey:r,destinationBucket:s==null?void 0:s.destinationBucket},{headers:o.headers}))}async copy(n,r,s){var o=this;return o.handleOperation(async()=>({path:(await Ot(o.fetch,`${o.url}/object/copy`,{bucketId:o.bucketId,sourceKey:n,destinationKey:r,destinationBucket:s==null?void 0:s.destinationBucket},{headers:o.headers})).Key}))}async createSignedUrl(n,r,s){var o=this;return o.handleOperation(async()=>{let l=o._getFinalPath(n),c=await Ot(o.fetch,`${o.url}/object/sign/${l}`,ee({expiresIn:r},s!=null&&s.transform?{transform:s.transform}:{}),{headers:o.headers});const h=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{signedUrl:encodeURI(`${o.url}${c.signedURL}${h}`)}})}async createSignedUrls(n,r,s){var o=this;return o.handleOperation(async()=>{const l=await Ot(o.fetch,`${o.url}/object/sign/${o.bucketId}`,{expiresIn:r,paths:n},{headers:o.headers}),c=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return l.map(h=>ee(ee({},h),{},{signedUrl:h.signedURL?encodeURI(`${o.url}${h.signedURL}${c}`):null}))})}download(n,r,s){const o=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),c=l?`?${l}`:"",h=this._getFinalPath(n),f=()=>Ss(this.fetch,`${this.url}/${o}/${h}${c}`,{headers:this.headers,noResolveJson:!0},s);return new Jg(f,this.shouldThrowOnError)}async info(n){var r=this;const s=r._getFinalPath(n);return r.handleOperation(async()=>gl(await Ss(r.fetch,`${r.url}/object/info/${s}`,{headers:r.headers})))}async exists(n){var r=this;const s=r._getFinalPath(n);try{return await Kg(r.fetch,`${r.url}/object/${s}`,{headers:r.headers}),{data:!0,error:null}}catch(o){if(r.shouldThrowOnError)throw o;if(eo(o)&&o instanceof Th){const l=o.originalError;if([400,404].includes(l==null?void 0:l.status))return{data:!1,error:o}}throw o}}getPublicUrl(n,r){const s=this._getFinalPath(n),o=[],l=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";l!==""&&o.push(l);const c=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",h=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});h!==""&&o.push(h);let f=o.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${s}${f}`)}}}async remove(n){var r=this;return r.handleOperation(async()=>await Tl(r.fetch,`${r.url}/object/${r.bucketId}`,{prefixes:n},{headers:r.headers}))}async list(n,r,s){var o=this;return o.handleOperation(async()=>{const l=ee(ee(ee({},Qg),r),{},{prefix:n||""});return await Ot(o.fetch,`${o.url}/object/list/${o.bucketId}`,l,{headers:o.headers},s)})}async listV2(n,r){var s=this;return s.handleOperation(async()=>{const o=ee({},n);return await Ot(s.fetch,`${s.url}/object/list-v2/${s.bucketId}`,o,{headers:s.headers},r)})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const r=[];return n.width&&r.push(`width=${n.width}`),n.height&&r.push(`height=${n.height}`),n.resize&&r.push(`resize=${n.resize}`),n.format&&r.push(`format=${n.format}`),n.quality&&r.push(`quality=${n.quality}`),r.join("&")}};const Xg="2.97.0",Cs={"X-Client-Info":`storage-js/${Xg}`};var Zg=class extends Cn{constructor(n,r={},s,o){const l=new URL(n);o!=null&&o.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase."));const c=l.href.replace(/\/$/,""),h=ee(ee({},Cs),r);super(c,h,s,"storage")}async listBuckets(n){var r=this;return r.handleOperation(async()=>{const s=r.listBucketOptionsToQueryString(n);return await Ss(r.fetch,`${r.url}/bucket${s}`,{headers:r.headers})})}async getBucket(n){var r=this;return r.handleOperation(async()=>await Ss(r.fetch,`${r.url}/bucket/${n}`,{headers:r.headers}))}async createBucket(n,r={public:!1}){var s=this;return s.handleOperation(async()=>await Ot(s.fetch,`${s.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:s.headers}))}async updateBucket(n,r){var s=this;return s.handleOperation(async()=>await vl(s.fetch,`${s.url}/bucket/${n}`,{id:n,name:n,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:s.headers}))}async emptyBucket(n){var r=this;return r.handleOperation(async()=>await Ot(r.fetch,`${r.url}/bucket/${n}/empty`,{},{headers:r.headers}))}async deleteBucket(n){var r=this;return r.handleOperation(async()=>await Tl(r.fetch,`${r.url}/bucket/${n}`,{},{headers:r.headers}))}listBucketOptionsToQueryString(n){const r={};return n&&("limit"in n&&(r.limit=String(n.limit)),"offset"in n&&(r.offset=String(n.offset)),n.search&&(r.search=n.search),n.sortColumn&&(r.sortColumn=n.sortColumn),n.sortOrder&&(r.sortOrder=n.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}},ev=class extends Cn{constructor(n,r={},s){const o=n.replace(/\/$/,""),l=ee(ee({},Cs),r);super(o,l,s,"storage")}async createBucket(n){var r=this;return r.handleOperation(async()=>await Ot(r.fetch,`${r.url}/bucket`,{name:n},{headers:r.headers}))}async listBuckets(n){var r=this;return r.handleOperation(async()=>{const s=new URLSearchParams;(n==null?void 0:n.limit)!==void 0&&s.set("limit",n.limit.toString()),(n==null?void 0:n.offset)!==void 0&&s.set("offset",n.offset.toString()),n!=null&&n.sortColumn&&s.set("sortColumn",n.sortColumn),n!=null&&n.sortOrder&&s.set("sortOrder",n.sortOrder),n!=null&&n.search&&s.set("search",n.search);const o=s.toString(),l=o?`${r.url}/bucket?${o}`:`${r.url}/bucket`;return await Ss(r.fetch,l,{headers:r.headers})})}async deleteBucket(n){var r=this;return r.handleOperation(async()=>await Tl(r.fetch,`${r.url}/bucket/${n}`,{},{headers:r.headers}))}from(n){var r=this;if(!Mg(n))throw new Zi("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const s=new Ug({baseUrl:this.url,catalogName:n,auth:{type:"custom",getHeaders:async()=>r.headers},fetch:this.fetch}),o=this.shouldThrowOnError;return new Proxy(s,{get(l,c){const h=l[c];return typeof h!="function"?h:async(...f)=>{try{return{data:await h.apply(l,f),error:null}}catch(m){if(o)throw m;return{data:null,error:m}}}}})}},tv=class extends Cn{constructor(n,r={},s){const o=n.replace(/\/$/,""),l=ee(ee({},Cs),{},{"Content-Type":"application/json"},r);super(o,l,s,"vectors")}async createIndex(n){var r=this;return r.handleOperation(async()=>await mt.post(r.fetch,`${r.url}/CreateIndex`,n,{headers:r.headers})||{})}async getIndex(n,r){var s=this;return s.handleOperation(async()=>await mt.post(s.fetch,`${s.url}/GetIndex`,{vectorBucketName:n,indexName:r},{headers:s.headers}))}async listIndexes(n){var r=this;return r.handleOperation(async()=>await mt.post(r.fetch,`${r.url}/ListIndexes`,n,{headers:r.headers}))}async deleteIndex(n,r){var s=this;return s.handleOperation(async()=>await mt.post(s.fetch,`${s.url}/DeleteIndex`,{vectorBucketName:n,indexName:r},{headers:s.headers})||{})}},rv=class extends Cn{constructor(n,r={},s){const o=n.replace(/\/$/,""),l=ee(ee({},Cs),{},{"Content-Type":"application/json"},r);super(o,l,s,"vectors")}async putVectors(n){var r=this;if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return r.handleOperation(async()=>await mt.post(r.fetch,`${r.url}/PutVectors`,n,{headers:r.headers})||{})}async getVectors(n){var r=this;return r.handleOperation(async()=>await mt.post(r.fetch,`${r.url}/GetVectors`,n,{headers:r.headers}))}async listVectors(n){var r=this;if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return r.handleOperation(async()=>await mt.post(r.fetch,`${r.url}/ListVectors`,n,{headers:r.headers}))}async queryVectors(n){var r=this;return r.handleOperation(async()=>await mt.post(r.fetch,`${r.url}/QueryVectors`,n,{headers:r.headers}))}async deleteVectors(n){var r=this;if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return r.handleOperation(async()=>await mt.post(r.fetch,`${r.url}/DeleteVectors`,n,{headers:r.headers})||{})}},nv=class extends Cn{constructor(n,r={},s){const o=n.replace(/\/$/,""),l=ee(ee({},Cs),{},{"Content-Type":"application/json"},r);super(o,l,s,"vectors")}async createBucket(n){var r=this;return r.handleOperation(async()=>await mt.post(r.fetch,`${r.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:r.headers})||{})}async getBucket(n){var r=this;return r.handleOperation(async()=>await mt.post(r.fetch,`${r.url}/GetVectorBucket`,{vectorBucketName:n},{headers:r.headers}))}async listBuckets(n={}){var r=this;return r.handleOperation(async()=>await mt.post(r.fetch,`${r.url}/ListVectorBuckets`,n,{headers:r.headers}))}async deleteBucket(n){var r=this;return r.handleOperation(async()=>await mt.post(r.fetch,`${r.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:r.headers})||{})}},sv=class extends nv{constructor(n,r={}){super(n,r.headers||{},r.fetch)}from(n){return new iv(this.url,this.headers,n,this.fetch)}async createBucket(n){var r=()=>super.createBucket,s=this;return r().call(s,n)}async getBucket(n){var r=()=>super.getBucket,s=this;return r().call(s,n)}async listBuckets(n={}){var r=()=>super.listBuckets,s=this;return r().call(s,n)}async deleteBucket(n){var r=()=>super.deleteBucket,s=this;return r().call(s,n)}},iv=class extends tv{constructor(n,r,s,o){super(n,r,o),this.vectorBucketName=s}async createIndex(n){var r=()=>super.createIndex,s=this;return r().call(s,ee(ee({},n),{},{vectorBucketName:s.vectorBucketName}))}async listIndexes(n={}){var r=()=>super.listIndexes,s=this;return r().call(s,ee(ee({},n),{},{vectorBucketName:s.vectorBucketName}))}async getIndex(n){var r=()=>super.getIndex,s=this;return r().call(s,s.vectorBucketName,n)}async deleteIndex(n){var r=()=>super.deleteIndex,s=this;return r().call(s,s.vectorBucketName,n)}index(n){return new ov(this.url,this.headers,this.vectorBucketName,n,this.fetch)}},ov=class extends rv{constructor(n,r,s,o,l){super(n,r,l),this.vectorBucketName=s,this.indexName=o}async putVectors(n){var r=()=>super.putVectors,s=this;return r().call(s,ee(ee({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async getVectors(n){var r=()=>super.getVectors,s=this;return r().call(s,ee(ee({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async listVectors(n={}){var r=()=>super.listVectors,s=this;return r().call(s,ee(ee({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async queryVectors(n){var r=()=>super.queryVectors,s=this;return r().call(s,ee(ee({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async deleteVectors(n){var r=()=>super.deleteVectors,s=this;return r().call(s,ee(ee({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}},av=class extends Zg{constructor(n,r={},s,o){super(n,r,s,o)}from(n){return new Yg(this.url,this.headers,n,this.fetch)}get vectors(){return new sv(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new ev(this.url+"/iceberg",this.headers,this.fetch)}};const Oh="2.97.0",_n=30*1e3,yl=3,sl=yl*_n,lv="http://localhost:9999",uv="supabase.auth.token",cv={"X-Client-Info":`gotrue-js/${Oh}`},wl="X-Supabase-Api-Version",Ah={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},dv=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,hv=600*1e3;class bs extends Error{constructor(r,s,o){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=o}}function Q(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class fv extends bs{constructor(r,s,o){super(r,s,o),this.name="AuthApiError",this.status=s,this.code=o}}function pv(n){return Q(n)&&n.name==="AuthApiError"}class Dr extends bs{constructor(r,s){super(r),this.name="AuthUnknownError",this.originalError=s}}class Qt extends bs{constructor(r,s,o,l){super(r,o,l),this.name=s,this.status=o}}class pt extends Qt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function il(n){return Q(n)&&n.name==="AuthSessionMissingError"}class pn extends Qt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Wi extends Qt{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class qi extends Qt{constructor(r,s=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function mv(n){return Q(n)&&n.name==="AuthImplicitGrantRedirectError"}class Zd extends Qt{constructor(r,s=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class gv extends Qt{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class _l extends Qt{constructor(r,s){super(r,"AuthRetryableFetchError",s,void 0)}}function ol(n){return Q(n)&&n.name==="AuthRetryableFetchError"}class eh extends Qt{constructor(r,s,o){super(r,"AuthWeakPasswordError",s,"weak_password"),this.reasons=o}}class xl extends Qt{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const Gi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),th=` 	
\r=`.split(""),vv=(()=>{const n=new Array(128);for(let r=0;r<n.length;r+=1)n[r]=-1;for(let r=0;r<th.length;r+=1)n[th[r].charCodeAt(0)]=-2;for(let r=0;r<Gi.length;r+=1)n[Gi[r].charCodeAt(0)]=r;return n})();function rh(n,r,s){if(n!==null)for(r.queue=r.queue<<8|n,r.queuedBits+=8;r.queuedBits>=6;){const o=r.queue>>r.queuedBits-6&63;s(Gi[o]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const o=r.queue>>r.queuedBits-6&63;s(Gi[o]),r.queuedBits-=6}}function Ih(n,r,s){const o=vv[n];if(o>-1)for(r.queue=r.queue<<6|o,r.queuedBits+=6;r.queuedBits>=8;)s(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function nh(n){const r=[],s=h=>{r.push(String.fromCodePoint(h))},o={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},c=h=>{_v(h,o,s)};for(let h=0;h<n.length;h+=1)Ih(n.charCodeAt(h),l,c);return r.join("")}function yv(n,r){if(n<=127){r(n);return}else if(n<=2047){r(192|n>>6),r(128|n&63);return}else if(n<=65535){r(224|n>>12),r(128|n>>6&63),r(128|n&63);return}else if(n<=1114111){r(240|n>>18),r(128|n>>12&63),r(128|n>>6&63),r(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function wv(n,r){for(let s=0;s<n.length;s+=1){let o=n.charCodeAt(s);if(o>55295&&o<=56319){const l=(o-55296)*1024&65535;o=(n.charCodeAt(s+1)-56320&65535|l)+65536,s+=1}yv(o,r)}}function _v(n,r,s){if(r.utf8seq===0){if(n<=127){s(n);return}for(let o=1;o<6;o+=1)if((n>>7-o&1)===0){r.utf8seq=o;break}if(r.utf8seq===2)r.codepoint=n&31;else if(r.utf8seq===3)r.codepoint=n&15;else if(r.utf8seq===4)r.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|n&63,r.utf8seq-=1,r.utf8seq===0&&s(r.codepoint)}}function Sn(n){const r=[],s={queue:0,queuedBits:0},o=l=>{r.push(l)};for(let l=0;l<n.length;l+=1)Ih(n.charCodeAt(l),s,o);return new Uint8Array(r)}function xv(n){const r=[];return wv(n,s=>r.push(s)),new Uint8Array(r)}function zr(n){const r=[],s={queue:0,queuedBits:0},o=l=>{r.push(l)};return n.forEach(l=>rh(l,s,o)),rh(null,s,o),r.join("")}function kv(n){return Math.round(Date.now()/1e3)+n}function Sv(){return Symbol("auth-callback")}const Ve=()=>typeof window<"u"&&typeof document<"u",Ir={tested:!1,writable:!1},Lh=()=>{if(!Ve())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ir.tested)return Ir.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Ir.tested=!0,Ir.writable=!0}catch{Ir.tested=!0,Ir.writable=!1}return Ir.writable};function bv(n){const r={},s=new URL(n);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((l,c)=>{r[c]=l})}catch{}return s.searchParams.forEach((o,l)=>{r[l]=o}),r}const $h=n=>n?(...r)=>n(...r):(...r)=>fetch(...r),Ev=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",xn=async(n,r,s)=>{await n.setItem(r,JSON.stringify(s))},Lr=async(n,r)=>{const s=await n.getItem(r);if(!s)return null;try{return JSON.parse(s)}catch{return s}},qe=async(n,r)=>{await n.removeItem(r)};class to{constructor(){this.promise=new to.promiseConstructor((r,s)=>{this.resolve=r,this.reject=s})}}to.promiseConstructor=Promise;function Vi(n){const r=n.split(".");if(r.length!==3)throw new xl("Invalid JWT structure");for(let o=0;o<r.length;o++)if(!dv.test(r[o]))throw new xl("JWT not in base64url format");return{header:JSON.parse(nh(r[0])),payload:JSON.parse(nh(r[1])),signature:Sn(r[2]),raw:{header:r[0],payload:r[1]}}}async function jv(n){return await new Promise(r=>{setTimeout(()=>r(null),n)})}function Cv(n,r){return new Promise((o,l)=>{(async()=>{for(let c=0;c<1/0;c++)try{const h=await n(c);if(!r(c,null,h)){o(h);return}}catch(h){if(!r(c,h)){l(h);return}}})()})}function Nv(n){return("0"+n.toString(16)).substr(-2)}function Tv(){const r=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=s.length;let l="";for(let c=0;c<56;c++)l+=s.charAt(Math.floor(Math.random()*o));return l}return crypto.getRandomValues(r),Array.from(r,Nv).join("")}async function Rv(n){const s=new TextEncoder().encode(n),o=await crypto.subtle.digest("SHA-256",s),l=new Uint8Array(o);return Array.from(l).map(c=>String.fromCharCode(c)).join("")}async function Pv(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const s=await Rv(n);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function mn(n,r,s=!1){const o=Tv();let l=o;s&&(l+="/PASSWORD_RECOVERY"),await xn(n,`${r}-code-verifier`,l);const c=await Pv(o);return[c,o===c?"plain":"s256"]}const Ov=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Av(n){const r=n.headers.get(wl);if(!r||!r.match(Ov))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function Iv(n){if(!n)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(n<=r)throw new Error("JWT has expired")}function Lv(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const $v=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function gn(n){if(!$v.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function al(){const n={};return new Proxy(n,{get:(r,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const o=s.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Uv(n,r){return new Proxy(n,{get:(s,o,l)=>{if(o==="__isInsecureUserWarningProxy")return!0;if(typeof o=="symbol"){const c=o.toString();if(c==="Symbol(Symbol.toPrimitive)"||c==="Symbol(Symbol.toStringTag)"||c==="Symbol(util.inspect.custom)"||c==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,o,l)}return!r.value&&typeof o=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),r.value=!0),Reflect.get(s,o,l)}})}function sh(n){return JSON.parse(JSON.stringify(n))}const $r=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Dv=[502,503,504];async function ih(n){var r;if(!Ev(n))throw new _l($r(n),0);if(Dv.includes(n.status))throw new _l($r(n),n.status);let s;try{s=await n.json()}catch(c){throw new Dr($r(c),c)}let o;const l=Av(n);if(l&&l.getTime()>=Ah["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?o=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(o=s.error_code),o){if(o==="weak_password")throw new eh($r(s),n.status,((r=s.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(o==="session_not_found")throw new pt}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((c,h)=>c&&typeof h=="string",!0))throw new eh($r(s),n.status,s.weak_password.reasons);throw new fv($r(s),n.status||500,o)}const zv=(n,r,s,o)=>{const l={method:n,headers:(r==null?void 0:r.headers)||{}};return n==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r==null?void 0:r.headers),l.body=JSON.stringify(o),Object.assign(Object.assign({},l),s))};async function te(n,r,s,o){var l;const c=Object.assign({},o==null?void 0:o.headers);c[wl]||(c[wl]=Ah["2024-01-01"].name),o!=null&&o.jwt&&(c.Authorization=`Bearer ${o.jwt}`);const h=(l=o==null?void 0:o.query)!==null&&l!==void 0?l:{};o!=null&&o.redirectTo&&(h.redirect_to=o.redirectTo);const f=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",m=await Mv(n,r,s+f,{headers:c,noResolveJson:o==null?void 0:o.noResolveJson},{},o==null?void 0:o.body);return o!=null&&o.xform?o==null?void 0:o.xform(m):{data:Object.assign({},m),error:null}}async function Mv(n,r,s,o,l,c){const h=zv(r,o,l,c);let f;try{f=await n(s,Object.assign({},h))}catch(m){throw console.error(m),new _l($r(m),0)}if(f.ok||await ih(f),o!=null&&o.noResolveJson)return f;try{return await f.json()}catch(m){await ih(m)}}function Pt(n){var r;let s=null;Wv(n)&&(s=Object.assign({},n),n.expires_at||(s.expires_at=kv(n.expires_in)));const o=(r=n.user)!==null&&r!==void 0?r:n;return{data:{session:s,user:o},error:null}}function oh(n){const r=Pt(n);return!r.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0)&&(r.data.weak_password=n.weak_password),r}function vr(n){var r;return{data:{user:(r=n.user)!==null&&r!==void 0?r:n},error:null}}function Bv(n){return{data:n,error:null}}function Fv(n){const{action_link:r,email_otp:s,hashed_token:o,redirect_to:l,verification_type:c}=n,h=Xi(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:r,email_otp:s,hashed_token:o,redirect_to:l,verification_type:c},m=Object.assign({},h);return{data:{properties:f,user:m},error:null}}function ah(n){return n}function Wv(n){return n.access_token&&n.refresh_token&&n.expires_in}const ll=["global","local","others"];class qv{constructor({url:r="",headers:s={},fetch:o}){this.url=r,this.headers=s,this.fetch=$h(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(r,s=ll[0]){if(ll.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ll.join(", ")}`);try{return await te(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(o){if(Q(o))return{data:null,error:o};throw o}}async inviteUserByEmail(r,s={}){try{return await te(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:vr})}catch(o){if(Q(o))return{data:{user:null},error:o};throw o}}async generateLink(r){try{const{options:s}=r,o=Xi(r,["options"]),l=Object.assign(Object.assign({},o),s);return"newEmail"in o&&(l.new_email=o==null?void 0:o.newEmail,delete l.newEmail),await te(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:Fv,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(Q(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(r){try{return await te(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:vr})}catch(s){if(Q(s))return{data:{user:null},error:s};throw s}}async listUsers(r){var s,o,l,c,h,f,m;try{const v={nextPage:null,lastPage:0,total:0},y=await te(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(s=r==null?void 0:r.page)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:"",per_page:(c=(l=r==null?void 0:r.perPage)===null||l===void 0?void 0:l.toString())!==null&&c!==void 0?c:""},xform:ah});if(y.error)throw y.error;const w=await y.json(),x=(h=y.headers.get("x-total-count"))!==null&&h!==void 0?h:0,b=(m=(f=y.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&m!==void 0?m:[];return b.length>0&&(b.forEach(E=>{const C=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(E.split(";")[1].split("=")[1]);v[`${k}Page`]=C}),v.total=parseInt(x)),{data:Object.assign(Object.assign({},w),v),error:null}}catch(v){if(Q(v))return{data:{users:[]},error:v};throw v}}async getUserById(r){gn(r);try{return await te(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:vr})}catch(s){if(Q(s))return{data:{user:null},error:s};throw s}}async updateUserById(r,s){gn(r);try{return await te(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:s,headers:this.headers,xform:vr})}catch(o){if(Q(o))return{data:{user:null},error:o};throw o}}async deleteUser(r,s=!1){gn(r);try{return await te(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:s},xform:vr})}catch(o){if(Q(o))return{data:{user:null},error:o};throw o}}async _listFactors(r){gn(r.userId);try{const{data:s,error:o}=await te(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:s,error:o}}catch(s){if(Q(s))return{data:null,error:s};throw s}}async _deleteFactor(r){gn(r.userId),gn(r.id);try{return{data:await te(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(s){if(Q(s))return{data:null,error:s};throw s}}async _listOAuthClients(r){var s,o,l,c,h,f,m;try{const v={nextPage:null,lastPage:0,total:0},y=await te(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(s=r==null?void 0:r.page)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:"",per_page:(c=(l=r==null?void 0:r.perPage)===null||l===void 0?void 0:l.toString())!==null&&c!==void 0?c:""},xform:ah});if(y.error)throw y.error;const w=await y.json(),x=(h=y.headers.get("x-total-count"))!==null&&h!==void 0?h:0,b=(m=(f=y.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&m!==void 0?m:[];return b.length>0&&(b.forEach(E=>{const C=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(E.split(";")[1].split("=")[1]);v[`${k}Page`]=C}),v.total=parseInt(x)),{data:Object.assign(Object.assign({},w),v),error:null}}catch(v){if(Q(v))return{data:{clients:[]},error:v};throw v}}async _createOAuthClient(r){try{return await te(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:r,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(Q(s))return{data:null,error:s};throw s}}async _getOAuthClient(r){try{return await te(this.fetch,"GET",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(Q(s))return{data:null,error:s};throw s}}async _updateOAuthClient(r,s){try{return await te(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${r}`,{body:s,headers:this.headers,xform:o=>({data:o,error:null})})}catch(o){if(Q(o))return{data:null,error:o};throw o}}async _deleteOAuthClient(r){try{return await te(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(Q(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(r){try{return await te(this.fetch,"POST",`${this.url}/admin/oauth/clients/${r}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(Q(s))return{data:null,error:s};throw s}}}function lh(n={}){return{getItem:r=>n[r]||null,setItem:(r,s)=>{n[r]=s},removeItem:r=>{delete n[r]}}}const vn={debug:!!(globalThis&&Lh()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Uh extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class uh extends Uh{}async function Vv(n,r,s){vn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,r);const o=new globalThis.AbortController;r>0&&setTimeout(()=>{o.abort(),vn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},r),await Promise.resolve();try{return await globalThis.navigator.locks.request(n,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async l=>{if(l){vn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,l.name);try{return await s()}finally{vn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,l.name)}}else{if(r===0)throw vn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new uh(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(vn.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}})}catch(l){throw(l==null?void 0:l.name)==="AbortError"?new uh(`Acquiring an exclusive Navigator LockManager lock "${n}" timed out waiting ${r}ms`):l}}function Hv(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Dh(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function Kv(n){return parseInt(n,16)}function Gv(n){const r=new TextEncoder().encode(n);return"0x"+Array.from(r,o=>o.toString(16).padStart(2,"0")).join("")}function Jv(n){var r;const{chainId:s,domain:o,expirationTime:l,issuedAt:c=new Date,nonce:h,notBefore:f,requestId:m,resources:v,scheme:y,uri:w,version:x}=n;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!o)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(h&&h.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${h}`);if(!w)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(x!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${x}`);if(!((r=n.statement)===null||r===void 0)&&r.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const b=Dh(n.address),E=y?`${y}://${o}`:o,C=n.statement?`${n.statement}
`:"",k=`${E} wants you to sign in with your Ethereum account:
${b}

${C}`;let O=`URI: ${w}
Version: ${x}
Chain ID: ${s}${h?`
Nonce: ${h}`:""}
Issued At: ${c.toISOString()}`;if(l&&(O+=`
Expiration Time: ${l.toISOString()}`),f&&(O+=`
Not Before: ${f.toISOString()}`),m&&(O+=`
Request ID: ${m}`),v){let L=`
Resources:`;for(const I of v){if(!I||typeof I!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${I}`);L+=`
- ${I}`}O+=L}return`${k}
${O}`}class Ie extends Error{constructor({message:r,code:s,cause:o,name:l}){var c;super(r,{cause:o}),this.__isWebAuthnError=!0,this.name=(c=l??(o instanceof Error?o.name:void 0))!==null&&c!==void 0?c:"Unknown Error",this.code=s}}class Ji extends Ie{constructor(r,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:r}),this.name="WebAuthnUnknownError",this.originalError=s}}function Qv({error:n,options:r}){var s,o,l;const{publicKey:c}=r;if(!c)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(r.signal instanceof AbortSignal)return new Ie({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((s=c.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new Ie({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(r.mediation==="conditional"&&((o=c.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new Ie({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((l=c.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new Ie({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new Ie({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new Ie({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return c.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new Ie({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new Ie({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const h=window.location.hostname;if(zh(h)){if(c.rp.id!==h)return new Ie({message:`The RP ID "${c.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Ie({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(c.user.id.byteLength<1||c.user.id.byteLength>64)return new Ie({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new Ie({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Ie({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function Yv({error:n,options:r}){const{publicKey:s}=r;if(!s)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(r.signal instanceof AbortSignal)return new Ie({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new Ie({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const o=window.location.hostname;if(zh(o)){if(s.rpId!==o)return new Ie({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Ie({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new Ie({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Ie({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class Xv{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const r=new AbortController;return this.controller=r,r.signal}cancelCeremony(){if(this.controller){const r=new Error("Manually cancelling existing WebAuthn API call");r.name="AbortError",this.controller.abort(r),this.controller=void 0}}}const Zv=new Xv;function ey(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:r,user:s,excludeCredentials:o}=n,l=Xi(n,["challenge","user","excludeCredentials"]),c=Sn(r).buffer,h=Object.assign(Object.assign({},s),{id:Sn(s.id).buffer}),f=Object.assign(Object.assign({},l),{challenge:c,user:h});if(o&&o.length>0){f.excludeCredentials=new Array(o.length);for(let m=0;m<o.length;m++){const v=o[m];f.excludeCredentials[m]=Object.assign(Object.assign({},v),{id:Sn(v.id).buffer,type:v.type||"public-key",transports:v.transports})}}return f}function ty(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:r,allowCredentials:s}=n,o=Xi(n,["challenge","allowCredentials"]),l=Sn(r).buffer,c=Object.assign(Object.assign({},o),{challenge:l});if(s&&s.length>0){c.allowCredentials=new Array(s.length);for(let h=0;h<s.length;h++){const f=s[h];c.allowCredentials[h]=Object.assign(Object.assign({},f),{id:Sn(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return c}function ry(n){var r;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const s=n;return{id:n.id,rawId:n.id,response:{attestationObject:zr(new Uint8Array(n.response.attestationObject)),clientDataJSON:zr(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(r=s.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function ny(n){var r;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const s=n,o=n.getClientExtensionResults(),l=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:zr(new Uint8Array(l.authenticatorData)),clientDataJSON:zr(new Uint8Array(l.clientDataJSON)),signature:zr(new Uint8Array(l.signature)),userHandle:l.userHandle?zr(new Uint8Array(l.userHandle)):void 0},type:"public-key",clientExtensionResults:o,authenticatorAttachment:(r=s.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function zh(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function ch(){var n,r;return!!(Ve()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator==null?void 0:navigator.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((r=navigator==null?void 0:navigator.credentials)===null||r===void 0?void 0:r.get)=="function")}async function sy(n){try{const r=await navigator.credentials.create(n);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new Ji("Browser returned unexpected credential type",r)}:{data:null,error:new Ji("Empty credential response",r)}}catch(r){return{data:null,error:Qv({error:r,options:n})}}}async function iy(n){try{const r=await navigator.credentials.get(n);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new Ji("Browser returned unexpected credential type",r)}:{data:null,error:new Ji("Empty credential response",r)}}catch(r){return{data:null,error:Yv({error:r,options:n})}}}const oy={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},ay={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Qi(...n){const r=l=>l!==null&&typeof l=="object"&&!Array.isArray(l),s=l=>l instanceof ArrayBuffer||ArrayBuffer.isView(l),o={};for(const l of n)if(l)for(const c in l){const h=l[c];if(h!==void 0)if(Array.isArray(h))o[c]=h;else if(s(h))o[c]=h;else if(r(h)){const f=o[c];r(f)?o[c]=Qi(f,h):o[c]=Qi(h)}else o[c]=h}return o}function ly(n,r){return Qi(oy,n,r||{})}function uy(n,r){return Qi(ay,n,r||{})}class cy{constructor(r){this.client=r,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(r){return this.client.mfa.enroll(Object.assign(Object.assign({},r),{factorType:"webauthn"}))}async _challenge({factorId:r,webauthn:s,friendlyName:o,signal:l},c){var h;try{const{data:f,error:m}=await this.client.mfa.challenge({factorId:r,webauthn:s});if(!f)return{data:null,error:m};const v=l??Zv.createNewAbortSignal();if(f.webauthn.type==="create"){const{user:y}=f.webauthn.credential_options.publicKey;if(!y.name){const w=o;if(w)y.name=`${y.id}:${w}`;else{const b=(await this.client.getUser()).data.user,E=((h=b==null?void 0:b.user_metadata)===null||h===void 0?void 0:h.name)||(b==null?void 0:b.email)||(b==null?void 0:b.id)||"User";y.name=`${y.id}:${E}`}}y.displayName||(y.displayName=y.name)}switch(f.webauthn.type){case"create":{const y=ly(f.webauthn.credential_options.publicKey,c==null?void 0:c.create),{data:w,error:x}=await sy({publicKey:y,signal:v});return w?{data:{factorId:r,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:w}},error:null}:{data:null,error:x}}case"request":{const y=uy(f.webauthn.credential_options.publicKey,c==null?void 0:c.request),{data:w,error:x}=await iy(Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:y,signal:v}));return w?{data:{factorId:r,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:w}},error:null}:{data:null,error:x}}}}catch(f){return Q(f)?{data:null,error:f}:{data:null,error:new Dr("Unexpected error in challenge",f)}}}async _verify({challengeId:r,factorId:s,webauthn:o}){return this.client.mfa.verify({factorId:s,challengeId:r,webauthn:o})}async _authenticate({factorId:r,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},c){if(!s)return{data:null,error:new bs("rpId is required for WebAuthn authentication")};try{if(!ch())return{data:null,error:new Dr("Browser does not support WebAuthn",null)};const{data:h,error:f}=await this.challenge({factorId:r,webauthn:{rpId:s,rpOrigins:o},signal:l},{request:c});if(!h)return{data:null,error:f};const{webauthn:m}=h;return this._verify({factorId:r,challengeId:h.challengeId,webauthn:{type:m.type,rpId:s,rpOrigins:o,credential_response:m.credential_response}})}catch(h){return Q(h)?{data:null,error:h}:{data:null,error:new Dr("Unexpected error in authenticate",h)}}}async _register({friendlyName:r,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},c){if(!s)return{data:null,error:new bs("rpId is required for WebAuthn registration")};try{if(!ch())return{data:null,error:new Dr("Browser does not support WebAuthn",null)};const{data:h,error:f}=await this._enroll({friendlyName:r});if(!h)return await this.client.mfa.listFactors().then(y=>{var w;return(w=y.data)===null||w===void 0?void 0:w.all.find(x=>x.factor_type==="webauthn"&&x.friendly_name===r&&x.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y==null?void 0:y.id}):void 0),{data:null,error:f};const{data:m,error:v}=await this._challenge({factorId:h.id,friendlyName:h.friendly_name,webauthn:{rpId:s,rpOrigins:o},signal:l},{create:c});return m?this._verify({factorId:h.id,challengeId:m.challengeId,webauthn:{rpId:s,rpOrigins:o,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:v}}catch(h){return Q(h)?{data:null,error:h}:{data:null,error:new Dr("Unexpected error in register",h)}}}}Hv();const dy={url:lv,storageKey:uv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:cv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4,skipAutoInitialize:!1};async function dh(n,r,s){return await s()}const yn={};class Es{get jwks(){var r,s;return(s=(r=yn[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(r){yn[this.storageKey]=Object.assign(Object.assign({},yn[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,s;return(s=(r=yn[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){yn[this.storageKey]=Object.assign(Object.assign({},yn[this.storageKey]),{cachedAt:r})}constructor(r){var s,o,l;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const c=Object.assign(Object.assign({},dy),r);if(this.storageKey=c.storageKey,this.instanceID=(s=Es.nextInstanceID[this.storageKey])!==null&&s!==void 0?s:0,Es.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.instanceID>0&&Ve()){const h=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(h),this.logDebugMessages&&console.trace(h)}if(this.persistSession=c.persistSession,this.autoRefreshToken=c.autoRefreshToken,this.admin=new qv({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=$h(c.fetch),this.lock=c.lock||dh,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,this.throwOnError=c.throwOnError,this.lockAcquireTimeout=c.lockAcquireTimeout,c.lock?this.lock=c.lock:this.persistSession&&Ve()&&(!((o=globalThis==null?void 0:globalThis.navigator)===null||o===void 0)&&o.locks)?this.lock=Vv:this.lock=dh,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new cy(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:Lh()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=lh(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=lh(this.memoryStorage)),Ve()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(h){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",h)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async h=>{this._debug("received broadcast notification from other tab or client",h);try{await this._notifyAllSubscribers(h.data.event,h.data.session,!1)}catch(f){this._debug("#broadcastChannel","error",f)}})}c.skipAutoInitialize||this.initialize().catch(h=>{this._debug("#initialize()","error",h)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(r){if(this.throwOnError&&r&&r.error)throw r.error;return r}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Oh}) ${new Date().toISOString()}`}_debug(...r){return this.logDebugMessages&&this.logger(this._logPrefix(),...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{let s={},o="none";if(Ve()&&(s=bv(window.location.href),this._isImplicitGrantCallback(s)?o="implicit":await this._isPKCECallback(s)&&(o="pkce")),Ve()&&this.detectSessionInUrl&&o!=="none"){const{data:l,error:c}=await this._getSessionFromURL(s,o);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),mv(c)){const m=(r=c.details)===null||r===void 0?void 0:r.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:c}}return{error:c}}const{session:h,redirectType:f}=l;return this._debug("#_initialize()","detected session in URL",h,"redirect type",f),await this._saveSession(h),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return Q(s)?this._returnResult({error:s}):this._returnResult({error:new Dr("Unexpected error during initialization",s)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var s,o,l;try{const c=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(s=r==null?void 0:r.options)===null||s===void 0?void 0:s.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(l=r==null?void 0:r.options)===null||l===void 0?void 0:l.captchaToken}},xform:Pt}),{data:h,error:f}=c;if(f||!h)return this._returnResult({data:{user:null,session:null},error:f});const m=h.session,v=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:v,session:m},error:null})}catch(c){if(Q(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signUp(r){var s,o,l;try{let c;if("email"in r){const{email:y,password:w,options:x}=r;let b=null,E=null;this.flowType==="pkce"&&([b,E]=await mn(this.storage,this.storageKey)),c=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x==null?void 0:x.emailRedirectTo,body:{email:y,password:w,data:(s=x==null?void 0:x.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken},code_challenge:b,code_challenge_method:E},xform:Pt})}else if("phone"in r){const{phone:y,password:w,options:x}=r;c=await te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:w,data:(o=x==null?void 0:x.data)!==null&&o!==void 0?o:{},channel:(l=x==null?void 0:x.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken}},xform:Pt})}else throw new Wi("You must provide either an email or phone number and a password");const{data:h,error:f}=c;if(f||!h)return await qe(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:f});const m=h.session,v=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:v,session:m},error:null})}catch(c){if(await qe(this.storage,`${this.storageKey}-code-verifier`),Q(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithPassword(r){try{let s;if("email"in r){const{email:c,password:h,options:f}=r;s=await te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:h,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:oh})}else if("phone"in r){const{phone:c,password:h,options:f}=r;s=await te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:h,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:oh})}else throw new Wi("You must provide either an email or phone number and a password");const{data:o,error:l}=s;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o||!o.session||!o.user){const c=new pn;return this._returnResult({data:{user:null,session:null},error:c})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:l})}catch(s){if(Q(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOAuth(r){var s,o,l,c;return await this._handleProviderSignIn(r.provider,{redirectTo:(s=r.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=r.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=r.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(c=r.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:s}=r;switch(s){case"ethereum":return await this.signInWithEthereum(r);case"solana":return await this.signInWithSolana(r);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(r){var s,o,l,c,h,f,m,v,y,w,x;let b,E;if("message"in r)b=r.message,E=r.signature;else{const{chain:C,wallet:k,statement:O,options:L}=r;let I;if(Ve())if(typeof k=="object")I=k;else{const re=window;if("ethereum"in re&&typeof re.ethereum=="object"&&"request"in re.ethereum&&typeof re.ethereum.request=="function")I=re.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!(L!=null&&L.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");I=k}const B=new URL((s=L==null?void 0:L.url)!==null&&s!==void 0?s:window.location.href),le=await I.request({method:"eth_requestAccounts"}).then(re=>re).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!le||le.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const se=Dh(le[0]);let ce=(o=L==null?void 0:L.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!ce){const re=await I.request({method:"eth_chainId"});ce=Kv(re)}const _e={domain:B.host,address:se,statement:O,uri:B.href,version:"1",chainId:ce,nonce:(l=L==null?void 0:L.signInWithEthereum)===null||l===void 0?void 0:l.nonce,issuedAt:(h=(c=L==null?void 0:L.signInWithEthereum)===null||c===void 0?void 0:c.issuedAt)!==null&&h!==void 0?h:new Date,expirationTime:(f=L==null?void 0:L.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(m=L==null?void 0:L.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(v=L==null?void 0:L.signInWithEthereum)===null||v===void 0?void 0:v.requestId,resources:(y=L==null?void 0:L.signInWithEthereum)===null||y===void 0?void 0:y.resources};b=Jv(_e),E=await I.request({method:"personal_sign",params:[Gv(b),se]})}try{const{data:C,error:k}=await te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:E},!((w=r.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(x=r.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Pt});if(k)throw k;if(!C||!C.session||!C.user){const O=new pn;return this._returnResult({data:{user:null,session:null},error:O})}return C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),this._returnResult({data:Object.assign({},C),error:k})}catch(C){if(Q(C))return this._returnResult({data:{user:null,session:null},error:C});throw C}}async signInWithSolana(r){var s,o,l,c,h,f,m,v,y,w,x,b;let E,C;if("message"in r)E=r.message,C=r.signature;else{const{chain:k,wallet:O,statement:L,options:I}=r;let B;if(Ve())if(typeof O=="object")B=O;else{const se=window;if("solana"in se&&typeof se.solana=="object"&&("signIn"in se.solana&&typeof se.solana.signIn=="function"||"signMessage"in se.solana&&typeof se.solana.signMessage=="function"))B=se.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof O!="object"||!(I!=null&&I.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");B=O}const le=new URL((s=I==null?void 0:I.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in B&&B.signIn){const se=await B.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},I==null?void 0:I.signInWithSolana),{version:"1",domain:le.host,uri:le.href}),L?{statement:L}:null));let ce;if(Array.isArray(se)&&se[0]&&typeof se[0]=="object")ce=se[0];else if(se&&typeof se=="object"&&"signedMessage"in se&&"signature"in se)ce=se;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ce&&"signature"in ce&&(typeof ce.signedMessage=="string"||ce.signedMessage instanceof Uint8Array)&&ce.signature instanceof Uint8Array)E=typeof ce.signedMessage=="string"?ce.signedMessage:new TextDecoder().decode(ce.signedMessage),C=ce.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in B)||typeof B.signMessage!="function"||!("publicKey"in B)||typeof B!="object"||!B.publicKey||!("toBase58"in B.publicKey)||typeof B.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");E=[`${le.host} wants you to sign in with your Solana account:`,B.publicKey.toBase58(),...L?["",L,""]:[""],"Version: 1",`URI: ${le.href}`,`Issued At: ${(l=(o=I==null?void 0:I.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((c=I==null?void 0:I.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${I.signInWithSolana.notBefore}`]:[],...!((h=I==null?void 0:I.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${I.signInWithSolana.expirationTime}`]:[],...!((f=I==null?void 0:I.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${I.signInWithSolana.chainId}`]:[],...!((m=I==null?void 0:I.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${I.signInWithSolana.nonce}`]:[],...!((v=I==null?void 0:I.signInWithSolana)===null||v===void 0)&&v.requestId?[`Request ID: ${I.signInWithSolana.requestId}`]:[],...!((w=(y=I==null?void 0:I.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||w===void 0)&&w.length?["Resources",...I.signInWithSolana.resources.map(ce=>`- ${ce}`)]:[]].join(`
`);const se=await B.signMessage(new TextEncoder().encode(E),"utf8");if(!se||!(se instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");C=se}}try{const{data:k,error:O}=await te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:E,signature:zr(C)},!((x=r.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(b=r.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Pt});if(O)throw O;if(!k||!k.session||!k.user){const L=new pn;return this._returnResult({data:{user:null,session:null},error:L})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:O})}catch(k){if(Q(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async _exchangeCodeForSession(r){const s=await Lr(this.storage,`${this.storageKey}-code-verifier`),[o,l]=(s??"").split("/");try{if(!o&&this.flowType==="pkce")throw new gv;const{data:c,error:h}=await te(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:o},xform:Pt});if(await qe(this.storage,`${this.storageKey}-code-verifier`),h)throw h;if(!c||!c.session||!c.user){const f=new pn;return this._returnResult({data:{user:null,session:null,redirectType:null},error:f})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:Object.assign(Object.assign({},c),{redirectType:l??null}),error:h})}catch(c){if(await qe(this.storage,`${this.storageKey}-code-verifier`),Q(c))return this._returnResult({data:{user:null,session:null,redirectType:null},error:c});throw c}}async signInWithIdToken(r){try{const{options:s,provider:o,token:l,access_token:c,nonce:h}=r,f=await te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:l,access_token:c,nonce:h,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Pt}),{data:m,error:v}=f;if(v)return this._returnResult({data:{user:null,session:null},error:v});if(!m||!m.session||!m.user){const y=new pn;return this._returnResult({data:{user:null,session:null},error:y})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:m,error:v})}catch(s){if(Q(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOtp(r){var s,o,l,c,h;try{if("email"in r){const{email:f,options:m}=r;let v=null,y=null;this.flowType==="pkce"&&([v,y]=await mn(this.storage,this.storageKey));const{error:w}=await te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(s=m==null?void 0:m.data)!==null&&s!==void 0?s:{},create_user:(o=m==null?void 0:m.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:v,code_challenge_method:y},redirectTo:m==null?void 0:m.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:w})}if("phone"in r){const{phone:f,options:m}=r,{data:v,error:y}=await te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(l=m==null?void 0:m.data)!==null&&l!==void 0?l:{},create_user:(c=m==null?void 0:m.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},channel:(h=m==null?void 0:m.channel)!==null&&h!==void 0?h:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:v==null?void 0:v.message_id},error:y})}throw new Wi("You must provide either an email or phone number.")}catch(f){if(await qe(this.storage,`${this.storageKey}-code-verifier`),Q(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async verifyOtp(r){var s,o;try{let l,c;"options"in r&&(l=(s=r.options)===null||s===void 0?void 0:s.redirectTo,c=(o=r.options)===null||o===void 0?void 0:o.captchaToken);const{data:h,error:f}=await te(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:c}}),redirectTo:l,xform:Pt});if(f)throw f;if(!h)throw new Error("An error occurred on token verification.");const m=h.session,v=h.user;return m!=null&&m.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),this._returnResult({data:{user:v,session:m},error:null})}catch(l){if(Q(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithSSO(r){var s,o,l,c,h;try{let f=null,m=null;this.flowType==="pkce"&&([f,m]=await mn(this.storage,this.storageKey));const v=await te(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(o=(s=r.options)===null||s===void 0?void 0:s.redirectTo)!==null&&o!==void 0?o:void 0}),!((l=r==null?void 0:r.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:f,code_challenge_method:m}),headers:this.headers,xform:Bv});return!((c=v.data)===null||c===void 0)&&c.url&&Ve()&&!(!((h=r.options)===null||h===void 0)&&h.skipBrowserRedirect)&&window.location.assign(v.data.url),this._returnResult(v)}catch(f){if(await qe(this.storage,`${this.storageKey}-code-verifier`),Q(f))return this._returnResult({data:null,error:f});throw f}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:s},error:o}=r;if(o)throw o;if(!s)throw new pt;const{error:l}=await te(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return this._returnResult({data:{user:null,session:null},error:l})})}catch(r){if(Q(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async resend(r){try{const s=`${this.url}/resend`;if("email"in r){const{email:o,type:l,options:c}=r,{error:h}=await te(this.fetch,"POST",s,{headers:this.headers,body:{email:o,type:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}else if("phone"in r){const{phone:o,type:l,options:c}=r,{data:h,error:f}=await te(this.fetch,"POST",s,{headers:this.headers,body:{phone:o,type:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:f})}throw new Wi("You must provide either an email or phone number and a type")}catch(s){if(Q(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async s=>s))}async _acquireLock(r,s){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await o,await s()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=s();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await r(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const s=await Lr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?r=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const o=r.expires_at?r.expires_at*1e3-Date.now()<sl:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",r.expires_at),!o){if(this.userStorage){const h=await Lr(this.userStorage,this.storageKey+"-user");h!=null&&h.user?r.user=h.user:r.user=al()}if(this.storage.isServer&&r.user&&!r.user.__isUserNotAvailableProxy){const h={value:this.suppressGetSessionWarning};r.user=Uv(r.user,h),h.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:r},error:null}}const{data:l,error:c}=await this._callRefreshToken(r.refresh_token);return c?this._returnResult({data:{session:null},error:c}):this._returnResult({data:{session:l},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(r){if(r)return await this._getUser(r);await this.initializePromise;const s=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return s.data.user&&(this.suppressGetSessionWarning=!0),s}async _getUser(r){try{return r?await te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:vr}):await this._useSession(async s=>{var o,l,c;const{data:h,error:f}=s;if(f)throw f;return!(!((o=h.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new pt}:await te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(l=h.session)===null||l===void 0?void 0:l.access_token)!==null&&c!==void 0?c:void 0,xform:vr})})}catch(s){if(Q(s))return il(s)&&(await this._removeSession(),await qe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:s});throw s}}async updateUser(r,s={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(r,s))}async _updateUser(r,s={}){try{return await this._useSession(async o=>{const{data:l,error:c}=o;if(c)throw c;if(!l.session)throw new pt;const h=l.session;let f=null,m=null;this.flowType==="pkce"&&r.email!=null&&([f,m]=await mn(this.storage,this.storageKey));const{data:v,error:y}=await te(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:f,code_challenge_method:m}),jwt:h.access_token,xform:vr});if(y)throw y;return h.user=v.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),this._returnResult({data:{user:h.user},error:null})})}catch(o){if(await qe(this.storage,`${this.storageKey}-code-verifier`),Q(o))return this._returnResult({data:{user:null},error:o});throw o}}async setSession(r){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new pt;const s=Date.now()/1e3;let o=s,l=!0,c=null;const{payload:h}=Vi(r.access_token);if(h.exp&&(o=h.exp,l=o<=s),l){const{data:f,error:m}=await this._callRefreshToken(r.refresh_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!f)return{data:{user:null,session:null},error:null};c=f}else{const{data:f,error:m}=await this._getUser(r.access_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});c={access_token:r.access_token,refresh_token:r.refresh_token,user:f.user,token_type:"bearer",expires_in:o-s,expires_at:o},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return this._returnResult({data:{user:c.user,session:c},error:null})}catch(s){if(Q(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async s=>{var o;if(!r){const{data:h,error:f}=s;if(f)throw f;r=(o=h.session)!==null&&o!==void 0?o:void 0}if(!(r!=null&&r.refresh_token))throw new pt;const{data:l,error:c}=await this._callRefreshToken(r.refresh_token);return c?this._returnResult({data:{user:null,session:null},error:c}):l?this._returnResult({data:{user:l.user,session:l},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(s){if(Q(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async _getSessionFromURL(r,s){try{if(!Ve())throw new qi("No browser detected.");if(r.error||r.error_description||r.error_code)throw new qi(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Zd("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new qi("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new Zd("No code detected.");const{data:L,error:I}=await this._exchangeCodeForSession(r.code);if(I)throw I;const B=new URL(window.location.href);return B.searchParams.delete("code"),window.history.replaceState(window.history.state,"",B.toString()),{data:{session:L.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:l,access_token:c,refresh_token:h,expires_in:f,expires_at:m,token_type:v}=r;if(!c||!f||!h||!v)throw new qi("No session defined in URL");const y=Math.round(Date.now()/1e3),w=parseInt(f);let x=y+w;m&&(x=parseInt(m));const b=x-y;b*1e3<=_n&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${w}s`);const E=x-w;y-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,x,y):y-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,x,y);const{data:C,error:k}=await this._getUser(c);if(k)throw k;const O={provider_token:o,provider_refresh_token:l,access_token:c,expires_in:w,expires_at:x,refresh_token:h,token_type:v,user:C.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:O,redirectType:r.type},error:null})}catch(o){if(Q(o))return this._returnResult({data:{session:null,redirectType:null},error:o});throw o}}_isImplicitGrantCallback(r){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),r):!!(r.access_token||r.error_description)}async _isPKCECallback(r){const s=await Lr(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&s)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async s=>{var o;const{data:l,error:c}=s;if(c&&!il(c))return this._returnResult({error:c});const h=(o=l.session)===null||o===void 0?void 0:o.access_token;if(h){const{error:f}=await this.admin.signOut(h,r);if(f&&!(pv(f)&&(f.status===404||f.status===401||f.status===403)||il(f)))return this._returnResult({error:f})}return r!=="others"&&(await this._removeSession(),await qe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(r){const s=Sv(),o={id:s,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,o),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:o}}}async _emitInitialSession(r){return await this._useSession(async s=>{var o,l;try{const{data:{session:c},error:h}=s;if(h)throw h;await((o=this.stateChangeEmitters.get(r))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",r,"session",c)}catch(c){await((l=this.stateChangeEmitters.get(r))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",c),console.error(c)}})}async resetPasswordForEmail(r,s={}){let o=null,l=null;this.flowType==="pkce"&&([o,l]=await mn(this.storage,this.storageKey,!0));try{return await te(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:o,code_challenge_method:l,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(c){if(await qe(this.storage,`${this.storageKey}-code-verifier`),Q(c))return this._returnResult({data:null,error:c});throw c}}async getUserIdentities(){var r;try{const{data:s,error:o}=await this.getUser();if(o)throw o;return this._returnResult({data:{identities:(r=s.user.identities)!==null&&r!==void 0?r:[]},error:null})}catch(s){if(Q(s))return this._returnResult({data:null,error:s});throw s}}async linkIdentity(r){return"token"in r?this.linkIdentityIdToken(r):this.linkIdentityOAuth(r)}async linkIdentityOAuth(r){var s;try{const{data:o,error:l}=await this._useSession(async c=>{var h,f,m,v,y;const{data:w,error:x}=c;if(x)throw x;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(h=r.options)===null||h===void 0?void 0:h.redirectTo,scopes:(f=r.options)===null||f===void 0?void 0:f.scopes,queryParams:(m=r.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await te(this.fetch,"GET",b,{headers:this.headers,jwt:(y=(v=w.session)===null||v===void 0?void 0:v.access_token)!==null&&y!==void 0?y:void 0})});if(l)throw l;return Ve()&&!(!((s=r.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(o==null?void 0:o.url),this._returnResult({data:{provider:r.provider,url:o==null?void 0:o.url},error:null})}catch(o){if(Q(o))return this._returnResult({data:{provider:r.provider,url:null},error:o});throw o}}async linkIdentityIdToken(r){return await this._useSession(async s=>{var o;try{const{error:l,data:{session:c}}=s;if(l)throw l;const{options:h,provider:f,token:m,access_token:v,nonce:y}=r,w=await te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(o=c==null?void 0:c.access_token)!==null&&o!==void 0?o:void 0,body:{provider:f,id_token:m,access_token:v,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Pt}),{data:x,error:b}=w;return b?this._returnResult({data:{user:null,session:null},error:b}):!x||!x.session||!x.user?this._returnResult({data:{user:null,session:null},error:new pn}):(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("USER_UPDATED",x.session)),this._returnResult({data:x,error:b}))}catch(l){if(await qe(this.storage,`${this.storageKey}-code-verifier`),Q(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}})}async unlinkIdentity(r){try{return await this._useSession(async s=>{var o,l;const{data:c,error:h}=s;if(h)throw h;return await te(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(l=(o=c.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0})})}catch(s){if(Q(s))return this._returnResult({data:null,error:s});throw s}}async _refreshAccessToken(r){const s=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(s,"begin");try{const o=Date.now();return await Cv(async l=>(l>0&&await jv(200*Math.pow(2,l-1)),this._debug(s,"refreshing attempt",l),await te(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:Pt})),(l,c)=>{const h=200*Math.pow(2,l);return c&&ol(c)&&Date.now()+h-o<_n})}catch(o){if(this._debug(s,"error",o),Q(o))return this._returnResult({data:{session:null,user:null},error:o});throw o}finally{this._debug(s,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,s){const o=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",s,"url",o),Ve()&&!s.skipBrowserRedirect&&window.location.assign(o),{data:{provider:r,url:o},error:null}}async _recoverAndRefresh(){var r,s;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const l=await Lr(this.storage,this.storageKey);if(l&&this.userStorage){let h=await Lr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:l.user},await xn(this.userStorage,this.storageKey+"-user",h)),l.user=(r=h==null?void 0:h.user)!==null&&r!==void 0?r:al()}else if(l&&!l.user&&!l.user){const h=await Lr(this.storage,this.storageKey+"-user");h&&(h!=null&&h.user)?(l.user=h.user,await qe(this.storage,this.storageKey+"-user"),await xn(this.storage,this.storageKey,l)):l.user=al()}if(this._debug(o,"session from storage",l),!this._isValidSession(l)){this._debug(o,"session is not valid"),l!==null&&await this._removeSession();return}const c=((s=l.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<sl;if(this._debug(o,`session has${c?"":" not"} expired with margin of ${sl}s`),c){if(this.autoRefreshToken&&l.refresh_token){const{error:h}=await this._callRefreshToken(l.refresh_token);h&&(console.error(h),ol(h)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:f}=await this._getUser(l.access_token);!f&&(h!=null&&h.user)?(l.user=h.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(o,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(o,"error",l),console.error(l);return}finally{this._debug(o,"end")}}async _callRefreshToken(r){var s,o;if(!r)throw new pt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new to;const{data:c,error:h}=await this._refreshAccessToken(r);if(h)throw h;if(!c.session)throw new pt;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const f={data:c.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(c){if(this._debug(l,"error",c),Q(c)){const h={data:null,error:c};return ol(c)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(h),h}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(c),c}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(r,s,o=!0){const l=`#_notifyAllSubscribers(${r})`;this._debug(l,"begin",s,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:r,session:s});const c=[],h=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(r,s)}catch(m){c.push(m)}});if(await Promise.all(h),c.length>0){for(let f=0;f<c.length;f+=1)console.error(c[f]);throw c[0]}}finally{this._debug(l,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0,await qe(this.storage,`${this.storageKey}-code-verifier`);const s=Object.assign({},r),o=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&s.user&&await xn(this.userStorage,this.storageKey+"-user",{user:s.user});const l=Object.assign({},s);delete l.user;const c=sh(l);await xn(this.storage,this.storageKey,c)}else{const l=sh(s);await xn(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await qe(this.storage,this.storageKey),await qe(this.storage,this.storageKey+"-code-verifier"),await qe(this.storage,this.storageKey+"-user"),this.userStorage&&await qe(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&Ve()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",r)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),_n);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r);const s=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=s,s&&typeof s=="object"&&typeof s.unref=="function"?s.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(s)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r);const s=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,s&&clearTimeout(s)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async s=>{const{data:{session:o}}=s;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((o.expires_at*1e3-r)/_n);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${_n}ms, refresh threshold is ${yl} ticks`),l<=yl&&await this._callRefreshToken(o.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof Uh)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ve()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(r){this._debug("#visibilityChangedCallback","error",r)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const s=`#_onVisibilityChanged(${r})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,s,o){const l=[`provider=${encodeURIComponent(s)}`];if(o!=null&&o.redirectTo&&l.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o!=null&&o.scopes&&l.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[c,h]=await mn(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(h)}`});l.push(f.toString())}if(o!=null&&o.queryParams){const c=new URLSearchParams(o.queryParams);l.push(c.toString())}return o!=null&&o.skipBrowserRedirect&&l.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${r}?${l.join("&")}`}async _unenroll(r){try{return await this._useSession(async s=>{var o;const{data:l,error:c}=s;return c?this._returnResult({data:null,error:c}):await te(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(o=l==null?void 0:l.session)===null||o===void 0?void 0:o.access_token})})}catch(s){if(Q(s))return this._returnResult({data:null,error:s});throw s}}async _enroll(r){try{return await this._useSession(async s=>{var o,l;const{data:c,error:h}=s;if(h)return this._returnResult({data:null,error:h});const f=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:r.factorType==="totp"?{issuer:r.issuer}:{}),{data:m,error:v}=await te(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(o=c==null?void 0:c.session)===null||o===void 0?void 0:o.access_token});return v?this._returnResult({data:null,error:v}):(r.factorType==="totp"&&m.type==="totp"&&(!((l=m==null?void 0:m.totp)===null||l===void 0)&&l.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),this._returnResult({data:m,error:null}))})}catch(s){if(Q(s))return this._returnResult({data:null,error:s});throw s}}async _verify(r){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var o;const{data:l,error:c}=s;if(c)return this._returnResult({data:null,error:c});const h=Object.assign({challenge_id:r.challengeId},"webauthn"in r?{webauthn:Object.assign(Object.assign({},r.webauthn),{credential_response:r.webauthn.type==="create"?ry(r.webauthn.credential_response):ny(r.webauthn.credential_response)})}:{code:r.code}),{data:f,error:m}=await te(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:h,headers:this.headers,jwt:(o=l==null?void 0:l.session)===null||o===void 0?void 0:o.access_token});return m?this._returnResult({data:null,error:m}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),this._returnResult({data:f,error:m}))})}catch(s){if(Q(s))return this._returnResult({data:null,error:s});throw s}})}async _challenge(r){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var o;const{data:l,error:c}=s;if(c)return this._returnResult({data:null,error:c});const h=await te(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:r,headers:this.headers,jwt:(o=l==null?void 0:l.session)===null||o===void 0?void 0:o.access_token});if(h.error)return h;const{data:f}=h;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:ey(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:ty(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(Q(s))return this._returnResult({data:null,error:s});throw s}})}async _challengeAndVerify(r){const{data:s,error:o}=await this._challenge({factorId:r.factorId});return o?this._returnResult({data:null,error:o}):await this._verify({factorId:r.factorId,challengeId:s.id,code:r.code})}async _listFactors(){var r;const{data:{user:s},error:o}=await this.getUser();if(o)return{data:null,error:o};const l={all:[],phone:[],totp:[],webauthn:[]};for(const c of(r=s==null?void 0:s.factors)!==null&&r!==void 0?r:[])l.all.push(c),c.status==="verified"&&l[c.factor_type].push(c);return{data:l,error:null}}async _getAuthenticatorAssuranceLevel(r){var s,o,l,c;if(r)try{const{payload:b}=Vi(r);let E=null;b.aal&&(E=b.aal);let C=E;const{data:{user:k},error:O}=await this.getUser(r);if(O)return this._returnResult({data:null,error:O});((o=(s=k==null?void 0:k.factors)===null||s===void 0?void 0:s.filter(B=>B.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(C="aal2");const I=b.amr||[];return{data:{currentLevel:E,nextLevel:C,currentAuthenticationMethods:I},error:null}}catch(b){if(Q(b))return this._returnResult({data:null,error:b});throw b}const{data:{session:h},error:f}=await this.getSession();if(f)return this._returnResult({data:null,error:f});if(!h)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:m}=Vi(h.access_token);let v=null;m.aal&&(v=m.aal);let y=v;((c=(l=h.user.factors)===null||l===void 0?void 0:l.filter(b=>b.status==="verified"))!==null&&c!==void 0?c:[]).length>0&&(y="aal2");const x=m.amr||[];return{data:{currentLevel:v,nextLevel:y,currentAuthenticationMethods:x},error:null}}async _getAuthorizationDetails(r){try{return await this._useSession(async s=>{const{data:{session:o},error:l}=s;return l?this._returnResult({data:null,error:l}):o?await te(this.fetch,"GET",`${this.url}/oauth/authorizations/${r}`,{headers:this.headers,jwt:o.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new pt})})}catch(s){if(Q(s))return this._returnResult({data:null,error:s});throw s}}async _approveAuthorization(r,s){try{return await this._useSession(async o=>{const{data:{session:l},error:c}=o;if(c)return this._returnResult({data:null,error:c});if(!l)return this._returnResult({data:null,error:new pt});const h=await te(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"approve"},xform:f=>({data:f,error:null})});return h.data&&h.data.redirect_url&&Ve()&&!(s!=null&&s.skipBrowserRedirect)&&window.location.assign(h.data.redirect_url),h})}catch(o){if(Q(o))return this._returnResult({data:null,error:o});throw o}}async _denyAuthorization(r,s){try{return await this._useSession(async o=>{const{data:{session:l},error:c}=o;if(c)return this._returnResult({data:null,error:c});if(!l)return this._returnResult({data:null,error:new pt});const h=await te(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"deny"},xform:f=>({data:f,error:null})});return h.data&&h.data.redirect_url&&Ve()&&!(s!=null&&s.skipBrowserRedirect)&&window.location.assign(h.data.redirect_url),h})}catch(o){if(Q(o))return this._returnResult({data:null,error:o});throw o}}async _listOAuthGrants(){try{return await this._useSession(async r=>{const{data:{session:s},error:o}=r;return o?this._returnResult({data:null,error:o}):s?await te(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new pt})})}catch(r){if(Q(r))return this._returnResult({data:null,error:r});throw r}}async _revokeOAuthGrant(r){try{return await this._useSession(async s=>{const{data:{session:o},error:l}=s;return l?this._returnResult({data:null,error:l}):o?(await te(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:o.access_token,query:{client_id:r.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new pt})})}catch(s){if(Q(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(r,s={keys:[]}){let o=s.keys.find(f=>f.kid===r);if(o)return o;const l=Date.now();if(o=this.jwks.keys.find(f=>f.kid===r),o&&this.jwks_cached_at+hv>l)return o;const{data:c,error:h}=await te(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=l,o=c.keys.find(f=>f.kid===r),!o)?null:o}async getClaims(r,s={}){try{let o=r;if(!o){const{data:b,error:E}=await this.getSession();if(E||!b.session)return this._returnResult({data:null,error:E});o=b.session.access_token}const{header:l,payload:c,signature:h,raw:{header:f,payload:m}}=Vi(o);s!=null&&s.allowExpired||Iv(c.exp);const v=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,s!=null&&s.keys?{keys:s.keys}:s==null?void 0:s.jwks);if(!v){const{error:b}=await this.getUser(o);if(b)throw b;return{data:{claims:c,header:l,signature:h},error:null}}const y=Lv(l.alg),w=await crypto.subtle.importKey("jwk",v,y,!0,["verify"]);if(!await crypto.subtle.verify(y,w,h,xv(`${f}.${m}`)))throw new xl("Invalid JWT signature");return{data:{claims:c,header:l,signature:h},error:null}}catch(o){if(Q(o))return this._returnResult({data:null,error:o});throw o}}}Es.nextInstanceID={};const hy=Es,fy="2.97.0";let ms="";typeof Deno<"u"?ms="deno":typeof document<"u"?ms="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ms="react-native":ms="node";const py={"X-Client-Info":`supabase-js-${ms}/${fy}`},my={headers:py},gy={schema:"public"},vy={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},yy={};function js(n){"@babel/helpers - typeof";return js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},js(n)}function wy(n,r){if(js(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var o=s.call(n,r);if(js(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(n)}function _y(n){var r=wy(n,"string");return js(r)=="symbol"?r:r+""}function xy(n,r,s){return(r=_y(r))in n?Object.defineProperty(n,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[r]=s,n}function hh(n,r){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);r&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable})),s.push.apply(s,o)}return s}function Ne(n){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?hh(Object(s),!0).forEach(function(o){xy(n,o,s[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):hh(Object(s)).forEach(function(o){Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(s,o))})}return n}const ky=n=>n?(...r)=>n(...r):(...r)=>fetch(...r),Sy=()=>Headers,by=(n,r,s)=>{const o=ky(s),l=Sy();return async(c,h)=>{var f;const m=(f=await r())!==null&&f!==void 0?f:n;let v=new l(h==null?void 0:h.headers);return v.has("apikey")||v.set("apikey",n),v.has("Authorization")||v.set("Authorization",`Bearer ${m}`),o(c,Ne(Ne({},h),{},{headers:v}))}};function Ey(n){return n.endsWith("/")?n:n+"/"}function jy(n,r){var s,o;const{db:l,auth:c,realtime:h,global:f}=n,{db:m,auth:v,realtime:y,global:w}=r,x={db:Ne(Ne({},m),l),auth:Ne(Ne({},v),c),realtime:Ne(Ne({},y),h),storage:{},global:Ne(Ne(Ne({},w),f),{},{headers:Ne(Ne({},(s=w==null?void 0:w.headers)!==null&&s!==void 0?s:{}),(o=f==null?void 0:f.headers)!==null&&o!==void 0?o:{})}),accessToken:async()=>""};return n.accessToken?x.accessToken=n.accessToken:delete x.accessToken,x}function Cy(n){const r=n==null?void 0:n.trim();if(!r)throw new Error("supabaseUrl is required.");if(!r.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Ey(r))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Ny=class extends hy{constructor(n){super(n)}},Ty=class{constructor(n,r,s){var o,l;this.supabaseUrl=n,this.supabaseKey=r;const c=Cy(n);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const h=`sb-${c.hostname.split(".")[0]}-auth-token`,f={db:gy,realtime:yy,auth:Ne(Ne({},vy),{},{storageKey:h}),global:my},m=jy(s??{},f);if(this.storageKey=(o=m.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(l=m.global.headers)!==null&&l!==void 0?l:{},m.accessToken)this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(y,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}});else{var v;this.auth=this._initSupabaseAuthClient((v=m.auth)!==null&&v!==void 0?v:{},this.headers,m.global.fetch)}this.fetch=by(r,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Ne({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(y=>this.realtime.setAuth(y)).catch(y=>console.warn("Failed to set initial Realtime auth token:",y)),this.rest=new pg(new URL("rest/v1",c).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch,timeout:m.db.timeout,urlLengthLimit:m.db.urlLengthLimit}),this.storage=new av(this.storageUrl.href,this.headers,this.fetch,s==null?void 0:s.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new og(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,r={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,r,s)}channel(n,r={config:{}}){return this.realtime.channel(n,r)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var n=this,r,s;if(n.accessToken)return await n.accessToken();const{data:o}=await n.auth.getSession();return(r=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&r!==void 0?r:n.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:r,detectSessionInUrl:s,storage:o,userStorage:l,storageKey:c,flowType:h,lock:f,debug:m,throwOnError:v},y,w){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ny({url:this.authUrl.href,headers:Ne(Ne({},x),y),storageKey:c,autoRefreshToken:n,persistSession:r,detectSessionInUrl:s,storage:o,userStorage:l,flowType:h,lock:f,debug:m,throwOnError:v,fetch:w,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new Pg(this.realtimeUrl.href,Ne(Ne({},n),{},{params:Ne(Ne({},{apikey:this.supabaseKey}),n==null?void 0:n.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(n,r,s){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Ry=(n,r,s)=>new Ty(n,r,s);function Py(){if(typeof window<"u")return!1;const n=globalThis.process;if(!n)return!1;const r=n.version;if(r==null)return!1;const s=r.match(/^v(\d+)\./);return s?parseInt(s[1],10)<=18:!1}Py()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Oy="http://10.0.0.17:42225",Ay="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJhdXRoZW50aWNhdGVkIiwiZXhwIjoyMDg3NDQxMTkwLCJpYXQiOjE3NzIwODExOTAsImlzcyI6InN1cGFiYXNlIiwicm9sZSI6ImFub24ifQ.Rtwu8CWdl2hKW5Vze9jPyFXAyw88c3o-nAaBWcdE_cs",ae=Ry(Oy,Ay),Mh=A.createContext({});function Iy({children:n}){const[r,s]=A.useState(null),[o,l]=A.useState(null),[c,h]=A.useState(!0);A.useEffect(()=>{ae.auth.getSession().then(({data:{session:E}})=>{s((E==null?void 0:E.user)??null),E!=null&&E.user?f(E.user.id):h(!1)});const{data:{subscription:b}}=ae.auth.onAuthStateChange((E,C)=>{s((C==null?void 0:C.user)??null),C!=null&&C.user?f(C.user.id):(l(null),h(!1))});return()=>b.unsubscribe()},[]);async function f(b){try{const{data:E,error:C}=await ae.from("profiles").select("*").eq("id",b).single();C?console.error("Error fetching profile:",C):l(E)}catch(E){console.error("Error in fetchProfile:",E)}finally{h(!1)}}async function m(b,E){const{data:C,error:k}=await ae.auth.signUp({email:b,password:E});if(k)throw k;return C}async function v(b,E){const{data:C,error:k}=await ae.auth.signInWithPassword({email:b,password:E});if(k)throw k;return C}async function y(){const{error:b}=await ae.auth.signOut();if(b)throw b;s(null),l(null)}async function w(b){if(!r)return;const{data:E,error:C}=await ae.from("profiles").update(b).eq("id",r.id).select().single();if(C)throw C;return l(E),E}const x={user:r,profile:o,loading:c,signUp:m,signIn:v,signOut:y,updateProfile:w};return p.jsx(Mh.Provider,{value:x,children:n})}function kt(){return A.useContext(Mh)}function Ly(){const{user:n,profile:r,signOut:s}=kt(),o=Mr(),l=jn(),[c,h]=A.useState(0);A.useEffect(()=>{if(!n)return;const v=async()=>{const{count:w}=await ae.from("notifications").select("*",{count:"exact",head:!0}).eq("user_id",n.id).eq("read",!1);h(w||0)};v();const y=ae.channel("notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`user_id=eq.${n.id}`},()=>{v()}).subscribe();return()=>{ae.removeChannel(y)}},[n]);const f=async()=>{await s(),o("/login")},m=v=>v==="/"?l.pathname==="/":l.pathname.startsWith(v);return p.jsxs("div",{className:"min-h-screen bg-background-secondary",children:[p.jsx("nav",{className:"fixed top-0 left-0 right-0 bg-white border-b border-border z-50",children:p.jsx("div",{className:"max-w-6xl mx-auto px-4",children:p.jsxs("div",{className:"flex items-center justify-between h-16",children:[p.jsxs(tt,{to:"/",className:"flex items-center gap-2",children:[p.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary to-accent rounded-xl flex items-center justify-center",children:p.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),p.jsx("span",{className:"text-xl font-bold text-foreground",children:"Zeeter"})]}),p.jsx("div",{className:"flex-1 max-w-md mx-8",children:p.jsx(tt,{to:"/search",className:"w-full",children:p.jsxs("div",{className:"relative",children:[p.jsx("input",{type:"text",placeholder:"Search Zeeter...",readOnly:!0,className:"w-full px-4 py-2 pl-10 bg-background-tertiary border border-border rounded-lg text-foreground placeholder:text-foreground-muted focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent cursor-pointer"}),p.jsx("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-foreground-muted",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})})}),p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx(tt,{to:"/",className:`p-2 rounded-lg transition-colors ${m("/")&&l.pathname==="/"?"bg-primary-light text-primary":"text-foreground-secondary hover:bg-background-tertiary"}`,children:p.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})}),p.jsxs(tt,{to:"/notifications",className:`p-2 rounded-lg transition-colors relative ${m("/notifications")?"bg-primary-light text-primary":"text-foreground-secondary hover:bg-background-tertiary"}`,children:[p.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),c>0&&p.jsx("span",{className:"absolute -top-1 -right-1 bg-error text-white text-xs font-medium rounded-full h-5 w-5 flex items-center justify-center",children:c>9?"9+":c})]}),p.jsx(tt,{to:`/profile/${n==null?void 0:n.id}`,className:`p-2 rounded-lg transition-colors ${l.pathname.startsWith("/profile/")?"bg-primary-light text-primary":"text-foreground-secondary hover:bg-background-tertiary"}`,children:r!=null&&r.avatar_url?p.jsx("img",{src:r.avatar_url,alt:r.display_name||"Profile",className:"w-6 h-6 rounded-full object-cover"}):p.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),p.jsx("button",{onClick:f,className:"px-4 py-2 text-sm font-medium text-foreground-secondary hover:text-foreground hover:bg-background-tertiary rounded-lg transition-colors",children:"Sign Out"})]})]})})}),p.jsx("main",{className:"pt-20 pb-8",children:p.jsx("div",{className:"max-w-6xl mx-auto px-4",children:p.jsx(qm,{})})})]})}function Bh({post:n,onUpdate:r}){var rt,ut,Be,xe,F,Y,q,N,$,ie;const{user:s}=kt(),[o,l]=A.useState(((ut=(rt=n.likes)==null?void 0:rt[0])==null?void 0:ut.count)||0),[c,h]=A.useState(((xe=(Be=n.comments)==null?void 0:Be[0])==null?void 0:xe.count)||0),[f,m]=A.useState(!1),[v,y]=A.useState(!1),[w,x]=A.useState(""),[b,E]=A.useState([]),[C,k]=A.useState(!1),[O,L]=A.useState(n.content),[I,B]=A.useState(!1);A.useEffect(()=>{le()},[n.id,s]);const le=async()=>{if(!s)return;const{data:V}=await ae.from("likes").select("*").eq("post_id",n.id).eq("user_id",s.id).single();m(!!V)},se=async()=>{if(s)try{f?(await ae.from("likes").delete().eq("post_id",n.id).eq("user_id",s.id),l(o-1)):(await ae.from("likes").insert({post_id:n.id,user_id:s.id}),n.author_id!==s.id&&await ae.from("notifications").insert({user_id:n.author_id,type:"like",from_user_id:s.id,post_id:n.id}),l(o+1)),m(!f)}catch(V){console.error("Error toggling like:",V)}},ce=async()=>{B(!0);try{const{data:V}=await ae.from("comments").select(`
          *,
          profiles:author_id (
            id,
            display_name,
            avatar_url
          )
        `).eq("post_id",n.id).order("created_at",{ascending:!0});E(V||[])}catch(V){console.error("Error fetching comments:",V)}finally{B(!1)}},_e=()=>{v||ce(),y(!v)},re=async V=>{if(V.preventDefault(),!(!w.trim()||!s))try{const{data:oe,error:ue}=await ae.from("comments").insert({content:w.trim(),post_id:n.id,author_id:s.id}).select(`
          *,
          profiles:author_id (
            id,
            display_name,
            avatar_url
          )
        `).single();if(ue)throw ue;E([...b,oe]),h(c+1),x(""),n.author_id!==s.id&&await ae.from("notifications").insert({user_id:n.author_id,type:"comment",from_user_id:s.id,post_id:n.id})}catch(oe){console.error("Error adding comment:",oe)}},Oe=async()=>{if(confirm("Are you sure you want to delete this post?"))try{await ae.from("posts").delete().eq("id",n.id),r()}catch(V){console.error("Error deleting post:",V)}},St=async()=>{if(!(!O.trim()||O.length>280))try{await ae.from("posts").update({content:O.trim()}).eq("id",n.id),n.content=O.trim(),k(!1)}catch(V){console.error("Error updating post:",V)}},Ye=V=>{const oe=new Date(V),fe=new Date-oe,he=Math.floor(fe/6e4),ve=Math.floor(fe/36e5),He=Math.floor(fe/864e5);return he<1?"Just now":he<60?`${he}m`:ve<24?`${ve}h`:He<7?`${He}d`:oe.toLocaleDateString()},Xe=(s==null?void 0:s.id)===n.author_id;return p.jsx("div",{className:"bg-white rounded-xl border border-border p-4 shadow-sm hover:shadow-md transition-shadow animate-fade-in",children:p.jsxs("div",{className:"flex gap-4",children:[p.jsx(tt,{to:`/profile/${(F=n.profiles)==null?void 0:F.id}`,className:"flex-shrink-0",children:(Y=n.profiles)!=null&&Y.avatar_url?p.jsx("img",{src:n.profiles.avatar_url,alt:n.profiles.display_name,className:"w-12 h-12 rounded-full object-cover"}):p.jsx("div",{className:"w-12 h-12 rounded-full bg-background-tertiary flex items-center justify-center",children:p.jsx("svg",{className:"w-6 h-6 text-foreground-muted",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[p.jsx(tt,{to:`/profile/${(q=n.profiles)==null?void 0:q.id}`,className:"font-medium text-foreground hover:underline",children:((N=n.profiles)==null?void 0:N.display_name)||"Unknown"}),p.jsxs("span",{className:"text-foreground-muted text-sm",children:["@",(ie=($=n.profiles)==null?void 0:$.id)==null?void 0:ie.slice(0,8)]}),p.jsx("span",{className:"text-foreground-muted text-sm",children:""}),p.jsx("span",{className:"text-foreground-muted text-sm",children:Ye(n.created_at)}),Xe&&p.jsxs("div",{className:"ml-auto flex gap-2",children:[p.jsx("button",{onClick:()=>k(!0),className:"text-foreground-muted hover:text-primary transition-colors",children:p.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),p.jsx("button",{onClick:Oe,className:"text-foreground-muted hover:text-error transition-colors",children:p.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),C?p.jsxs("div",{className:"mb-3",children:[p.jsx("textarea",{value:O,onChange:V=>L(V.target.value),maxLength:280,className:"w-full px-3 py-2 bg-background-secondary border border-border rounded-lg text-foreground resize-none focus:outline-none focus:ring-2 focus:ring-primary",rows:3}),p.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[p.jsx("button",{onClick:()=>k(!1),className:"px-3 py-1 text-sm text-foreground-secondary hover:text-foreground",children:"Cancel"}),p.jsx("button",{onClick:St,disabled:!O.trim()||O.length>280,className:"px-3 py-1 text-sm bg-primary text-white rounded-lg disabled:opacity-50",children:"Save"})]})]}):p.jsx("p",{className:"text-foreground mb-3 whitespace-pre-wrap",children:n.content}),p.jsxs("div",{className:"flex items-center gap-4 text-foreground-muted",children:[p.jsxs("button",{onClick:se,className:`flex items-center gap-1 hover transition-colors ${f?"text-error":"hover:text-error"}`,children:[p.jsx("svg",{className:"w-5 h-5",fill:f?"currentColor":"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),p.jsx("span",{children:o})]}),p.jsxs("button",{onClick:_e,className:"flex items-center gap-1 hover:text-primary transition-colors",children:[p.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),p.jsx("span",{children:c})]})]}),v&&p.jsxs("div",{className:"mt-4 pt-4 border-t border-border",children:[p.jsx("form",{onSubmit:re,className:"mb-4",children:p.jsxs("div",{className:"flex gap-2",children:[p.jsx("input",{type:"text",value:w,onChange:V=>x(V.target.value),placeholder:"Write a comment...",maxLength:280,className:"flex-1 px-3 py-2 bg-background-secondary border border-border rounded-lg text-foreground placeholder:text-foreground-muted focus:outline-none focus:ring-2 focus:ring-primary"}),p.jsx("button",{type:"submit",disabled:!w.trim(),className:"px-4 py-2 bg-primary text-white rounded-lg disabled:opacity-50 hover:bg-primary-hover transition-colors",children:"Post"})]})}),I?p.jsx("div",{className:"text-center py-4",children:p.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-2 border-primary border-t-transparent mx-auto"})}):b.length===0?p.jsx("p",{className:"text-center text-foreground-muted py-4",children:"No comments yet"}):p.jsx("div",{className:"space-y-3",children:b.map(V=>{var oe,ue,fe,he;return p.jsxs("div",{className:"flex gap-2",children:[p.jsx(tt,{to:`/profile/${(oe=V.profiles)==null?void 0:oe.id}`,children:(ue=V.profiles)!=null&&ue.avatar_url?p.jsx("img",{src:V.profiles.avatar_url,alt:V.profiles.display_name,className:"w-8 h-8 rounded-full object-cover"}):p.jsx("div",{className:"w-8 h-8 rounded-full bg-background-tertiary flex items-center justify-center",children:p.jsx("svg",{className:"w-4 h-4 text-foreground-muted",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})}),p.jsxs("div",{className:"flex-1 bg-background-secondary rounded-lg px-3 py-2",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[p.jsx(tt,{to:`/profile/${(fe=V.profiles)==null?void 0:fe.id}`,className:"font-medium text-sm text-foreground hover:underline",children:((he=V.profiles)==null?void 0:he.display_name)||"Unknown"}),p.jsx("span",{className:"text-xs text-foreground-muted",children:Ye(V.created_at)})]}),p.jsx("p",{className:"text-sm text-foreground",children:V.content})]})]},V.id)})})]})]})]})})}function $y(){const{user:n,profile:r}=kt(),[s,o]=A.useState([]),[l,c]=A.useState(!0),[h,f]=A.useState(""),[m,v]=A.useState(!1),[y,w]=A.useState("newest");A.useEffect(()=>{x()},[y]);const x=async()=>{c(!0);try{let E=ae.from("posts").select(`
          *,
          profiles:author_id (
            id,
            display_name,
            avatar_url,
            bio
          ),
          likes:likes(count),
          comments:comments(count)
        `).eq("is_public",!0).order("created_at",{ascending:!1});y==="trending"&&(E=ae.from("posts").select(`
            *,
            profiles:author_id (
              id,
              display_name,
              avatar_url,
              bio
            ),
            likes:likes(count),
            comments:comments(count)
          `).eq("is_public",!0).order("created_at",{ascending:!1}));const{data:C,error:k}=await E.limit(50);if(k)throw k;o(C||[])}catch(E){console.error("Error fetching posts:",E)}finally{c(!1)}},b=async E=>{if(E.preventDefault(),!(!h.trim()||h.length>280)){v(!0);try{const{data:C,error:k}=await ae.from("posts").insert({content:h.trim(),author_id:n.id,is_public:!0}).select(`
          *,
          profiles:author_id (
            id,
            display_name,
            avatar_url,
            bio
          ),
          likes:likes(count),
          comments:comments(count)
        `).single();if(k)throw k;o([C,...s]),f("")}catch(C){console.error("Error creating post:",C)}finally{v(!1)}}};return p.jsxs("div",{className:"max-w-2xl mx-auto",children:[p.jsx("div",{className:"bg-white rounded-xl border border-border p-4 mb-6 shadow-sm",children:p.jsxs("div",{className:"flex gap-4",children:[r!=null&&r.avatar_url?p.jsx("img",{src:r.avatar_url,alt:r.display_name,className:"w-12 h-12 rounded-full object-cover flex-shrink-0"}):p.jsx("div",{className:"w-12 h-12 rounded-full bg-background-tertiary flex items-center justify-center flex-shrink-0",children:p.jsx("svg",{className:"w-6 h-6 text-foreground-muted",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),p.jsxs("form",{onSubmit:b,className:"flex-1",children:[p.jsx("textarea",{value:h,onChange:E=>f(E.target.value),placeholder:"What's happening?",maxLength:280,className:"w-full bg-transparent border-none text-foreground placeholder:text-foreground-muted resize-none focus:outline-none text-lg",rows:h?3:1}),p.jsxs("div",{className:"flex items-center justify-between mt-3 pt-3 border-t border-border",children:[p.jsxs("span",{className:`text-sm ${h.length>260?"text-error":"text-foreground-muted"}`,children:[h.length,"/280"]}),p.jsx("button",{type:"submit",disabled:!h.trim()||h.length>280||m,className:"px-4 py-2 bg-gradient-to-r from-primary to-primary-hover text-white font-medium rounded-lg hover:shadow-md transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:m?"Posting...":"Post"})]})]})]})}),p.jsxs("div",{className:"flex gap-2 mb-6",children:[p.jsx("button",{onClick:()=>w("newest"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${y==="newest"?"bg-primary text-white":"bg-white text-foreground-secondary hover:bg-background-tertiary border border-border"}`,children:"Newest"}),p.jsx("button",{onClick:()=>w("trending"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${y==="trending"?"bg-primary text-white":"bg-white text-foreground-secondary hover:bg-background-tertiary border border-border"}`,children:"Trending"})]}),l?p.jsx("div",{className:"space-y-4",children:[1,2,3].map(E=>p.jsx("div",{className:"bg-white rounded-xl border border-border p-4",children:p.jsxs("div",{className:"flex gap-4",children:[p.jsx("div",{className:"w-12 h-12 rounded-full bg-background-tertiary animate-pulse"}),p.jsxs("div",{className:"flex-1 space-y-3",children:[p.jsx("div",{className:"h-4 bg-background-tertiary rounded w-1/3 animate-pulse"}),p.jsx("div",{className:"h-4 bg-background-tertiary rounded w-full animate-pulse"}),p.jsx("div",{className:"h-4 bg-background-tertiary rounded w-2/3 animate-pulse"})]})]})},E))}):s.length===0?p.jsxs("div",{className:"bg-white rounded-xl border border-border p-8 text-center",children:[p.jsx("svg",{className:"w-16 h-16 mx-auto text-foreground-muted mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),p.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"No posts yet"}),p.jsx("p",{className:"text-foreground-secondary",children:"Be the first to share something!"})]}):p.jsx("div",{className:"space-y-4",children:s.map(E=>p.jsx(Bh,{post:E,onUpdate:x},E.id))})]})}function Uy(){const[n,r]=A.useState(""),[s,o]=A.useState(""),[l,c]=A.useState(""),[h,f]=A.useState(!1),{signIn:m}=kt(),v=Mr(),y=async w=>{w.preventDefault(),c(""),f(!0);try{const{user:x}=await m(n,s),{data:b}=await ae.from("profiles").select("display_name").eq("id",x.id).single();b!=null&&b.display_name?v("/"):v("/setup")}catch(x){c(x.message||"Failed to sign in")}finally{f(!1)}};return p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary/5 via-background-secondary to-accent/5 p-4",children:p.jsxs("div",{className:"w-full max-w-md",children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-primary to-accent rounded-2xl mb-4",children:p.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),p.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Welcome back"}),p.jsx("p",{className:"text-foreground-secondary mt-2",children:"Sign in to your account"})]}),p.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-border p-8",children:[p.jsxs("form",{onSubmit:y,className:"space-y-6",children:[l&&p.jsx("div",{className:"p-4 bg-error/10 border border-error/20 rounded-lg text-error text-sm",children:l}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-foreground mb-2",children:"Email"}),p.jsx("input",{id:"email",type:"email",value:n,onChange:w=>r(w.target.value),required:!0,className:"w-full px-4 py-3 bg-background-secondary border border-border rounded-lg text-foreground placeholder:text-foreground-muted focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-colors",placeholder:"you@example.com"})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-foreground mb-2",children:"Password"}),p.jsx("input",{id:"password",type:"password",value:s,onChange:w=>o(w.target.value),required:!0,className:"w-full px-4 py-3 bg-background-secondary border border-border rounded-lg text-foreground placeholder:text-foreground-muted focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-colors",placeholder:""})]}),p.jsx("button",{type:"submit",disabled:h,className:"w-full py-3 px-4 bg-gradient-to-r from-primary to-primary-hover text-white font-medium rounded-lg hover:shadow-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:h?p.jsxs(p.Fragment,{children:[p.jsxs("svg",{className:"animate-spin h-5 w-5",fill:"none",viewBox:"0 0 24 24",children:[p.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign In"})]}),p.jsx("div",{className:"mt-6 text-center",children:p.jsxs("p",{className:"text-foreground-secondary",children:["Don't have an account?"," ",p.jsx(tt,{to:"/signup",className:"text-primary font-medium hover:text-primary-hover transition-colors",children:"Sign up"})]})})]})]})})}function Dy(){const[n,r]=A.useState(""),[s,o]=A.useState(""),[l,c]=A.useState(""),[h,f]=A.useState(""),[m,v]=A.useState(!1),{signUp:y}=kt(),w=Mr(),x=async b=>{if(b.preventDefault(),f(""),s!==l){f("Passwords do not match");return}if(s.length<6){f("Password must be at least 6 characters");return}v(!0);try{const{user:E}=await y(n,s);E&&(await ae.from("profiles").insert([{id:E.id,email:E.email,created_at:new Date().toISOString()}]),w("/setup"))}catch(E){f(E.message||"Failed to sign up")}finally{v(!1)}};return p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary/5 via-background-secondary to-accent/5 p-4",children:p.jsxs("div",{className:"w-full max-w-md",children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-primary to-accent rounded-2xl mb-4",children:p.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),p.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Create an account"}),p.jsx("p",{className:"text-foreground-secondary mt-2",children:"Join the community today"})]}),p.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-border p-8",children:[p.jsxs("form",{onSubmit:x,className:"space-y-6",children:[h&&p.jsx("div",{className:"p-4 bg-error/10 border border-error/20 rounded-lg text-error text-sm",children:h}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-foreground mb-2",children:"Email"}),p.jsx("input",{id:"email",type:"email",value:n,onChange:b=>r(b.target.value),required:!0,className:"w-full px-4 py-3 bg-background-secondary border border-border rounded-lg text-foreground placeholder:text-foreground-muted focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-colors",placeholder:"you@example.com"})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-foreground mb-2",children:"Password"}),p.jsx("input",{id:"password",type:"password",value:s,onChange:b=>o(b.target.value),required:!0,minLength:6,className:"w-full px-4 py-3 bg-background-secondary border border-border rounded-lg text-foreground placeholder:text-foreground-muted focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-colors",placeholder:""})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-foreground mb-2",children:"Confirm Password"}),p.jsx("input",{id:"confirmPassword",type:"password",value:l,onChange:b=>c(b.target.value),required:!0,className:"w-full px-4 py-3 bg-background-secondary border border-border rounded-lg text-foreground placeholder:text-foreground-muted focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-colors",placeholder:""})]}),p.jsx("button",{type:"submit",disabled:m,className:"w-full py-3 px-4 bg-gradient-to-r from-primary to-primary-hover text-white font-medium rounded-lg hover:shadow-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:m?p.jsxs(p.Fragment,{children:[p.jsxs("svg",{className:"animate-spin h-5 w-5",fill:"none",viewBox:"0 0 24 24",children:[p.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating account..."]}):"Create Account"})]}),p.jsx("div",{className:"mt-6 text-center",children:p.jsxs("p",{className:"text-foreground-secondary",children:["Already have an account?"," ",p.jsx(tt,{to:"/login",className:"text-primary font-medium hover:text-primary-hover transition-colors",children:"Sign in"})]})})]})]})})}function zy(){const[n,r]=A.useState(""),[s,o]=A.useState(""),[l,c]=A.useState(""),[h,f]=A.useState(!1),[m,v]=A.useState(""),{user:y,updateProfile:w}=kt(),x=Mr(),b=async E=>{if(E.preventDefault(),v(""),!n.trim()){v("Display name is required");return}f(!0);try{const C={display_name:n.trim(),bio:s.trim(),avatar_url:l.trim()||null,updated_at:new Date().toISOString()};await w(C),x("/")}catch(C){v(C.message||"Failed to update profile")}finally{f(!1)}};return p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary/5 via-background-secondary to-accent/5 p-4",children:p.jsxs("div",{className:"w-full max-w-md",children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Set up your profile"}),p.jsx("p",{className:"text-foreground-secondary mt-2",children:"Tell us a bit about yourself"})]}),p.jsx("div",{className:"bg-white rounded-2xl shadow-lg border border-border p-8",children:p.jsxs("form",{onSubmit:b,className:"space-y-6",children:[m&&p.jsx("div",{className:"p-4 bg-error/10 border border-error/20 rounded-lg text-error text-sm",children:m}),p.jsx("div",{className:"flex justify-center",children:p.jsx("div",{className:"relative",children:l?p.jsx("img",{src:l,alt:"Avatar preview",className:"w-24 h-24 rounded-full object-cover border-4 border-primary/20"}):p.jsx("div",{className:"w-24 h-24 rounded-full bg-background-tertiary flex items-center justify-center border-4 border-primary/20",children:p.jsx("svg",{className:"w-12 h-12 text-foreground-muted",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})})}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"avatarUrl",className:"block text-sm font-medium text-foreground mb-2",children:"Avatar URL (optional)"}),p.jsx("input",{id:"avatarUrl",type:"url",value:l,onChange:E=>c(E.target.value),className:"w-full px-4 py-3 bg-background-secondary border border-border rounded-lg text-foreground placeholder:text-foreground-muted focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-colors",placeholder:"https://example.com/avatar.jpg"})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"displayName",className:"block text-sm font-medium text-foreground mb-2",children:"Display Name *"}),p.jsx("input",{id:"displayName",type:"text",value:n,onChange:E=>r(E.target.value),required:!0,maxLength:50,className:"w-full px-4 py-3 bg-background-secondary border border-border rounded-lg text-foreground placeholder:text-foreground-muted focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-colors",placeholder:"Your name"})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"bio",className:"block text-sm font-medium text-foreground mb-2",children:"Bio (optional)"}),p.jsx("textarea",{id:"bio",value:s,onChange:E=>o(E.target.value),maxLength:160,rows:3,className:"w-full px-4 py-3 bg-background-secondary border border-border rounded-lg text-foreground placeholder:text-foreground-muted focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-colors resize-none",placeholder:"Tell us about yourself..."}),p.jsxs("p",{className:"text-xs text-foreground-muted mt-1 text-right",children:[s.length,"/160"]})]}),p.jsx("button",{type:"submit",disabled:h,className:"w-full py-3 px-4 bg-gradient-to-r from-primary to-primary-hover text-white font-medium rounded-lg hover:shadow-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:h?p.jsxs(p.Fragment,{children:[p.jsxs("svg",{className:"animate-spin h-5 w-5",fill:"none",viewBox:"0 0 24 24",children:[p.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Setting up..."]}):"Complete Setup"})]})})]})})}function My(){const{userId:n}=Tm(),{user:r,profile:s}=kt(),[o,l]=A.useState(null),[c,h]=A.useState([]),[f,m]=A.useState(!0),[v,y]=A.useState(!1),[w,x]=A.useState(0),[b,E]=A.useState(0),[C,k]=A.useState(!1),[O,L]=A.useState({display_name:"",bio:"",avatar_url:""}),I=(r==null?void 0:r.id)===n;A.useEffect(()=>{B(),le(),!I&&r&&se()},[n,r]);const B=async()=>{try{const{data:re,error:Oe}=await ae.from("profiles").select("*").eq("id",n).single();if(Oe)throw Oe;l(re),L({display_name:re.display_name||"",bio:re.bio||"",avatar_url:re.avatar_url||""});const[St,Ye]=await Promise.all([ae.from("follows").select("*",{count:"exact",head:!0}).eq("following_id",n),ae.from("follows").select("*",{count:"exact",head:!0}).eq("follower_id",n)]);x(St.count||0),E(Ye.count||0)}catch(re){console.error("Error fetching profile:",re)}finally{m(!1)}},le=async()=>{try{const{data:re,error:Oe}=await ae.from("posts").select(`
          *,
          profiles:author_id (
            id,
            display_name,
            avatar_url,
            bio
          ),
          likes:likes(count),
          comments:comments(count)
        `).eq("author_id",n).order("created_at",{ascending:!1});if(Oe)throw Oe;h(re||[])}catch(re){console.error("Error fetching posts:",re)}},se=async()=>{const{data:re}=await ae.from("follows").select("*").eq("follower_id",r.id).eq("following_id",n).single();y(!!re)},ce=async()=>{if(r)try{v?(await ae.from("follows").delete().eq("follower_id",r.id).eq("following_id",n),x(w-1)):(await ae.from("follows").insert({follower_id:r.id,following_id:n}),n!==r.id&&await ae.from("notifications").insert({user_id:n,type:"follow",from_user_id:r.id}),x(w+1)),y(!v)}catch(re){console.error("Error toggling follow:",re)}},_e=async()=>{try{const{data:re,error:Oe}=await ae.from("profiles").update({display_name:O.display_name,bio:O.bio,avatar_url:O.avatar_url||null,updated_at:new Date().toISOString()}).eq("id",r.id).select().single();if(Oe)throw Oe;l(re),k(!1)}catch(re){console.error("Error updating profile:",re)}};return f?p.jsx("div",{className:"max-w-2xl mx-auto",children:p.jsx("div",{className:"bg-white rounded-xl border border-border p-6 mb-6",children:p.jsxs("div",{className:"flex gap-4",children:[p.jsx("div",{className:"w-24 h-24 rounded-full bg-background-tertiary animate-pulse"}),p.jsxs("div",{className:"flex-1 space-y-3",children:[p.jsx("div",{className:"h-6 bg-background-tertiary rounded w-1/3 animate-pulse"}),p.jsx("div",{className:"h-4 bg-background-tertiary rounded w-1/2 animate-pulse"})]})]})})}):o?p.jsxs("div",{className:"max-w-2xl mx-auto",children:[p.jsx("div",{className:"bg-white rounded-xl border border-border p-6 mb-6 shadow-sm",children:C?p.jsxs("div",{className:"space-y-4",children:[p.jsx("div",{className:"flex justify-center",children:O.avatar_url?p.jsx("img",{src:O.avatar_url,alt:"Avatar preview",className:"w-24 h-24 rounded-full object-cover border-4 border-primary/20"}):p.jsx("div",{className:"w-24 h-24 rounded-full bg-background-tertiary flex items-center justify-center border-4 border-primary/20",children:p.jsx("svg",{className:"w-12 h-12 text-foreground-muted",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Avatar URL"}),p.jsx("input",{type:"url",value:O.avatar_url,onChange:re=>L({...O,avatar_url:re.target.value}),className:"w-full px-3 py-2 bg-background-secondary border border-border rounded-lg"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Display Name"}),p.jsx("input",{type:"text",value:O.display_name,onChange:re=>L({...O,display_name:re.target.value}),maxLength:50,className:"w-full px-3 py-2 bg-background-secondary border border-border rounded-lg"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Bio"}),p.jsx("textarea",{value:O.bio,onChange:re=>L({...O,bio:re.target.value}),maxLength:160,rows:3,className:"w-full px-3 py-2 bg-background-secondary border border-border rounded-lg resize-none"})]}),p.jsxs("div",{className:"flex gap-2 justify-end",children:[p.jsx("button",{onClick:()=>k(!1),className:"px-4 py-2 text-foreground-secondary hover:text-foreground",children:"Cancel"}),p.jsx("button",{onClick:_e,className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-hover",children:"Save"})]})]}):p.jsx(p.Fragment,{children:p.jsxs("div",{className:"flex gap-4",children:[o.avatar_url?p.jsx("img",{src:o.avatar_url,alt:o.display_name,className:"w-24 h-24 rounded-full object-cover"}):p.jsx("div",{className:"w-24 h-24 rounded-full bg-background-tertiary flex items-center justify-center",children:p.jsx("svg",{className:"w-12 h-12 text-foreground-muted",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"flex items-start justify-between",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-2xl font-bold text-foreground",children:o.display_name}),p.jsxs("p",{className:"text-foreground-muted",children:["@",n.slice(0,8)]})]}),I?p.jsx("button",{onClick:()=>k(!0),className:"px-4 py-2 border border-border rounded-lg font-medium text-foreground hover:bg-background-secondary transition-colors",children:"Edit Profile"}):r?p.jsx("button",{onClick:ce,className:`px-4 py-2 rounded-lg font-medium transition-colors ${v?"border border-border text-foreground hover:bg-error/10 hover:text-error hover:border-error":"bg-primary text-white hover:bg-primary-hover"}`,children:v?"Following":"Follow"}):null]}),o.bio&&p.jsx("p",{className:"mt-3 text-foreground",children:o.bio}),p.jsxs("div",{className:"flex gap-4 mt-4",children:[p.jsxs("div",{children:[p.jsx("span",{className:"font-bold text-foreground",children:c.length}),p.jsx("span",{className:"text-foreground-muted ml-1",children:"posts"})]}),p.jsxs("div",{children:[p.jsx("span",{className:"font-bold text-foreground",children:w}),p.jsx("span",{className:"text-foreground-muted ml-1",children:"followers"})]}),p.jsxs("div",{children:[p.jsx("span",{className:"font-bold text-foreground",children:b}),p.jsx("span",{className:"text-foreground-muted ml-1",children:"following"})]})]})]})]})})}),p.jsxs("div",{className:"space-y-4",children:[p.jsx("h2",{className:"text-lg font-semibold text-foreground mb-4",children:"Posts"}),c.length===0?p.jsx("div",{className:"bg-white rounded-xl border border-border p-8 text-center",children:p.jsx("p",{className:"text-foreground-secondary",children:"No posts yet"})}):c.map(re=>p.jsx(Bh,{post:re,onUpdate:le},re.id))]})]}):p.jsxs("div",{className:"max-w-2xl mx-auto text-center py-12",children:[p.jsx("h2",{className:"text-xl font-medium text-foreground mb-2",children:"Profile not found"}),p.jsx("p",{className:"text-foreground-secondary",children:"This user doesn't exist."})]})}function By(){const{user:n}=kt(),[r,s]=A.useState([]),[o,l]=A.useState(!0);A.useEffect(()=>{c()},[n]);const c=async()=>{if(n)try{const{data:w,error:x}=await ae.from("notifications").select(`
          *,
          from_user:from_user_id (
            id,
            display_name,
            avatar_url
          ),
          post:post_id (
            id,
            content
          )
        `).eq("user_id",n.id).order("created_at",{ascending:!1}).limit(50);if(x)throw x;s(w||[])}catch(w){console.error("Error fetching notifications:",w)}finally{l(!1)}},h=async w=>{try{await ae.from("notifications").update({read:!0}).eq("id",w),s(r.map(x=>x.id===w?{...x,read:!0}:x))}catch(x){console.error("Error marking notification as read:",x)}},f=async()=>{try{await ae.from("notifications").update({read:!0}).eq("user_id",n.id).eq("read",!1),s(r.map(w=>({...w,read:!0})))}catch(w){console.error("Error marking all as read:",w)}},m=w=>{const x=new Date(w),E=new Date-x,C=Math.floor(E/6e4),k=Math.floor(E/36e5),O=Math.floor(E/864e5);return C<1?"Just now":C<60?`${C}m ago`:k<24?`${k}h ago`:O<7?`${O}d ago`:x.toLocaleDateString()},v=w=>{var b;const x=((b=w.from_user)==null?void 0:b.display_name)||"Someone";switch(w.type){case"like":return p.jsxs(p.Fragment,{children:[p.jsx("span",{className:"font-medium text-foreground",children:x})," liked your post"]});case"comment":return p.jsxs(p.Fragment,{children:[p.jsx("span",{className:"font-medium text-foreground",children:x})," commented on your post"]});case"follow":return p.jsxs(p.Fragment,{children:[p.jsx("span",{className:"font-medium text-foreground",children:x})," started following you"]});default:return"New notification"}},y=r.filter(w=>!w.read).length;return p.jsxs("div",{className:"max-w-2xl mx-auto",children:[p.jsxs("div",{className:"flex items-center justify-between mb-6",children:[p.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Notifications"}),y>0&&p.jsx("button",{onClick:f,className:"text-sm text-primary hover:text-primary-hover transition-colors",children:"Mark all as read"})]}),o?p.jsx("div",{className:"space-y-4",children:[1,2,3,4,5].map(w=>p.jsx("div",{className:"bg-white rounded-xl border border-border p-4",children:p.jsxs("div",{className:"flex gap-4",children:[p.jsx("div",{className:"w-10 h-10 rounded-full bg-background-tertiary animate-pulse"}),p.jsxs("div",{className:"flex-1 space-y-2",children:[p.jsx("div",{className:"h-4 bg-background-tertiary rounded w-2/3 animate-pulse"}),p.jsx("div",{className:"h-3 bg-background-tertiary rounded w-1/3 animate-pulse"})]})]})},w))}):r.length===0?p.jsxs("div",{className:"bg-white rounded-xl border border-border p-8 text-center",children:[p.jsx("svg",{className:"w-16 h-16 mx-auto text-foreground-muted mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),p.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"No notifications"}),p.jsx("p",{className:"text-foreground-secondary",children:"You're all caught up!"})]}):p.jsx("div",{className:"space-y-2",children:r.map(w=>{var x,b,E,C,k;return p.jsx(tt,{to:(x=w.post)!=null&&x.id?`/profile/${(b=w.from_user)==null?void 0:b.id}`:`/profile/${(E=w.from_user)==null?void 0:E.id}`,onClick:()=>h(w.id),className:`block bg-white rounded-xl border border-border p-4 hover:shadow-md transition-all ${w.read?"":"border-l-4 border-l-primary"}`,children:p.jsxs("div",{className:"flex gap-4",children:[p.jsxs("div",{className:"relative flex-shrink-0",children:[(C=w.from_user)!=null&&C.avatar_url?p.jsx("img",{src:w.from_user.avatar_url,alt:w.from_user.display_name,className:"w-10 h-10 rounded-full object-cover"}):p.jsx("div",{className:"w-10 h-10 rounded-full bg-background-tertiary flex items-center justify-center",children:p.jsx("svg",{className:"w-5 h-5 text-foreground-muted",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),p.jsxs("div",{className:"absolute -bottom-1 -right-1 w-5 h-5 rounded-full bg-white border-2 border-white flex items-center justify-center",children:[w.type==="like"&&p.jsx("svg",{className:"w-3 h-3 text-error",fill:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),w.type==="comment"&&p.jsx("svg",{className:"w-3 h-3 text-primary",fill:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),w.type==="follow"&&p.jsx("svg",{className:"w-3 h-3 text-accent",fill:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})})]})]}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("p",{className:"text-foreground text-sm",children:v(w)}),((k=w.post)==null?void 0:k.content)&&p.jsxs("p",{className:"text-foreground-muted text-sm mt-1 truncate",children:['"',w.post.content,'"']}),p.jsx("p",{className:"text-foreground-muted text-xs mt-1",children:m(w.created_at)})]}),!w.read&&p.jsx("div",{className:"w-2 h-2 rounded-full bg-primary flex-shrink-0 mt-2"})]})},w.id)})})]})}function Fy(){const{user:n}=kt(),[r,s]=A.useState(""),[o,l]=A.useState([]),[c,h]=A.useState([]),[f,m]=A.useState(!1),[v,y]=A.useState("all");Mr(),A.useEffect(()=>{const O=new URLSearchParams(window.location.search).get("q");O&&(s(O),w(O))},[]);const w=async k=>{if(!k.trim()){l([]),h([]);return}m(!0);try{const{data:O}=await ae.from("profiles").select("*").or(`display_name.ilike.%${k}%,bio.ilike.%${k}%`).limit(20),{data:L}=await ae.from("posts").select(`
          *,
          profiles:author_id (
            id,
            display_name,
            avatar_url,
            bio
          ),
          likes:likes(count),
          comments:comments(count)
        `).or(`content.ilike.%${k}%`).eq("is_public",!0).order("created_at",{ascending:!1}).limit(20);l(O||[]),h(L||[])}catch(O){console.error("Error searching:",O)}finally{m(!1)}},x=k=>{k.preventDefault(),w(r);const O=new URL(window.location.href);O.searchParams.set("q",r),window.history.pushState({},"",O)},b=async(k,O)=>{if(n)try{O?await ae.from("follows").delete().eq("follower_id",n.id).eq("following_id",k):(await ae.from("follows").insert({follower_id:n.id,following_id:k}),k!==n.id&&await ae.from("notifications").insert({user_id:k,type:"follow",from_user_id:n.id})),l(o.map(L=>L.id===k?{...L,is_following:!O}:L))}catch(L){console.error("Error toggling follow:",L)}};A.useEffect(()=>{if(!n||o.length===0)return;(async()=>{const O=o.map(B=>B.id),{data:L}=await ae.from("follows").select("following_id").eq("follower_id",n.id).in("following_id",O),I=new Set(L.map(B=>B.following_id));l(o.map(B=>({...B,is_following:I.has(B.id)})))})()},[n,o.length]);const E=v==="users"||v==="all"?o:[],C=v==="posts"||v==="all"?c:[];return p.jsxs("div",{className:"max-w-2xl mx-auto",children:[p.jsx("div",{className:"bg-white rounded-xl border border-border p-4 mb-6 shadow-sm",children:p.jsxs("form",{onSubmit:x,className:"flex gap-2",children:[p.jsxs("div",{className:"relative flex-1",children:[p.jsx("input",{type:"text",value:r,onChange:k=>s(k.target.value),placeholder:"Search for users or posts...",className:"w-full px-4 py-3 pl-10 bg-background-secondary border border-border rounded-lg text-foreground placeholder:text-foreground-muted focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"}),p.jsx("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-foreground-muted",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),p.jsx("button",{type:"submit",className:"px-6 py-3 bg-primary text-white font-medium rounded-lg hover:bg-primary-hover transition-colors",children:"Search"})]})}),(o.length>0||c.length>0)&&p.jsxs("div",{className:"flex gap-2 mb-6",children:[p.jsx("button",{onClick:()=>y("all"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${v==="all"?"bg-primary text-white":"bg-white text-foreground-secondary hover:bg-background-tertiary border border-border"}`,children:"All"}),p.jsxs("button",{onClick:()=>y("users"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${v==="users"?"bg-primary text-white":"bg-white text-foreground-secondary hover:bg-background-tertiary border border-border"}`,children:["Users (",o.length,")"]}),p.jsxs("button",{onClick:()=>y("posts"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${v==="posts"?"bg-primary text-white":"bg-white text-foreground-secondary hover:bg-background-tertiary border border-border"}`,children:["Posts (",c.length,")"]})]}),f&&p.jsx("div",{className:"space-y-4",children:[1,2,3].map(k=>p.jsxs("div",{className:"bg-white rounded-xl border border-border p-4 animate-pulse",children:[p.jsx("div",{className:"h-4 bg-background-tertiary rounded w-1/3 mb-2"}),p.jsx("div",{className:"h-3 bg-background-tertiary rounded w-1/2"})]},k))}),!f&&r&&p.jsxs(p.Fragment,{children:[E.length>0&&p.jsxs("div",{className:"mb-8",children:[p.jsx("h2",{className:"text-lg font-semibold text-foreground mb-4",children:"Users"}),p.jsx("div",{className:"space-y-2",children:E.map(k=>p.jsx("div",{className:"bg-white rounded-xl border border-border p-4 hover:shadow-md transition-shadow",children:p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx(tt,{to:`/profile/${k.id}`,children:k.avatar_url?p.jsx("img",{src:k.avatar_url,alt:k.display_name,className:"w-12 h-12 rounded-full object-cover"}):p.jsx("div",{className:"w-12 h-12 rounded-full bg-background-tertiary flex items-center justify-center",children:p.jsx("svg",{className:"w-6 h-6 text-foreground-muted",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx(tt,{to:`/profile/${k.id}`,className:"font-medium text-foreground hover:underline block",children:k.display_name}),k.bio&&p.jsx("p",{className:"text-sm text-foreground-muted truncate",children:k.bio})]}),n&&n.id!==k.id&&p.jsx("button",{onClick:()=>b(k.id,k.is_following),className:`px-4 py-2 rounded-lg font-medium transition-colors ${k.is_following?"border border-border text-foreground hover:bg-error/10 hover:text-error hover:border-error":"bg-primary text-white hover:bg-primary-hover"}`,children:k.is_following?"Following":"Follow"})]})},k.id))})]}),C.length>0&&p.jsxs("div",{children:[p.jsx("h2",{className:"text-lg font-semibold text-foreground mb-4",children:"Posts"}),p.jsx("div",{className:"space-y-4",children:C.map(k=>{var O,L,I,B;return p.jsx(tt,{to:`/profile/${k.author_id}`,className:"block bg-white rounded-xl border border-border p-4 hover:shadow-md transition-shadow",children:p.jsxs("div",{className:"flex gap-4",children:[(O=k.profiles)!=null&&O.avatar_url?p.jsx("img",{src:k.profiles.avatar_url,alt:k.profiles.display_name,className:"w-10 h-10 rounded-full object-cover flex-shrink-0"}):p.jsx("div",{className:"w-10 h-10 rounded-full bg-background-tertiary flex items-center justify-center flex-shrink-0",children:p.jsx("svg",{className:"w-5 h-5 text-foreground-muted",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[p.jsx("span",{className:"font-medium text-foreground",children:(L=k.profiles)==null?void 0:L.display_name}),p.jsxs("span",{className:"text-foreground-muted text-sm",children:["@",(B=(I=k.profiles)==null?void 0:I.id)==null?void 0:B.slice(0,8)]})]}),p.jsx("p",{className:"text-foreground line-clamp-3",children:k.content})]})]})},k.id)})})]}),E.length===0&&C.length===0&&p.jsxs("div",{className:"bg-white rounded-xl border border-border p-8 text-center",children:[p.jsx("svg",{className:"w-16 h-16 mx-auto text-foreground-muted mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),p.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"No results found"}),p.jsx("p",{className:"text-foreground-secondary",children:"Try different keywords"})]})]}),!f&&!r&&p.jsxs("div",{className:"bg-white rounded-xl border border-border p-8 text-center",children:[p.jsx("svg",{className:"w-16 h-16 mx-auto text-foreground-muted mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),p.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"Search for anything"}),p.jsx("p",{className:"text-foreground-secondary",children:"Find users and posts"})]})]})}function Wy({children:n}){const{user:r,loading:s}=kt();return s?p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background-secondary",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-primary border-t-transparent"})}):r?n:p.jsx(Ki,{to:"/login",replace:!0})}function fh({children:n}){const{user:r,loading:s}=kt();return s?p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background-secondary",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-primary border-t-transparent"})}):r?p.jsx(Ki,{to:"/",replace:!0}):n}function qy({children:n}){const{user:r,profile:s,loading:o}=kt();return o?p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background-secondary",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-primary border-t-transparent"})}):r?s&&s.display_name?p.jsx(Ki,{to:"/",replace:!0}):n:p.jsx(Ki,{to:"/login",replace:!0})}function Vy(){return p.jsxs(Hm,{children:[p.jsx(Gt,{path:"/login",element:p.jsx(fh,{children:p.jsx(Uy,{})})}),p.jsx(Gt,{path:"/signup",element:p.jsx(fh,{children:p.jsx(Dy,{})})}),p.jsx(Gt,{path:"/setup",element:p.jsx(qy,{children:p.jsx(zy,{})})}),p.jsxs(Gt,{path:"/",element:p.jsx(Wy,{children:p.jsx(Ly,{})}),children:[p.jsx(Gt,{index:!0,element:p.jsx($y,{})}),p.jsx(Gt,{path:"notifications",element:p.jsx(By,{})}),p.jsx(Gt,{path:"search",element:p.jsx(Fy,{})}),p.jsx(Gt,{path:"profile/:userId",element:p.jsx(My,{})})]})]})}function Hy(){return p.jsx(Zm,{children:p.jsx(Iy,{children:p.jsx(Vy,{})})})}Qp.createRoot(document.getElementById("root")).render(p.jsx(A.StrictMode,{children:p.jsx(Hy,{})}));
